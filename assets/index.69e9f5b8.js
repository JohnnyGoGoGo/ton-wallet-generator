var Iu=Object.defineProperty;var ss=Object.getOwnPropertySymbols;var Tu=Object.prototype.hasOwnProperty,Nu=Object.prototype.propertyIsEnumerable;var as=(r,t,e)=>t in r?Iu(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,fs=(r,t)=>{for(var e in t||(t={}))Tu.call(t,e)&&as(r,e,t[e]);if(ss)for(var e of ss(t))Nu.call(t,e)&&as(r,e,t[e]);return r};var Ru=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var Zg=Ru((w5,ci)=>{const Uu=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}};Uu();var Na=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Br(r){if(r.__esModule)return r;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(e){var n=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:function(){return r[e]}})}),t}function Ra(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ua={},Ci={};Ci.byteLength=Ou;Ci.toByteArray=Pu;Ci.fromByteArray=Hu;var yr=[],nr=[],$u=typeof Uint8Array!="undefined"?Uint8Array:Array,Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Kr=0,ku=Pi.length;Kr<ku;++Kr)yr[Kr]=Pi[Kr],nr[Pi.charCodeAt(Kr)]=Kr;nr["-".charCodeAt(0)]=62;nr["_".charCodeAt(0)]=63;function $a(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function Ou(r){var t=$a(r),e=t[0],n=t[1];return(e+n)*3/4-n}function Lu(r,t,e){return(t+e)*3/4-e}function Pu(r){var t,e=$a(r),n=e[0],o=e[1],i=new $u(Lu(r,n,o)),f=0,b=o>0?n-4:n,A;for(A=0;A<b;A+=4)t=nr[r.charCodeAt(A)]<<18|nr[r.charCodeAt(A+1)]<<12|nr[r.charCodeAt(A+2)]<<6|nr[r.charCodeAt(A+3)],i[f++]=t>>16&255,i[f++]=t>>8&255,i[f++]=t&255;return o===2&&(t=nr[r.charCodeAt(A)]<<2|nr[r.charCodeAt(A+1)]>>4,i[f++]=t&255),o===1&&(t=nr[r.charCodeAt(A)]<<10|nr[r.charCodeAt(A+1)]<<4|nr[r.charCodeAt(A+2)]>>2,i[f++]=t>>8&255,i[f++]=t&255),i}function ju(r){return yr[r>>18&63]+yr[r>>12&63]+yr[r>>6&63]+yr[r&63]}function qu(r,t,e){for(var n,o=[],i=t;i<e;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),o.push(ju(n));return o.join("")}function Hu(r){for(var t,e=r.length,n=e%3,o=[],i=16383,f=0,b=e-n;f<b;f+=i)o.push(qu(r,f,f+i>b?b:f+i));return n===1?(t=r[e-1],o.push(yr[t>>2]+yr[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],o.push(yr[t>>10]+yr[t>>4&63]+yr[t<<2&63]+"=")),o.join("")}var Bo={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Bo.read=function(r,t,e,n,o){var i,f,b=o*8-n-1,A=(1<<b)-1,k=A>>1,N=-7,V=e?o-1:0,K=e?-1:1,Z=r[t+V];for(V+=K,i=Z&(1<<-N)-1,Z>>=-N,N+=b;N>0;i=i*256+r[t+V],V+=K,N-=8);for(f=i&(1<<-N)-1,i>>=-N,N+=n;N>0;f=f*256+r[t+V],V+=K,N-=8);if(i===0)i=1-k;else{if(i===A)return f?NaN:(Z?-1:1)*(1/0);f=f+Math.pow(2,n),i=i-k}return(Z?-1:1)*f*Math.pow(2,i-n)};Bo.write=function(r,t,e,n,o,i){var f,b,A,k=i*8-o-1,N=(1<<k)-1,V=N>>1,K=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,Z=n?0:i-1,xt=n?1:-1,Ut=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(b=isNaN(t)?1:0,f=N):(f=Math.floor(Math.log(t)/Math.LN2),t*(A=Math.pow(2,-f))<1&&(f--,A*=2),f+V>=1?t+=K/A:t+=K*Math.pow(2,1-V),t*A>=2&&(f++,A/=2),f+V>=N?(b=0,f=N):f+V>=1?(b=(t*A-1)*Math.pow(2,o),f=f+V):(b=t*Math.pow(2,V-1)*Math.pow(2,o),f=0));o>=8;r[e+Z]=b&255,Z+=xt,b/=256,o-=8);for(f=f<<o|b,k+=o;k>0;r[e+Z]=f&255,Z+=xt,f/=256,k-=8);r[e+Z-xt]|=Ut*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=Ci,e=Bo,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=b,r.SlowBuffer=Gt,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,b.TYPED_ARRAY_SUPPORT=i(),!b.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const I=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(I,p),I.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(!!b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(!!b.isBuffer(this))return this.byteOffset}});function f(I){if(I>o)throw new RangeError('The value "'+I+'" is invalid for option "size"');const p=new Uint8Array(I);return Object.setPrototypeOf(p,b.prototype),p}function b(I,p,g){if(typeof I=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return V(I)}return A(I,p,g)}b.poolSize=8192;function A(I,p,g){if(typeof I=="string")return K(I,p);if(ArrayBuffer.isView(I))return xt(I);if(I==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(pe(I,ArrayBuffer)||I&&pe(I.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(pe(I,SharedArrayBuffer)||I&&pe(I.buffer,SharedArrayBuffer)))return Ut(I,p,g);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=I.valueOf&&I.valueOf();if($!=null&&$!==I)return b.from($,p,g);const H=Ct(I);if(H)return H;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return b.from(I[Symbol.toPrimitive]("string"),p,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}b.from=function(I,p,g){return A(I,p,g)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function k(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function N(I,p,g){return k(I),I<=0?f(I):p!==void 0?typeof g=="string"?f(I).fill(p,g):f(I).fill(p):f(I)}b.alloc=function(I,p,g){return N(I,p,g)};function V(I){return k(I),f(I<0?0:Dt(I)|0)}b.allocUnsafe=function(I){return V(I)},b.allocUnsafeSlow=function(I){return V(I)};function K(I,p){if((typeof p!="string"||p==="")&&(p="utf8"),!b.isEncoding(p))throw new TypeError("Unknown encoding: "+p);const g=ue(I,p)|0;let $=f(g);const H=$.write(I,p);return H!==g&&($=$.slice(0,H)),$}function Z(I){const p=I.length<0?0:Dt(I.length)|0,g=f(p);for(let $=0;$<p;$+=1)g[$]=I[$]&255;return g}function xt(I){if(pe(I,Uint8Array)){const p=new Uint8Array(I);return Ut(p.buffer,p.byteOffset,p.byteLength)}return Z(I)}function Ut(I,p,g){if(p<0||I.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<p+(g||0))throw new RangeError('"length" is outside of buffer bounds');let $;return p===void 0&&g===void 0?$=new Uint8Array(I):g===void 0?$=new Uint8Array(I,p):$=new Uint8Array(I,p,g),Object.setPrototypeOf($,b.prototype),$}function Ct(I){if(b.isBuffer(I)){const p=Dt(I.length)|0,g=f(p);return g.length===0||I.copy(g,0,0,p),g}if(I.length!==void 0)return typeof I.length!="number"||Pt(I.length)?f(0):Z(I);if(I.type==="Buffer"&&Array.isArray(I.data))return Z(I.data)}function Dt(I){if(I>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return I|0}function Gt(I){return+I!=I&&(I=0),b.alloc(+I)}b.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==b.prototype},b.compare=function(p,g){if(pe(p,Uint8Array)&&(p=b.from(p,p.offset,p.byteLength)),pe(g,Uint8Array)&&(g=b.from(g,g.offset,g.byteLength)),!b.isBuffer(p)||!b.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===g)return 0;let $=p.length,H=g.length;for(let G=0,it=Math.min($,H);G<it;++G)if(p[G]!==g[G]){$=p[G],H=g[G];break}return $<H?-1:H<$?1:0},b.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(p,g){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return b.alloc(0);let $;if(g===void 0)for(g=0,$=0;$<p.length;++$)g+=p[$].length;const H=b.allocUnsafe(g);let G=0;for($=0;$<p.length;++$){let it=p[$];if(pe(it,Uint8Array))G+it.length>H.length?(b.isBuffer(it)||(it=b.from(it)),it.copy(H,G)):Uint8Array.prototype.set.call(H,it,G);else if(b.isBuffer(it))it.copy(H,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=it.length}return H};function ue(I,p){if(b.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||pe(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);const g=I.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&g===0)return 0;let H=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return ie(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return zt(I).length;default:if(H)return $?-1:ie(I).length;p=(""+p).toLowerCase(),H=!0}}b.byteLength=ue;function le(I,p,g){let $=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,p>>>=0,g<=p))return"";for(I||(I="utf8");;)switch(I){case"hex":return h(this,p,g);case"utf8":case"utf-8":return u(this,p,g);case"ascii":return _(this,p,g);case"latin1":case"binary":return E(this,p,g);case"base64":return s(this,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,p,g);default:if($)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),$=!0}}b.prototype._isBuffer=!0;function $t(I,p,g){const $=I[p];I[p]=I[g],I[g]=$}b.prototype.swap16=function(){const p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<p;g+=2)$t(this,g,g+1);return this},b.prototype.swap32=function(){const p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<p;g+=4)$t(this,g,g+3),$t(this,g+1,g+2);return this},b.prototype.swap64=function(){const p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<p;g+=8)$t(this,g,g+7),$t(this,g+1,g+6),$t(this,g+2,g+5),$t(this,g+3,g+4);return this},b.prototype.toString=function(){const p=this.length;return p===0?"":arguments.length===0?u(this,0,p):le.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(p){if(!b.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:b.compare(this,p)===0},b.prototype.inspect=function(){let p="";const g=r.INSPECT_MAX_BYTES;return p=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(p+=" ... "),"<Buffer "+p+">"},n&&(b.prototype[n]=b.prototype.inspect),b.prototype.compare=function(p,g,$,H,G){if(pe(p,Uint8Array)&&(p=b.from(p,p.offset,p.byteLength)),!b.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(g===void 0&&(g=0),$===void 0&&($=p?p.length:0),H===void 0&&(H=0),G===void 0&&(G=this.length),g<0||$>p.length||H<0||G>this.length)throw new RangeError("out of range index");if(H>=G&&g>=$)return 0;if(H>=G)return-1;if(g>=$)return 1;if(g>>>=0,$>>>=0,H>>>=0,G>>>=0,this===p)return 0;let it=G-H,kt=$-g;const Nt=Math.min(it,kt),qt=this.slice(H,G),Yt=p.slice(g,$);for(let St=0;St<Nt;++St)if(qt[St]!==Yt[St]){it=qt[St],kt=Yt[St];break}return it<kt?-1:kt<it?1:0};function re(I,p,g,$,H){if(I.length===0)return-1;if(typeof g=="string"?($=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,Pt(g)&&(g=H?0:I.length-1),g<0&&(g=I.length+g),g>=I.length){if(H)return-1;g=I.length-1}else if(g<0)if(H)g=0;else return-1;if(typeof p=="string"&&(p=b.from(p,$)),b.isBuffer(p))return p.length===0?-1:ne(I,p,g,$,H);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(I,p,g):Uint8Array.prototype.lastIndexOf.call(I,p,g):ne(I,[p],g,$,H);throw new TypeError("val must be string, number or Buffer")}function ne(I,p,g,$,H){let G=1,it=I.length,kt=p.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(I.length<2||p.length<2)return-1;G=2,it/=2,kt/=2,g/=2}function Nt(Yt,St){return G===1?Yt[St]:Yt.readUInt16BE(St*G)}let qt;if(H){let Yt=-1;for(qt=g;qt<it;qt++)if(Nt(I,qt)===Nt(p,Yt===-1?0:qt-Yt)){if(Yt===-1&&(Yt=qt),qt-Yt+1===kt)return Yt*G}else Yt!==-1&&(qt-=qt-Yt),Yt=-1}else for(g+kt>it&&(g=it-kt),qt=g;qt>=0;qt--){let Yt=!0;for(let St=0;St<kt;St++)if(Nt(I,qt+St)!==Nt(p,St)){Yt=!1;break}if(Yt)return qt}return-1}b.prototype.includes=function(p,g,$){return this.indexOf(p,g,$)!==-1},b.prototype.indexOf=function(p,g,$){return re(this,p,g,$,!0)},b.prototype.lastIndexOf=function(p,g,$){return re(this,p,g,$,!1)};function Jt(I,p,g,$){g=Number(g)||0;const H=I.length-g;$?($=Number($),$>H&&($=H)):$=H;const G=p.length;$>G/2&&($=G/2);let it;for(it=0;it<$;++it){const kt=parseInt(p.substr(it*2,2),16);if(Pt(kt))return it;I[g+it]=kt}return it}function Ce(I,p,g,$){return Ae(ie(p,I.length-g),I,g,$)}function S(I,p,g,$){return Ae(ye(p),I,g,$)}function l(I,p,g,$){return Ae(zt(p),I,g,$)}function c(I,p,g,$){return Ae(se(p,I.length-g),I,g,$)}b.prototype.write=function(p,g,$,H){if(g===void 0)H="utf8",$=this.length,g=0;else if($===void 0&&typeof g=="string")H=g,$=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite($)?($=$>>>0,H===void 0&&(H="utf8")):(H=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const G=this.length-g;if(($===void 0||$>G)&&($=G),p.length>0&&($<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");let it=!1;for(;;)switch(H){case"hex":return Jt(this,p,g,$);case"utf8":case"utf-8":return Ce(this,p,g,$);case"ascii":case"latin1":case"binary":return S(this,p,g,$);case"base64":return l(this,p,g,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,p,g,$);default:if(it)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),it=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function s(I,p,g){return p===0&&g===I.length?t.fromByteArray(I):t.fromByteArray(I.slice(p,g))}function u(I,p,g){g=Math.min(I.length,g);const $=[];let H=p;for(;H<g;){const G=I[H];let it=null,kt=G>239?4:G>223?3:G>191?2:1;if(H+kt<=g){let Nt,qt,Yt,St;switch(kt){case 1:G<128&&(it=G);break;case 2:Nt=I[H+1],(Nt&192)===128&&(St=(G&31)<<6|Nt&63,St>127&&(it=St));break;case 3:Nt=I[H+1],qt=I[H+2],(Nt&192)===128&&(qt&192)===128&&(St=(G&15)<<12|(Nt&63)<<6|qt&63,St>2047&&(St<55296||St>57343)&&(it=St));break;case 4:Nt=I[H+1],qt=I[H+2],Yt=I[H+3],(Nt&192)===128&&(qt&192)===128&&(Yt&192)===128&&(St=(G&15)<<18|(Nt&63)<<12|(qt&63)<<6|Yt&63,St>65535&&St<1114112&&(it=St))}}it===null?(it=65533,kt=1):it>65535&&(it-=65536,$.push(it>>>10&1023|55296),it=56320|it&1023),$.push(it),H+=kt}return x($)}const d=4096;function x(I){const p=I.length;if(p<=d)return String.fromCharCode.apply(String,I);let g="",$=0;for(;$<p;)g+=String.fromCharCode.apply(String,I.slice($,$+=d));return g}function _(I,p,g){let $="";g=Math.min(I.length,g);for(let H=p;H<g;++H)$+=String.fromCharCode(I[H]&127);return $}function E(I,p,g){let $="";g=Math.min(I.length,g);for(let H=p;H<g;++H)$+=String.fromCharCode(I[H]);return $}function h(I,p,g){const $=I.length;(!p||p<0)&&(p=0),(!g||g<0||g>$)&&(g=$);let H="";for(let G=p;G<g;++G)H+=be[I[G]];return H}function w(I,p,g){const $=I.slice(p,g);let H="";for(let G=0;G<$.length-1;G+=2)H+=String.fromCharCode($[G]+$[G+1]*256);return H}b.prototype.slice=function(p,g){const $=this.length;p=~~p,g=g===void 0?$:~~g,p<0?(p+=$,p<0&&(p=0)):p>$&&(p=$),g<0?(g+=$,g<0&&(g=0)):g>$&&(g=$),g<p&&(g=p);const H=this.subarray(p,g);return Object.setPrototypeOf(H,b.prototype),H};function v(I,p,g){if(I%1!==0||I<0)throw new RangeError("offset is not uint");if(I+p>g)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(p,g,$){p=p>>>0,g=g>>>0,$||v(p,g,this.length);let H=this[p],G=1,it=0;for(;++it<g&&(G*=256);)H+=this[p+it]*G;return H},b.prototype.readUintBE=b.prototype.readUIntBE=function(p,g,$){p=p>>>0,g=g>>>0,$||v(p,g,this.length);let H=this[p+--g],G=1;for(;g>0&&(G*=256);)H+=this[p+--g]*G;return H},b.prototype.readUint8=b.prototype.readUInt8=function(p,g){return p=p>>>0,g||v(p,1,this.length),this[p]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(p,g){return p=p>>>0,g||v(p,2,this.length),this[p]|this[p+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(p,g){return p=p>>>0,g||v(p,2,this.length),this[p]<<8|this[p+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(p,g){return p=p>>>0,g||v(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(p,g){return p=p>>>0,g||v(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},b.prototype.readBigUInt64LE=ve(function(p){p=p>>>0,_e(p,"offset");const g=this[p],$=this[p+7];(g===void 0||$===void 0)&&Qt(p,this.length-8);const H=g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,G=this[++p]+this[++p]*2**8+this[++p]*2**16+$*2**24;return BigInt(H)+(BigInt(G)<<BigInt(32))}),b.prototype.readBigUInt64BE=ve(function(p){p=p>>>0,_e(p,"offset");const g=this[p],$=this[p+7];(g===void 0||$===void 0)&&Qt(p,this.length-8);const H=g*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],G=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+$;return(BigInt(H)<<BigInt(32))+BigInt(G)}),b.prototype.readIntLE=function(p,g,$){p=p>>>0,g=g>>>0,$||v(p,g,this.length);let H=this[p],G=1,it=0;for(;++it<g&&(G*=256);)H+=this[p+it]*G;return G*=128,H>=G&&(H-=Math.pow(2,8*g)),H},b.prototype.readIntBE=function(p,g,$){p=p>>>0,g=g>>>0,$||v(p,g,this.length);let H=g,G=1,it=this[p+--H];for(;H>0&&(G*=256);)it+=this[p+--H]*G;return G*=128,it>=G&&(it-=Math.pow(2,8*g)),it},b.prototype.readInt8=function(p,g){return p=p>>>0,g||v(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},b.prototype.readInt16LE=function(p,g){p=p>>>0,g||v(p,2,this.length);const $=this[p]|this[p+1]<<8;return $&32768?$|4294901760:$},b.prototype.readInt16BE=function(p,g){p=p>>>0,g||v(p,2,this.length);const $=this[p+1]|this[p]<<8;return $&32768?$|4294901760:$},b.prototype.readInt32LE=function(p,g){return p=p>>>0,g||v(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},b.prototype.readInt32BE=function(p,g){return p=p>>>0,g||v(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},b.prototype.readBigInt64LE=ve(function(p){p=p>>>0,_e(p,"offset");const g=this[p],$=this[p+7];(g===void 0||$===void 0)&&Qt(p,this.length-8);const H=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+($<<24);return(BigInt(H)<<BigInt(32))+BigInt(g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),b.prototype.readBigInt64BE=ve(function(p){p=p>>>0,_e(p,"offset");const g=this[p],$=this[p+7];(g===void 0||$===void 0)&&Qt(p,this.length-8);const H=(g<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(H)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+$)}),b.prototype.readFloatLE=function(p,g){return p=p>>>0,g||v(p,4,this.length),e.read(this,p,!0,23,4)},b.prototype.readFloatBE=function(p,g){return p=p>>>0,g||v(p,4,this.length),e.read(this,p,!1,23,4)},b.prototype.readDoubleLE=function(p,g){return p=p>>>0,g||v(p,8,this.length),e.read(this,p,!0,52,8)},b.prototype.readDoubleBE=function(p,g){return p=p>>>0,g||v(p,8,this.length),e.read(this,p,!1,52,8)};function U(I,p,g,$,H,G){if(!b.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>H||p<G)throw new RangeError('"value" argument is out of bounds');if(g+$>I.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(p,g,$,H){if(p=+p,g=g>>>0,$=$>>>0,!H){const kt=Math.pow(2,8*$)-1;U(this,p,g,$,kt,0)}let G=1,it=0;for(this[g]=p&255;++it<$&&(G*=256);)this[g+it]=p/G&255;return g+$},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(p,g,$,H){if(p=+p,g=g>>>0,$=$>>>0,!H){const kt=Math.pow(2,8*$)-1;U(this,p,g,$,kt,0)}let G=$-1,it=1;for(this[g+G]=p&255;--G>=0&&(it*=256);)this[g+G]=p/it&255;return g+$},b.prototype.writeUint8=b.prototype.writeUInt8=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,1,255,0),this[g]=p&255,g+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,2,65535,0),this[g]=p&255,this[g+1]=p>>>8,g+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,2,65535,0),this[g]=p>>>8,this[g+1]=p&255,g+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,4,4294967295,0),this[g+3]=p>>>24,this[g+2]=p>>>16,this[g+1]=p>>>8,this[g]=p&255,g+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,4,4294967295,0),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4};function lt(I,p,g,$,H){ce(p,$,H,I,g,7);let G=Number(p&BigInt(4294967295));I[g++]=G,G=G>>8,I[g++]=G,G=G>>8,I[g++]=G,G=G>>8,I[g++]=G;let it=Number(p>>BigInt(32)&BigInt(4294967295));return I[g++]=it,it=it>>8,I[g++]=it,it=it>>8,I[g++]=it,it=it>>8,I[g++]=it,g}function gt(I,p,g,$,H){ce(p,$,H,I,g,7);let G=Number(p&BigInt(4294967295));I[g+7]=G,G=G>>8,I[g+6]=G,G=G>>8,I[g+5]=G,G=G>>8,I[g+4]=G;let it=Number(p>>BigInt(32)&BigInt(4294967295));return I[g+3]=it,it=it>>8,I[g+2]=it,it=it>>8,I[g+1]=it,it=it>>8,I[g]=it,g+8}b.prototype.writeBigUInt64LE=ve(function(p,g=0){return lt(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=ve(function(p,g=0){return gt(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(p,g,$,H){if(p=+p,g=g>>>0,!H){const Nt=Math.pow(2,8*$-1);U(this,p,g,$,Nt-1,-Nt)}let G=0,it=1,kt=0;for(this[g]=p&255;++G<$&&(it*=256);)p<0&&kt===0&&this[g+G-1]!==0&&(kt=1),this[g+G]=(p/it>>0)-kt&255;return g+$},b.prototype.writeIntBE=function(p,g,$,H){if(p=+p,g=g>>>0,!H){const Nt=Math.pow(2,8*$-1);U(this,p,g,$,Nt-1,-Nt)}let G=$-1,it=1,kt=0;for(this[g+G]=p&255;--G>=0&&(it*=256);)p<0&&kt===0&&this[g+G+1]!==0&&(kt=1),this[g+G]=(p/it>>0)-kt&255;return g+$},b.prototype.writeInt8=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,1,127,-128),p<0&&(p=255+p+1),this[g]=p&255,g+1},b.prototype.writeInt16LE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,2,32767,-32768),this[g]=p&255,this[g+1]=p>>>8,g+2},b.prototype.writeInt16BE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,2,32767,-32768),this[g]=p>>>8,this[g+1]=p&255,g+2},b.prototype.writeInt32LE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,4,2147483647,-2147483648),this[g]=p&255,this[g+1]=p>>>8,this[g+2]=p>>>16,this[g+3]=p>>>24,g+4},b.prototype.writeInt32BE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4},b.prototype.writeBigInt64LE=ve(function(p,g=0){return lt(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=ve(function(p,g=0){return gt(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function mt(I,p,g,$,H,G){if(g+$>I.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Ht(I,p,g,$,H){return p=+p,g=g>>>0,H||mt(I,p,g,4),e.write(I,p,g,$,23,4),g+4}b.prototype.writeFloatLE=function(p,g,$){return Ht(this,p,g,!0,$)},b.prototype.writeFloatBE=function(p,g,$){return Ht(this,p,g,!1,$)};function de(I,p,g,$,H){return p=+p,g=g>>>0,H||mt(I,p,g,8),e.write(I,p,g,$,52,8),g+8}b.prototype.writeDoubleLE=function(p,g,$){return de(this,p,g,!0,$)},b.prototype.writeDoubleBE=function(p,g,$){return de(this,p,g,!1,$)},b.prototype.copy=function(p,g,$,H){if(!b.isBuffer(p))throw new TypeError("argument should be a Buffer");if($||($=0),!H&&H!==0&&(H=this.length),g>=p.length&&(g=p.length),g||(g=0),H>0&&H<$&&(H=$),H===$||p.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),p.length-g<H-$&&(H=p.length-g+$);const G=H-$;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,$,H):Uint8Array.prototype.set.call(p,this.subarray($,H),g),G},b.prototype.fill=function(p,g,$,H){if(typeof p=="string"){if(typeof g=="string"?(H=g,g=0,$=this.length):typeof $=="string"&&(H=$,$=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!b.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(p.length===1){const it=p.charCodeAt(0);(H==="utf8"&&it<128||H==="latin1")&&(p=it)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(g<0||this.length<g||this.length<$)throw new RangeError("Out of range index");if($<=g)return this;g=g>>>0,$=$===void 0?this.length:$>>>0,p||(p=0);let G;if(typeof p=="number")for(G=g;G<$;++G)this[G]=p;else{const it=b.isBuffer(p)?p:b.from(p,H),kt=it.length;if(kt===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(G=0;G<$-g;++G)this[G+g]=it[G%kt]}return this};const jt={};function oe(I,p,g){jt[I]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${I}]`,this.stack,delete this.name}get code(){return I}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${I}]: ${this.message}`}}}oe("ERR_BUFFER_OUT_OF_BOUNDS",function(I){return I?`${I} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),oe("ERR_INVALID_ARG_TYPE",function(I,p){return`The "${I}" argument must be of type number. Received type ${typeof p}`},TypeError),oe("ERR_OUT_OF_RANGE",function(I,p,g){let $=`The value of "${I}" is out of range.`,H=g;return Number.isInteger(g)&&Math.abs(g)>2**32?H=he(String(g)):typeof g=="bigint"&&(H=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(H=he(H)),H+="n"),$+=` It must be ${p}. Received ${H}`,$},RangeError);function he(I){let p="",g=I.length;const $=I[0]==="-"?1:0;for(;g>=$+4;g-=3)p=`_${I.slice(g-3,g)}${p}`;return`${I.slice(0,g)}${p}`}function Ft(I,p,g){_e(p,"offset"),(I[p]===void 0||I[p+g]===void 0)&&Qt(p,I.length-(g+1))}function ce(I,p,g,$,H,G){if(I>g||I<p){const it=typeof p=="bigint"?"n":"";let kt;throw G>3?p===0||p===BigInt(0)?kt=`>= 0${it} and < 2${it} ** ${(G+1)*8}${it}`:kt=`>= -(2${it} ** ${(G+1)*8-1}${it}) and < 2 ** ${(G+1)*8-1}${it}`:kt=`>= ${p}${it} and <= ${g}${it}`,new jt.ERR_OUT_OF_RANGE("value",kt,I)}Ft($,H,G)}function _e(I,p){if(typeof I!="number")throw new jt.ERR_INVALID_ARG_TYPE(p,"number",I)}function Qt(I,p,g){throw Math.floor(I)!==I?(_e(I,g),new jt.ERR_OUT_OF_RANGE(g||"offset","an integer",I)):p<0?new jt.ERR_BUFFER_OUT_OF_BOUNDS:new jt.ERR_OUT_OF_RANGE(g||"offset",`>= ${g?1:0} and <= ${p}`,I)}const Be=/[^+/0-9A-Za-z-_]/g;function me(I){if(I=I.split("=")[0],I=I.trim().replace(Be,""),I.length<2)return"";for(;I.length%4!==0;)I=I+"=";return I}function ie(I,p){p=p||1/0;let g;const $=I.length;let H=null;const G=[];for(let it=0;it<$;++it){if(g=I.charCodeAt(it),g>55295&&g<57344){if(!H){if(g>56319){(p-=3)>-1&&G.push(239,191,189);continue}else if(it+1===$){(p-=3)>-1&&G.push(239,191,189);continue}H=g;continue}if(g<56320){(p-=3)>-1&&G.push(239,191,189),H=g;continue}g=(H-55296<<10|g-56320)+65536}else H&&(p-=3)>-1&&G.push(239,191,189);if(H=null,g<128){if((p-=1)<0)break;G.push(g)}else if(g<2048){if((p-=2)<0)break;G.push(g>>6|192,g&63|128)}else if(g<65536){if((p-=3)<0)break;G.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((p-=4)<0)break;G.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return G}function ye(I){const p=[];for(let g=0;g<I.length;++g)p.push(I.charCodeAt(g)&255);return p}function se(I,p){let g,$,H;const G=[];for(let it=0;it<I.length&&!((p-=2)<0);++it)g=I.charCodeAt(it),$=g>>8,H=g%256,G.push(H),G.push($);return G}function zt(I){return t.toByteArray(me(I))}function Ae(I,p,g,$){let H;for(H=0;H<$&&!(H+g>=p.length||H>=I.length);++H)p[H+g]=I[H];return H}function pe(I,p){return I instanceof p||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===p.name}function Pt(I){return I!==I}const be=function(){const I="0123456789abcdef",p=new Array(256);for(let g=0;g<16;++g){const $=g*16;for(let H=0;H<16;++H)p[$+H]=I[g]+I[H]}return p}();function ve(I){return typeof BigInt=="undefined"?Xt:I}function Xt(){throw new Error("BigInt not supported")}})(Ua);window.Buffer=Ua.Buffer;var On,ee,ka,Oa,Fn,La,us,Pa,hi={},ja=[],Wu=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ar(r,t){for(var e in t)r[e]=t[e];return r}function qa(r){var t=r.parentNode;t&&t.removeChild(r)}function lr(r,t,e){var n,o,i,f={};for(i in t)i=="key"?n=t[i]:i=="ref"?o=t[i]:f[i]=t[i];if(arguments.length>2&&(f.children=arguments.length>3?On.call(arguments,2):e),typeof r=="function"&&r.defaultProps!=null)for(i in r.defaultProps)f[i]===void 0&&(f[i]=r.defaultProps[i]);return Sn(r,f,n,o,null)}function Sn(r,t,e,n,o){var i={type:r,props:t,key:e,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o==null?++ka:o};return o==null&&ee.vnode!=null&&ee.vnode(i),i}function Ha(){return{current:null}}function Cr(r){return r.children}function ur(r,t){this.props=r,this.context=t}function Jr(r,t){if(t==null)return r.__?Jr(r.__,r.__.__k.indexOf(r)+1):null;for(var e;t<r.__k.length;t++)if((e=r.__k[t])!=null&&e.__e!=null)return e.__e;return typeof r.type=="function"?Jr(r):null}function Wa(r){var t,e;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,t=0;t<r.__k.length;t++)if((e=r.__k[t])!=null&&e.__e!=null){r.__e=r.__c.base=e.__e;break}return Wa(r)}}function no(r){(!r.__d&&(r.__d=!0)&&Fn.push(r)&&!di.__r++||us!==ee.debounceRendering)&&((us=ee.debounceRendering)||La)(di)}function di(){for(var r;di.__r=Fn.length;)r=Fn.sort(function(t,e){return t.__v.__b-e.__v.__b}),Fn=[],r.some(function(t){var e,n,o,i,f,b;t.__d&&(f=(i=(e=t).__v).__e,(b=e.__P)&&(n=[],(o=Ar({},i)).__v=i.__v+1,Mo(b,i,o,e.__n,b.ownerSVGElement!==void 0,i.__h!=null?[f]:null,n,f==null?Jr(i):f,i.__h),Ya(n,i),i.__e!=f&&Wa(i)))})}function Va(r,t,e,n,o,i,f,b,A,k){var N,V,K,Z,xt,Ut,Ct,Dt=n&&n.__k||ja,Gt=Dt.length;for(e.__k=[],N=0;N<t.length;N++)if((Z=e.__k[N]=(Z=t[N])==null||typeof Z=="boolean"?null:typeof Z=="string"||typeof Z=="number"||typeof Z=="bigint"?Sn(null,Z,null,null,Z):Array.isArray(Z)?Sn(Cr,{children:Z},null,null,null):Z.__b>0?Sn(Z.type,Z.props,Z.key,null,Z.__v):Z)!=null){if(Z.__=e,Z.__b=e.__b+1,(K=Dt[N])===null||K&&Z.key==K.key&&Z.type===K.type)Dt[N]=void 0;else for(V=0;V<Gt;V++){if((K=Dt[V])&&Z.key==K.key&&Z.type===K.type){Dt[V]=void 0;break}K=null}Mo(r,Z,K=K||hi,o,i,f,b,A,k),xt=Z.__e,(V=Z.ref)&&K.ref!=V&&(Ct||(Ct=[]),K.ref&&Ct.push(K.ref,null,Z),Ct.push(V,Z.__c||xt,Z)),xt!=null?(Ut==null&&(Ut=xt),typeof Z.type=="function"&&Z.__k===K.__k?Z.__d=A=Ka(Z,A,r):A=Ga(r,Z,K,Dt,xt,A),typeof e.type=="function"&&(e.__d=A)):A&&K.__e==A&&A.parentNode!=r&&(A=Jr(K))}for(e.__e=Ut,N=Gt;N--;)Dt[N]!=null&&(typeof e.type=="function"&&Dt[N].__e!=null&&Dt[N].__e==e.__d&&(e.__d=Jr(n,N+1)),za(Dt[N],Dt[N]));if(Ct)for(N=0;N<Ct.length;N++)Xa(Ct[N],Ct[++N],Ct[++N])}function Ka(r,t,e){for(var n,o=r.__k,i=0;o&&i<o.length;i++)(n=o[i])&&(n.__=r,t=typeof n.type=="function"?Ka(n,t,e):Ga(e,n,n,o,n.__e,t));return t}function gr(r,t){return t=t||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(e){gr(e,t)}):t.push(r)),t}function Ga(r,t,e,n,o,i){var f,b,A;if(t.__d!==void 0)f=t.__d,t.__d=void 0;else if(e==null||o!=i||o.parentNode==null)t:if(i==null||i.parentNode!==r)r.appendChild(o),f=null;else{for(b=i,A=0;(b=b.nextSibling)&&A<n.length;A+=2)if(b==o)break t;r.insertBefore(o,i),f=i}return f!==void 0?f:o.nextSibling}function Vu(r,t,e,n,o){var i;for(i in e)i==="children"||i==="key"||i in t||pi(r,i,null,e[i],n);for(i in t)o&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||e[i]===t[i]||pi(r,i,t[i],e[i],n)}function ls(r,t,e){t[0]==="-"?r.setProperty(t,e):r[t]=e==null?"":typeof e!="number"||Wu.test(t)?e:e+"px"}function pi(r,t,e,n,o){var i;t:if(t==="style")if(typeof e=="string")r.style.cssText=e;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(t in n)e&&t in e||ls(r.style,t,"");if(e)for(t in e)n&&e[t]===n[t]||ls(r.style,t,e[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in r?t.toLowerCase().slice(2):t.slice(2),r.l||(r.l={}),r.l[t+i]=e,e?n||r.addEventListener(t,i?hs:cs,i):r.removeEventListener(t,i?hs:cs,i);else if(t!=="dangerouslySetInnerHTML"){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in r)try{r[t]=e==null?"":e;break t}catch{}typeof e=="function"||(e!=null&&(e!==!1||t[0]==="a"&&t[1]==="r")?r.setAttribute(t,e):r.removeAttribute(t))}}function cs(r){this.l[r.type+!1](ee.event?ee.event(r):r)}function hs(r){this.l[r.type+!0](ee.event?ee.event(r):r)}function Mo(r,t,e,n,o,i,f,b,A){var k,N,V,K,Z,xt,Ut,Ct,Dt,Gt,ue,le=t.type;if(t.constructor!==void 0)return null;e.__h!=null&&(A=e.__h,b=t.__e=e.__e,t.__h=null,i=[b]),(k=ee.__b)&&k(t);try{t:if(typeof le=="function"){if(Ct=t.props,Dt=(k=le.contextType)&&n[k.__c],Gt=k?Dt?Dt.props.value:k.__:n,e.__c?Ut=(N=t.__c=e.__c).__=N.__E:("prototype"in le&&le.prototype.render?t.__c=N=new le(Ct,Gt):(t.__c=N=new ur(Ct,Gt),N.constructor=le,N.render=Gu),Dt&&Dt.sub(N),N.props=Ct,N.state||(N.state={}),N.context=Gt,N.__n=n,V=N.__d=!0,N.__h=[]),N.__s==null&&(N.__s=N.state),le.getDerivedStateFromProps!=null&&(N.__s==N.state&&(N.__s=Ar({},N.__s)),Ar(N.__s,le.getDerivedStateFromProps(Ct,N.__s))),K=N.props,Z=N.state,V)le.getDerivedStateFromProps==null&&N.componentWillMount!=null&&N.componentWillMount(),N.componentDidMount!=null&&N.__h.push(N.componentDidMount);else{if(le.getDerivedStateFromProps==null&&Ct!==K&&N.componentWillReceiveProps!=null&&N.componentWillReceiveProps(Ct,Gt),!N.__e&&N.shouldComponentUpdate!=null&&N.shouldComponentUpdate(Ct,N.__s,Gt)===!1||t.__v===e.__v){N.props=Ct,N.state=N.__s,t.__v!==e.__v&&(N.__d=!1),N.__v=t,t.__e=e.__e,t.__k=e.__k,t.__k.forEach(function($t){$t&&($t.__=t)}),N.__h.length&&f.push(N);break t}N.componentWillUpdate!=null&&N.componentWillUpdate(Ct,N.__s,Gt),N.componentDidUpdate!=null&&N.__h.push(function(){N.componentDidUpdate(K,Z,xt)})}N.context=Gt,N.props=Ct,N.state=N.__s,(k=ee.__r)&&k(t),N.__d=!1,N.__v=t,N.__P=r,k=N.render(N.props,N.state,N.context),N.state=N.__s,N.getChildContext!=null&&(n=Ar(Ar({},n),N.getChildContext())),V||N.getSnapshotBeforeUpdate==null||(xt=N.getSnapshotBeforeUpdate(K,Z)),ue=k!=null&&k.type===Cr&&k.key==null?k.props.children:k,Va(r,Array.isArray(ue)?ue:[ue],t,e,n,o,i,f,b,A),N.base=t.__e,t.__h=null,N.__h.length&&f.push(N),Ut&&(N.__E=N.__=null),N.__e=!1}else i==null&&t.__v===e.__v?(t.__k=e.__k,t.__e=e.__e):t.__e=Ku(e.__e,t,e,n,o,i,f,A);(k=ee.diffed)&&k(t)}catch($t){t.__v=null,(A||i!=null)&&(t.__e=b,t.__h=!!A,i[i.indexOf(b)]=null),ee.__e($t,t,e)}}function Ya(r,t){ee.__c&&ee.__c(t,r),r.some(function(e){try{r=e.__h,e.__h=[],r.some(function(n){n.call(e)})}catch(n){ee.__e(n,e.__v)}})}function Ku(r,t,e,n,o,i,f,b){var A,k,N,V=e.props,K=t.props,Z=t.type,xt=0;if(Z==="svg"&&(o=!0),i!=null){for(;xt<i.length;xt++)if((A=i[xt])&&"setAttribute"in A==!!Z&&(Z?A.localName===Z:A.nodeType===3)){r=A,i[xt]=null;break}}if(r==null){if(Z===null)return document.createTextNode(K);r=o?document.createElementNS("http://www.w3.org/2000/svg",Z):document.createElement(Z,K.is&&K),i=null,b=!1}if(Z===null)V===K||b&&r.data===K||(r.data=K);else{if(i=i&&On.call(r.childNodes),k=(V=e.props||hi).dangerouslySetInnerHTML,N=K.dangerouslySetInnerHTML,!b){if(i!=null)for(V={},xt=0;xt<r.attributes.length;xt++)V[r.attributes[xt].name]=r.attributes[xt].value;(N||k)&&(N&&(k&&N.__html==k.__html||N.__html===r.innerHTML)||(r.innerHTML=N&&N.__html||""))}if(Vu(r,K,V,o,b),N)t.__k=[];else if(xt=t.props.children,Va(r,Array.isArray(xt)?xt:[xt],t,e,n,o&&Z!=="foreignObject",i,f,i?i[0]:e.__k&&Jr(e,0),b),i!=null)for(xt=i.length;xt--;)i[xt]!=null&&qa(i[xt]);b||("value"in K&&(xt=K.value)!==void 0&&(xt!==r.value||Z==="progress"&&!xt||Z==="option"&&xt!==V.value)&&pi(r,"value",xt,V.value,!1),"checked"in K&&(xt=K.checked)!==void 0&&xt!==r.checked&&pi(r,"checked",xt,V.checked,!1))}return r}function Xa(r,t,e){try{typeof r=="function"?r(t):r.current=t}catch(n){ee.__e(n,e)}}function za(r,t,e){var n,o;if(ee.unmount&&ee.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||Xa(n,null,t)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){ee.__e(i,t)}n.base=n.__P=null}if(n=r.__k)for(o=0;o<n.length;o++)n[o]&&za(n[o],t,typeof r.type!="function");e||r.__e==null||qa(r.__e),r.__e=r.__d=void 0}function Gu(r,t,e){return this.constructor(r,e)}function qr(r,t,e){var n,o,i;ee.__&&ee.__(r,t),o=(n=typeof e=="function")?null:e&&e.__k||t.__k,i=[],Mo(t,r=(!n&&e||t).__k=lr(Cr,null,[r]),o||hi,hi,t.ownerSVGElement!==void 0,!n&&e?[e]:o?null:t.firstChild?On.call(t.childNodes):null,i,!n&&e?e:o?o.__e:t.firstChild,n),Ya(i,r)}function Fo(r,t){qr(r,t,Fo)}function Za(r,t,e){var n,o,i,f=Ar({},r.props);for(i in t)i=="key"?n=t[i]:i=="ref"?o=t[i]:f[i]=t[i];return arguments.length>2&&(f.children=arguments.length>3?On.call(arguments,2):e),Sn(r.type,f,n||r.key,o||r.ref,null)}function Ja(r,t){var e={__c:t="__cC"+Pa++,__:r,Consumer:function(n,o){return n.children(o)},Provider:function(n){var o,i;return this.getChildContext||(o=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(f){this.props.value!==f.value&&o.some(no)},this.sub=function(f){o.push(f);var b=f.componentWillUnmount;f.componentWillUnmount=function(){o.splice(o.indexOf(f),1),b&&b.call(f)}}),n.children}};return e.Provider.__=e.Consumer.contextType=e}On=ja.slice,ee={__e:function(r,t,e,n){for(var o,i,f;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(r)),f=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(r,n||{}),f=o.__d),f)return o.__E=o}catch(b){r=b}throw r}},ka=0,Oa=function(r){return r!=null&&r.constructor===void 0},ur.prototype.setState=function(r,t){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ar({},this.state),typeof r=="function"&&(r=r(Ar({},e),this.props)),r&&Ar(e,r),r!=null&&this.__v&&(t&&this.__h.push(t),no(this))},ur.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),no(this))},ur.prototype.render=Cr,Fn=[],La=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,di.__r=0,Pa=0;var Yu=Object.freeze(Object.defineProperty({__proto__:null,render:qr,hydrate:Fo,createElement:lr,h:lr,Fragment:Cr,createRef:Ha,get isValidElement(){return Oa},Component:ur,cloneElement:Za,createContext:Ja,toChildArray:gr,get options(){return ee}},Symbol.toStringTag,{value:"Module"})),Qa={exports:{}};(function(r){(function(t,e){function n(c,s){if(!c)throw new Error(s||"Assertion failed")}function o(c,s){c.super_=s;var u=function(){};u.prototype=s.prototype,c.prototype=new u,c.prototype.constructor=c}function i(c,s,u){if(i.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(c||0,s||10,u||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var f;try{f=require("buffer").Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,d){if(typeof s=="number")return this._initNumber(s,u,d);if(typeof s=="object")return this._initArray(s,u,d);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var x=0;s[0]==="-"&&x++,u===16?this._parseHex(s,x):this._parseBase(s,u,x),s[0]==="-"&&(this.negative=1),this._strip(),d==="le"&&this._initArray(this.toArray(),u,d)},i.prototype._initNumber=function(s,u,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),u,d)},i.prototype._initArray=function(s,u,d){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,E,h=0;if(d==="be")for(x=s.length-1,_=0;x>=0;x-=3)E=s[x]|s[x-1]<<8|s[x-2]<<16,this.words[_]|=E<<h&67108863,this.words[_+1]=E>>>26-h&67108863,h+=24,h>=26&&(h-=26,_++);else if(d==="le")for(x=0,_=0;x<s.length;x+=3)E=s[x]|s[x+1]<<8|s[x+2]<<16,this.words[_]|=E<<h&67108863,this.words[_+1]=E>>>26-h&67108863,h+=24,h>=26&&(h-=26,_++);return this._strip()};function b(c,s,u){for(var d=0,x=Math.min(c.length,u),_=0,E=s;E<x;E++){var h=c.charCodeAt(E)-48;d<<=4;var w;h>=49&&h<=54?w=h-49+10:h>=17&&h<=22?w=h-17+10:w=h,d|=w,_|=w}return n(!(_&240),"Invalid character in "+c),d}i.prototype._parseHex=function(s,u){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var x,_,E=0;for(d=s.length-6,x=0;d>=u;d-=6)_=b(s,d,d+6),this.words[x]|=_<<E&67108863,this.words[x+1]|=_>>>26-E&4194303,E+=24,E>=26&&(E-=26,x++);d+6!==u&&(_=b(s,u,d+6),this.words[x]|=_<<E&67108863,this.words[x+1]|=_>>>26-E&4194303),this._strip()};function A(c,s,u,d){for(var x=0,_=0,E=Math.min(c.length,u),h=s;h<E;h++){var w=c.charCodeAt(h)-48;x*=d,w>=49?_=w-49+10:w>=17?_=w-17+10:_=w,n(w>=0&&_<d,"Invalid character"),x+=_}return x}i.prototype._parseBase=function(s,u,d){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=u)x++;x--,_=_/u|0;for(var E=s.length-d,h=E%x,w=Math.min(E,E-h)+d,v=0,U=d;U<w;U+=x)v=A(s,U,U+x,u),this.imuln(_),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(h!==0){var lt=1;for(v=A(s,U,s.length,u),U=0;U<h;U++)lt*=u;this.imuln(lt),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red};function k(c,s){c.words=s.words,c.length=s.length,c.negative=s.negative,c.red=s.red}i.prototype._move=function(s){k(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function"?i.prototype[Symbol.for("nodejs.util.inspect.custom")]=N:i.prototype.inspect=N;function N(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],K=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var d;if(s===16||s==="hex"){d="";for(var x=0,_=0,E=0;E<this.length;E++){var h=this.words[E],w=((h<<x|_)&16777215).toString(16);_=h>>>24-x&16777215,_!==0||E!==this.length-1?d=V[6-w.length]+w+d:d=w+d,x+=2,x>=26&&(x-=26,E--)}for(_!==0&&(d=_.toString(16)+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var v=K[s],U=Z[s];d="";var lt=this.clone();for(lt.negative=0;!lt.isZero();){var gt=lt.modrn(U).toString(s);lt=lt.idivn(U),lt.isZero()?d=gt+d:d=V[v-gt.length]+gt+d}for(this.isZero()&&(d="0"+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},f&&(i.prototype.toBuffer=function(s,u){return this.toArrayLike(f,s,u)}),i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)};var xt=function(s,u){return s.allocUnsafe?s.allocUnsafe(u):new s(u)};i.prototype.toArrayLike=function(s,u,d){this._strip();var x=this.byteLength(),_=d||Math.max(1,x);n(x<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0");var E=xt(s,_),h=u==="le"?"LE":"BE";return this["_toArrayLike"+h](E,x),E},i.prototype._toArrayLikeLE=function(s,u){for(var d=0,x=0,_=0,E=0;_<this.length;_++){var h=this.words[_]<<E|x;s[d++]=h&255,d<s.length&&(s[d++]=h>>8&255),d<s.length&&(s[d++]=h>>16&255),E===6?(d<s.length&&(s[d++]=h>>24&255),x=0,E=0):(x=h>>>24,E+=2)}if(d<s.length)for(s[d++]=x;d<s.length;)s[d++]=0},i.prototype._toArrayLikeBE=function(s,u){for(var d=s.length-1,x=0,_=0,E=0;_<this.length;_++){var h=this.words[_]<<E|x;s[d--]=h&255,d>=0&&(s[d--]=h>>8&255),d>=0&&(s[d--]=h>>16&255),E===6?(d>=0&&(s[d--]=h>>24&255),x=0,E=0):(x=h>>>24,E+=2)}if(d>=0)for(s[d--]=x;d>=0;)s[d--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,d=0;return u>=4096&&(d+=13,u>>>=13),u>=64&&(d+=7,u>>>=7),u>=8&&(d+=4,u>>>=4),u>=2&&(d+=2,u>>>=2),d+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,d=0;return(u&8191)===0&&(d+=13,u>>>=13),(u&127)===0&&(d+=7,u>>>=7),(u&15)===0&&(d+=4,u>>>=4),(u&3)===0&&(d+=2,u>>>=2),(u&1)===0&&d++,d},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function Ut(c){for(var s=new Array(c.bitLength()),u=0;u<s.length;u++){var d=u/26|0,x=u%26;s[u]=c.words[d]>>>x&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var d=this._zeroBits(this.words[u]);if(s+=d,d!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this._strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=u.length,this._strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,d;this.length>s.length?(u=this,d=s):(u=s,d=this);for(var x=0;x<d.length;x++)this.words[x]=u.words[x]^d.words[x];if(this!==u)for(;x<u.length;x++)this.words[x]=u.words[x];return this.length=u.length,this._strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,d=s%26;this._expand(u),d>0&&u--;for(var x=0;x<u;x++)this.words[x]=~this.words[x]&67108863;return d>0&&(this.words[x]=~this.words[x]&67108863>>26-d),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){n(typeof s=="number"&&s>=0);var d=s/26|0,x=s%26;return this._expand(d+1),u?this.words[d]=this.words[d]|1<<x:this.words[d]=this.words[d]&~(1<<x),this._strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var d,x;this.length>s.length?(d=this,x=s):(d=s,x=this);for(var _=0,E=0;E<x.length;E++)u=(d.words[E]|0)+(x.words[E]|0)+_,this.words[E]=u&67108863,_=u>>>26;for(;_!==0&&E<d.length;E++)u=(d.words[E]|0)+_,this.words[E]=u&67108863,_=u>>>26;if(this.length=d.length,_!==0)this.words[this.length]=_,this.length++;else if(d!==this)for(;E<d.length;E++)this.words[E]=d.words[E];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;d>0?(x=this,_=s):(x=s,_=this);for(var E=0,h=0;h<_.length;h++)u=(x.words[h]|0)-(_.words[h]|0)+E,E=u>>26,this.words[h]=u&67108863;for(;E!==0&&h<x.length;h++)u=(x.words[h]|0)+E,E=u>>26,this.words[h]=u&67108863;if(E===0&&h<x.length&&x!==this)for(;h<x.length;h++)this.words[h]=x.words[h];return this.length=Math.max(this.length,h),x!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function Ct(c,s,u){u.negative=s.negative^c.negative;var d=c.length+s.length|0;u.length=d,d=d-1|0;var x=c.words[0]|0,_=s.words[0]|0,E=x*_,h=E&67108863,w=E/67108864|0;u.words[0]=h;for(var v=1;v<d;v++){for(var U=w>>>26,lt=w&67108863,gt=Math.min(v,s.length-1),mt=Math.max(0,v-c.length+1);mt<=gt;mt++){var Ht=v-mt|0;x=c.words[Ht]|0,_=s.words[mt]|0,E=x*_+lt,U+=E/67108864|0,lt=E&67108863}u.words[v]=lt|0,w=U|0}return w!==0?u.words[v]=w|0:u.length--,u._strip()}var Dt=function(s,u,d){var x=s.words,_=u.words,E=d.words,h=0,w,v,U,lt=x[0]|0,gt=lt&8191,mt=lt>>>13,Ht=x[1]|0,de=Ht&8191,jt=Ht>>>13,oe=x[2]|0,he=oe&8191,Ft=oe>>>13,ce=x[3]|0,_e=ce&8191,Qt=ce>>>13,Be=x[4]|0,me=Be&8191,ie=Be>>>13,ye=x[5]|0,se=ye&8191,zt=ye>>>13,Ae=x[6]|0,pe=Ae&8191,Pt=Ae>>>13,be=x[7]|0,ve=be&8191,Xt=be>>>13,I=x[8]|0,p=I&8191,g=I>>>13,$=x[9]|0,H=$&8191,G=$>>>13,it=_[0]|0,kt=it&8191,Nt=it>>>13,qt=_[1]|0,Yt=qt&8191,St=qt>>>13,Me=_[2]|0,ge=Me&8191,Wt=Me>>>13,F=_[3]|0,R=F&8191,T=F>>>13,m=_[4]|0,B=m&8191,q=m>>>13,W=_[5]|0,at=W&8191,L=W>>>13,yt=_[6]|0,It=yt&8191,y=yt>>>13,M=_[7]|0,C=M&8191,a=M>>>13,D=_[8]|0,j=D&8191,P=D>>>13,z=_[9]|0,J=z&8191,ot=z>>>13;d.negative=s.negative^u.negative,d.length=19,w=Math.imul(gt,kt),v=Math.imul(gt,Nt),v=v+Math.imul(mt,kt)|0,U=Math.imul(mt,Nt);var dt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(de,kt),v=Math.imul(de,Nt),v=v+Math.imul(jt,kt)|0,U=Math.imul(jt,Nt),w=w+Math.imul(gt,Yt)|0,v=v+Math.imul(gt,St)|0,v=v+Math.imul(mt,Yt)|0,U=U+Math.imul(mt,St)|0;var Tt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,w=Math.imul(he,kt),v=Math.imul(he,Nt),v=v+Math.imul(Ft,kt)|0,U=Math.imul(Ft,Nt),w=w+Math.imul(de,Yt)|0,v=v+Math.imul(de,St)|0,v=v+Math.imul(jt,Yt)|0,U=U+Math.imul(jt,St)|0,w=w+Math.imul(gt,ge)|0,v=v+Math.imul(gt,Wt)|0,v=v+Math.imul(mt,ge)|0,U=U+Math.imul(mt,Wt)|0;var ct=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(_e,kt),v=Math.imul(_e,Nt),v=v+Math.imul(Qt,kt)|0,U=Math.imul(Qt,Nt),w=w+Math.imul(he,Yt)|0,v=v+Math.imul(he,St)|0,v=v+Math.imul(Ft,Yt)|0,U=U+Math.imul(Ft,St)|0,w=w+Math.imul(de,ge)|0,v=v+Math.imul(de,Wt)|0,v=v+Math.imul(jt,ge)|0,U=U+Math.imul(jt,Wt)|0,w=w+Math.imul(gt,R)|0,v=v+Math.imul(gt,T)|0,v=v+Math.imul(mt,R)|0,U=U+Math.imul(mt,T)|0;var Q=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(Q>>>26)|0,Q&=67108863,w=Math.imul(me,kt),v=Math.imul(me,Nt),v=v+Math.imul(ie,kt)|0,U=Math.imul(ie,Nt),w=w+Math.imul(_e,Yt)|0,v=v+Math.imul(_e,St)|0,v=v+Math.imul(Qt,Yt)|0,U=U+Math.imul(Qt,St)|0,w=w+Math.imul(he,ge)|0,v=v+Math.imul(he,Wt)|0,v=v+Math.imul(Ft,ge)|0,U=U+Math.imul(Ft,Wt)|0,w=w+Math.imul(de,R)|0,v=v+Math.imul(de,T)|0,v=v+Math.imul(jt,R)|0,U=U+Math.imul(jt,T)|0,w=w+Math.imul(gt,B)|0,v=v+Math.imul(gt,q)|0,v=v+Math.imul(mt,B)|0,U=U+Math.imul(mt,q)|0;var et=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(et>>>26)|0,et&=67108863,w=Math.imul(se,kt),v=Math.imul(se,Nt),v=v+Math.imul(zt,kt)|0,U=Math.imul(zt,Nt),w=w+Math.imul(me,Yt)|0,v=v+Math.imul(me,St)|0,v=v+Math.imul(ie,Yt)|0,U=U+Math.imul(ie,St)|0,w=w+Math.imul(_e,ge)|0,v=v+Math.imul(_e,Wt)|0,v=v+Math.imul(Qt,ge)|0,U=U+Math.imul(Qt,Wt)|0,w=w+Math.imul(he,R)|0,v=v+Math.imul(he,T)|0,v=v+Math.imul(Ft,R)|0,U=U+Math.imul(Ft,T)|0,w=w+Math.imul(de,B)|0,v=v+Math.imul(de,q)|0,v=v+Math.imul(jt,B)|0,U=U+Math.imul(jt,q)|0,w=w+Math.imul(gt,at)|0,v=v+Math.imul(gt,L)|0,v=v+Math.imul(mt,at)|0,U=U+Math.imul(mt,L)|0;var vt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(vt>>>26)|0,vt&=67108863,w=Math.imul(pe,kt),v=Math.imul(pe,Nt),v=v+Math.imul(Pt,kt)|0,U=Math.imul(Pt,Nt),w=w+Math.imul(se,Yt)|0,v=v+Math.imul(se,St)|0,v=v+Math.imul(zt,Yt)|0,U=U+Math.imul(zt,St)|0,w=w+Math.imul(me,ge)|0,v=v+Math.imul(me,Wt)|0,v=v+Math.imul(ie,ge)|0,U=U+Math.imul(ie,Wt)|0,w=w+Math.imul(_e,R)|0,v=v+Math.imul(_e,T)|0,v=v+Math.imul(Qt,R)|0,U=U+Math.imul(Qt,T)|0,w=w+Math.imul(he,B)|0,v=v+Math.imul(he,q)|0,v=v+Math.imul(Ft,B)|0,U=U+Math.imul(Ft,q)|0,w=w+Math.imul(de,at)|0,v=v+Math.imul(de,L)|0,v=v+Math.imul(jt,at)|0,U=U+Math.imul(jt,L)|0,w=w+Math.imul(gt,It)|0,v=v+Math.imul(gt,y)|0,v=v+Math.imul(mt,It)|0,U=U+Math.imul(mt,y)|0;var ft=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(ve,kt),v=Math.imul(ve,Nt),v=v+Math.imul(Xt,kt)|0,U=Math.imul(Xt,Nt),w=w+Math.imul(pe,Yt)|0,v=v+Math.imul(pe,St)|0,v=v+Math.imul(Pt,Yt)|0,U=U+Math.imul(Pt,St)|0,w=w+Math.imul(se,ge)|0,v=v+Math.imul(se,Wt)|0,v=v+Math.imul(zt,ge)|0,U=U+Math.imul(zt,Wt)|0,w=w+Math.imul(me,R)|0,v=v+Math.imul(me,T)|0,v=v+Math.imul(ie,R)|0,U=U+Math.imul(ie,T)|0,w=w+Math.imul(_e,B)|0,v=v+Math.imul(_e,q)|0,v=v+Math.imul(Qt,B)|0,U=U+Math.imul(Qt,q)|0,w=w+Math.imul(he,at)|0,v=v+Math.imul(he,L)|0,v=v+Math.imul(Ft,at)|0,U=U+Math.imul(Ft,L)|0,w=w+Math.imul(de,It)|0,v=v+Math.imul(de,y)|0,v=v+Math.imul(jt,It)|0,U=U+Math.imul(jt,y)|0,w=w+Math.imul(gt,C)|0,v=v+Math.imul(gt,a)|0,v=v+Math.imul(mt,C)|0,U=U+Math.imul(mt,a)|0;var st=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(p,kt),v=Math.imul(p,Nt),v=v+Math.imul(g,kt)|0,U=Math.imul(g,Nt),w=w+Math.imul(ve,Yt)|0,v=v+Math.imul(ve,St)|0,v=v+Math.imul(Xt,Yt)|0,U=U+Math.imul(Xt,St)|0,w=w+Math.imul(pe,ge)|0,v=v+Math.imul(pe,Wt)|0,v=v+Math.imul(Pt,ge)|0,U=U+Math.imul(Pt,Wt)|0,w=w+Math.imul(se,R)|0,v=v+Math.imul(se,T)|0,v=v+Math.imul(zt,R)|0,U=U+Math.imul(zt,T)|0,w=w+Math.imul(me,B)|0,v=v+Math.imul(me,q)|0,v=v+Math.imul(ie,B)|0,U=U+Math.imul(ie,q)|0,w=w+Math.imul(_e,at)|0,v=v+Math.imul(_e,L)|0,v=v+Math.imul(Qt,at)|0,U=U+Math.imul(Qt,L)|0,w=w+Math.imul(he,It)|0,v=v+Math.imul(he,y)|0,v=v+Math.imul(Ft,It)|0,U=U+Math.imul(Ft,y)|0,w=w+Math.imul(de,C)|0,v=v+Math.imul(de,a)|0,v=v+Math.imul(jt,C)|0,U=U+Math.imul(jt,a)|0,w=w+Math.imul(gt,j)|0,v=v+Math.imul(gt,P)|0,v=v+Math.imul(mt,j)|0,U=U+Math.imul(mt,P)|0;var ut=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(H,kt),v=Math.imul(H,Nt),v=v+Math.imul(G,kt)|0,U=Math.imul(G,Nt),w=w+Math.imul(p,Yt)|0,v=v+Math.imul(p,St)|0,v=v+Math.imul(g,Yt)|0,U=U+Math.imul(g,St)|0,w=w+Math.imul(ve,ge)|0,v=v+Math.imul(ve,Wt)|0,v=v+Math.imul(Xt,ge)|0,U=U+Math.imul(Xt,Wt)|0,w=w+Math.imul(pe,R)|0,v=v+Math.imul(pe,T)|0,v=v+Math.imul(Pt,R)|0,U=U+Math.imul(Pt,T)|0,w=w+Math.imul(se,B)|0,v=v+Math.imul(se,q)|0,v=v+Math.imul(zt,B)|0,U=U+Math.imul(zt,q)|0,w=w+Math.imul(me,at)|0,v=v+Math.imul(me,L)|0,v=v+Math.imul(ie,at)|0,U=U+Math.imul(ie,L)|0,w=w+Math.imul(_e,It)|0,v=v+Math.imul(_e,y)|0,v=v+Math.imul(Qt,It)|0,U=U+Math.imul(Qt,y)|0,w=w+Math.imul(he,C)|0,v=v+Math.imul(he,a)|0,v=v+Math.imul(Ft,C)|0,U=U+Math.imul(Ft,a)|0,w=w+Math.imul(de,j)|0,v=v+Math.imul(de,P)|0,v=v+Math.imul(jt,j)|0,U=U+Math.imul(jt,P)|0,w=w+Math.imul(gt,J)|0,v=v+Math.imul(gt,ot)|0,v=v+Math.imul(mt,J)|0,U=U+Math.imul(mt,ot)|0;var Mt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,w=Math.imul(H,Yt),v=Math.imul(H,St),v=v+Math.imul(G,Yt)|0,U=Math.imul(G,St),w=w+Math.imul(p,ge)|0,v=v+Math.imul(p,Wt)|0,v=v+Math.imul(g,ge)|0,U=U+Math.imul(g,Wt)|0,w=w+Math.imul(ve,R)|0,v=v+Math.imul(ve,T)|0,v=v+Math.imul(Xt,R)|0,U=U+Math.imul(Xt,T)|0,w=w+Math.imul(pe,B)|0,v=v+Math.imul(pe,q)|0,v=v+Math.imul(Pt,B)|0,U=U+Math.imul(Pt,q)|0,w=w+Math.imul(se,at)|0,v=v+Math.imul(se,L)|0,v=v+Math.imul(zt,at)|0,U=U+Math.imul(zt,L)|0,w=w+Math.imul(me,It)|0,v=v+Math.imul(me,y)|0,v=v+Math.imul(ie,It)|0,U=U+Math.imul(ie,y)|0,w=w+Math.imul(_e,C)|0,v=v+Math.imul(_e,a)|0,v=v+Math.imul(Qt,C)|0,U=U+Math.imul(Qt,a)|0,w=w+Math.imul(he,j)|0,v=v+Math.imul(he,P)|0,v=v+Math.imul(Ft,j)|0,U=U+Math.imul(Ft,P)|0,w=w+Math.imul(de,J)|0,v=v+Math.imul(de,ot)|0,v=v+Math.imul(jt,J)|0,U=U+Math.imul(jt,ot)|0;var wt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(wt>>>26)|0,wt&=67108863,w=Math.imul(H,ge),v=Math.imul(H,Wt),v=v+Math.imul(G,ge)|0,U=Math.imul(G,Wt),w=w+Math.imul(p,R)|0,v=v+Math.imul(p,T)|0,v=v+Math.imul(g,R)|0,U=U+Math.imul(g,T)|0,w=w+Math.imul(ve,B)|0,v=v+Math.imul(ve,q)|0,v=v+Math.imul(Xt,B)|0,U=U+Math.imul(Xt,q)|0,w=w+Math.imul(pe,at)|0,v=v+Math.imul(pe,L)|0,v=v+Math.imul(Pt,at)|0,U=U+Math.imul(Pt,L)|0,w=w+Math.imul(se,It)|0,v=v+Math.imul(se,y)|0,v=v+Math.imul(zt,It)|0,U=U+Math.imul(zt,y)|0,w=w+Math.imul(me,C)|0,v=v+Math.imul(me,a)|0,v=v+Math.imul(ie,C)|0,U=U+Math.imul(ie,a)|0,w=w+Math.imul(_e,j)|0,v=v+Math.imul(_e,P)|0,v=v+Math.imul(Qt,j)|0,U=U+Math.imul(Qt,P)|0,w=w+Math.imul(he,J)|0,v=v+Math.imul(he,ot)|0,v=v+Math.imul(Ft,J)|0,U=U+Math.imul(Ft,ot)|0;var Et=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(Et>>>26)|0,Et&=67108863,w=Math.imul(H,R),v=Math.imul(H,T),v=v+Math.imul(G,R)|0,U=Math.imul(G,T),w=w+Math.imul(p,B)|0,v=v+Math.imul(p,q)|0,v=v+Math.imul(g,B)|0,U=U+Math.imul(g,q)|0,w=w+Math.imul(ve,at)|0,v=v+Math.imul(ve,L)|0,v=v+Math.imul(Xt,at)|0,U=U+Math.imul(Xt,L)|0,w=w+Math.imul(pe,It)|0,v=v+Math.imul(pe,y)|0,v=v+Math.imul(Pt,It)|0,U=U+Math.imul(Pt,y)|0,w=w+Math.imul(se,C)|0,v=v+Math.imul(se,a)|0,v=v+Math.imul(zt,C)|0,U=U+Math.imul(zt,a)|0,w=w+Math.imul(me,j)|0,v=v+Math.imul(me,P)|0,v=v+Math.imul(ie,j)|0,U=U+Math.imul(ie,P)|0,w=w+Math.imul(_e,J)|0,v=v+Math.imul(_e,ot)|0,v=v+Math.imul(Qt,J)|0,U=U+Math.imul(Qt,ot)|0;var bt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(H,B),v=Math.imul(H,q),v=v+Math.imul(G,B)|0,U=Math.imul(G,q),w=w+Math.imul(p,at)|0,v=v+Math.imul(p,L)|0,v=v+Math.imul(g,at)|0,U=U+Math.imul(g,L)|0,w=w+Math.imul(ve,It)|0,v=v+Math.imul(ve,y)|0,v=v+Math.imul(Xt,It)|0,U=U+Math.imul(Xt,y)|0,w=w+Math.imul(pe,C)|0,v=v+Math.imul(pe,a)|0,v=v+Math.imul(Pt,C)|0,U=U+Math.imul(Pt,a)|0,w=w+Math.imul(se,j)|0,v=v+Math.imul(se,P)|0,v=v+Math.imul(zt,j)|0,U=U+Math.imul(zt,P)|0,w=w+Math.imul(me,J)|0,v=v+Math.imul(me,ot)|0,v=v+Math.imul(ie,J)|0,U=U+Math.imul(ie,ot)|0;var _t=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(_t>>>26)|0,_t&=67108863,w=Math.imul(H,at),v=Math.imul(H,L),v=v+Math.imul(G,at)|0,U=Math.imul(G,L),w=w+Math.imul(p,It)|0,v=v+Math.imul(p,y)|0,v=v+Math.imul(g,It)|0,U=U+Math.imul(g,y)|0,w=w+Math.imul(ve,C)|0,v=v+Math.imul(ve,a)|0,v=v+Math.imul(Xt,C)|0,U=U+Math.imul(Xt,a)|0,w=w+Math.imul(pe,j)|0,v=v+Math.imul(pe,P)|0,v=v+Math.imul(Pt,j)|0,U=U+Math.imul(Pt,P)|0,w=w+Math.imul(se,J)|0,v=v+Math.imul(se,ot)|0,v=v+Math.imul(zt,J)|0,U=U+Math.imul(zt,ot)|0;var At=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(H,It),v=Math.imul(H,y),v=v+Math.imul(G,It)|0,U=Math.imul(G,y),w=w+Math.imul(p,C)|0,v=v+Math.imul(p,a)|0,v=v+Math.imul(g,C)|0,U=U+Math.imul(g,a)|0,w=w+Math.imul(ve,j)|0,v=v+Math.imul(ve,P)|0,v=v+Math.imul(Xt,j)|0,U=U+Math.imul(Xt,P)|0,w=w+Math.imul(pe,J)|0,v=v+Math.imul(pe,ot)|0,v=v+Math.imul(Pt,J)|0,U=U+Math.imul(Pt,ot)|0;var ht=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(ht>>>26)|0,ht&=67108863,w=Math.imul(H,C),v=Math.imul(H,a),v=v+Math.imul(G,C)|0,U=Math.imul(G,a),w=w+Math.imul(p,j)|0,v=v+Math.imul(p,P)|0,v=v+Math.imul(g,j)|0,U=U+Math.imul(g,P)|0,w=w+Math.imul(ve,J)|0,v=v+Math.imul(ve,ot)|0,v=v+Math.imul(Xt,J)|0,U=U+Math.imul(Xt,ot)|0;var Y=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(Y>>>26)|0,Y&=67108863,w=Math.imul(H,j),v=Math.imul(H,P),v=v+Math.imul(G,j)|0,U=Math.imul(G,P),w=w+Math.imul(p,J)|0,v=v+Math.imul(p,ot)|0,v=v+Math.imul(g,J)|0,U=U+Math.imul(g,ot)|0;var X=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(X>>>26)|0,X&=67108863,w=Math.imul(H,J),v=Math.imul(H,ot),v=v+Math.imul(G,J)|0,U=Math.imul(G,ot);var rt=(h+w|0)+((v&8191)<<13)|0;return h=(U+(v>>>13)|0)+(rt>>>26)|0,rt&=67108863,E[0]=dt,E[1]=Tt,E[2]=ct,E[3]=Q,E[4]=et,E[5]=vt,E[6]=ft,E[7]=st,E[8]=ut,E[9]=Mt,E[10]=wt,E[11]=Et,E[12]=bt,E[13]=_t,E[14]=At,E[15]=ht,E[16]=Y,E[17]=X,E[18]=rt,h!==0&&(E[19]=h,d.length++),d};Math.imul||(Dt=Ct);function Gt(c,s,u){u.negative=s.negative^c.negative,u.length=c.length+s.length;for(var d=0,x=0,_=0;_<u.length-1;_++){var E=x;x=0;for(var h=d&67108863,w=Math.min(_,s.length-1),v=Math.max(0,_-c.length+1);v<=w;v++){var U=_-v,lt=c.words[U]|0,gt=s.words[v]|0,mt=lt*gt,Ht=mt&67108863;E=E+(mt/67108864|0)|0,Ht=Ht+h|0,h=Ht&67108863,E=E+(Ht>>>26)|0,x+=E>>>26,E&=67108863}u.words[_]=h,d=E,E=x}return d!==0?u.words[_]=d:u.length--,u._strip()}function ue(c,s,u){return Gt(c,s,u)}i.prototype.mulTo=function(s,u){var d,x=this.length+s.length;return this.length===10&&s.length===10?d=Dt(this,s,u):x<63?d=Ct(this,s,u):x<1024?d=Gt(this,s,u):d=ue(this,s,u),d},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),ue(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var u=s<0;u&&(s=-s),n(typeof s=="number"),n(s<67108864);for(var d=0,x=0;x<this.length;x++){var _=(this.words[x]|0)*s,E=(_&67108863)+(d&67108863);d>>=26,d+=_/67108864|0,d+=E>>>26,this.words[x]=E&67108863}return d!==0&&(this.words[x]=d,this.length++),u?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=Ut(s);if(u.length===0)return new i(1);for(var d=this,x=0;x<u.length&&u[x]===0;x++,d=d.sqr());if(++x<u.length)for(var _=d.sqr();x<u.length;x++,_=_.sqr())u[x]!==0&&(d=d.mul(_));return d},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,x=67108863>>>26-u<<26-u,_;if(u!==0){var E=0;for(_=0;_<this.length;_++){var h=this.words[_]&x,w=(this.words[_]|0)-h<<u;this.words[_]=w|E,E=h>>>26-u}E&&(this.words[_]=E,this.length++)}if(d!==0){for(_=this.length-1;_>=0;_--)this.words[_+d]=this.words[_];for(_=0;_<d;_++)this.words[_]=0;this.length+=d}return this._strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,d){n(typeof s=="number"&&s>=0);var x;u?x=(u-u%26)/26:x=0;var _=s%26,E=Math.min((s-_)/26,this.length),h=67108863^67108863>>>_<<_,w=d;if(x-=E,x=Math.max(0,x),w){for(var v=0;v<E;v++)w.words[v]=this.words[v];w.length=E}if(E!==0)if(this.length>E)for(this.length-=E,v=0;v<this.length;v++)this.words[v]=this.words[v+E];else this.words[0]=0,this.length=1;var U=0;for(v=this.length-1;v>=0&&(U!==0||v>=x);v--){var lt=this.words[v]|0;this.words[v]=U<<26-_|lt>>>_,U=lt&h}return w&&U!==0&&(w.words[w.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,u,d){return n(this.negative===0),this.iushrn(s,u,d)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,x=1<<u;if(this.length<=d)return!1;var _=this.words[d];return!!(_&x)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(u!==0&&d++,this.length=Math.min(d,this.length),u!==0){var x=67108863^67108863>>>u<<u;this.words[this.length-1]&=x}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,d){var x=s.length+d,_;this._expand(x);var E,h=0;for(_=0;_<s.length;_++){E=(this.words[_+d]|0)+h;var w=(s.words[_]|0)*u;E-=w&67108863,h=(E>>26)-(w/67108864|0),this.words[_+d]=E&67108863}for(;_<this.length-d;_++)E=(this.words[_+d]|0)+h,h=E>>26,this.words[_+d]=E&67108863;if(h===0)return this._strip();for(n(h===-1),h=0,_=0;_<this.length;_++)E=-(this.words[_]|0)+h,h=E>>26,this.words[_]=E&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,u){var d=this.length-s.length,x=this.clone(),_=s,E=_.words[_.length-1]|0,h=this._countBits(E);d=26-h,d!==0&&(_=_.ushln(d),x.iushln(d),E=_.words[_.length-1]|0);var w=x.length-_.length,v;if(u!=="mod"){v=new i(null),v.length=w+1,v.words=new Array(v.length);for(var U=0;U<v.length;U++)v.words[U]=0}var lt=x.clone()._ishlnsubmul(_,1,w);lt.negative===0&&(x=lt,v&&(v.words[w]=1));for(var gt=w-1;gt>=0;gt--){var mt=(x.words[_.length+gt]|0)*67108864+(x.words[_.length+gt-1]|0);for(mt=Math.min(mt/E|0,67108863),x._ishlnsubmul(_,mt,gt);x.negative!==0;)mt--,x.negative=0,x._ishlnsubmul(_,1,gt),x.isZero()||(x.negative^=1);v&&(v.words[gt]=mt)}return v&&v._strip(),x._strip(),u!=="div"&&d!==0&&x.iushrn(d),{div:v||null,mod:x}},i.prototype.divmod=function(s,u,d){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,E;return this.negative!==0&&s.negative===0?(E=this.neg().divmod(s,u),u!=="mod"&&(x=E.div.neg()),u!=="div"&&(_=E.mod.neg(),d&&_.negative!==0&&_.iadd(s)),{div:x,mod:_}):this.negative===0&&s.negative!==0?(E=this.divmod(s.neg(),u),u!=="mod"&&(x=E.div.neg()),{div:x,mod:E.mod}):(this.negative&s.negative)!==0?(E=this.neg().divmod(s.neg(),u),u!=="div"&&(_=E.mod.neg(),d&&_.negative!==0&&_.isub(s)),{div:E.div,mod:_}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var d=u.div.negative!==0?u.mod.isub(s):u.mod,x=s.ushrn(1),_=s.andln(1),E=d.cmp(x);return E<0||_===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modrn=function(s){var u=s<0;u&&(s=-s),n(s<=67108863);for(var d=(1<<26)%s,x=0,_=this.length-1;_>=0;_--)x=(d*x+(this.words[_]|0))%s;return u?-x:x},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var u=s<0;u&&(s=-s),n(s<=67108863);for(var d=0,x=this.length-1;x>=0;x--){var _=(this.words[x]|0)+d*67108864;this.words[x]=_/s|0,d=_%s}return this._strip(),u?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var x=new i(1),_=new i(0),E=new i(0),h=new i(1),w=0;u.isEven()&&d.isEven();)u.iushrn(1),d.iushrn(1),++w;for(var v=d.clone(),U=u.clone();!u.isZero();){for(var lt=0,gt=1;(u.words[0]&gt)===0&&lt<26;++lt,gt<<=1);if(lt>0)for(u.iushrn(lt);lt-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(v),_.isub(U)),x.iushrn(1),_.iushrn(1);for(var mt=0,Ht=1;(d.words[0]&Ht)===0&&mt<26;++mt,Ht<<=1);if(mt>0)for(d.iushrn(mt);mt-- >0;)(E.isOdd()||h.isOdd())&&(E.iadd(v),h.isub(U)),E.iushrn(1),h.iushrn(1);u.cmp(d)>=0?(u.isub(d),x.isub(E),_.isub(h)):(d.isub(u),E.isub(x),h.isub(_))}return{a:E,b:h,gcd:d.iushln(w)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var x=new i(1),_=new i(0),E=d.clone();u.cmpn(1)>0&&d.cmpn(1)>0;){for(var h=0,w=1;(u.words[0]&w)===0&&h<26;++h,w<<=1);if(h>0)for(u.iushrn(h);h-- >0;)x.isOdd()&&x.iadd(E),x.iushrn(1);for(var v=0,U=1;(d.words[0]&U)===0&&v<26;++v,U<<=1);if(v>0)for(d.iushrn(v);v-- >0;)_.isOdd()&&_.iadd(E),_.iushrn(1);u.cmp(d)>=0?(u.isub(d),x.isub(_)):(d.isub(u),_.isub(x))}var lt;return u.cmpn(1)===0?lt=x:lt=_,lt.cmpn(0)<0&&lt.iadd(s),lt},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),d=s.clone();u.negative=0,d.negative=0;for(var x=0;u.isEven()&&d.isEven();x++)u.iushrn(1),d.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;d.isEven();)d.iushrn(1);var _=u.cmp(d);if(_<0){var E=u;u=d,d=E}else if(_===0||d.cmpn(1)===0)break;u.isub(d)}while(!0);return d.iushln(x)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var u=s%26,d=(s-u)/26,x=1<<u;if(this.length<=d)return this._expand(d+1),this.words[d]|=x,this;for(var _=x,E=d;_!==0&&E<this.length;E++){var h=this.words[E]|0;h+=_,_=h>>>26,h&=67108863,this.words[E]=h}return _!==0&&(this.words[E]=_,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var d;if(this.length>1)d=1;else{u&&(s=-s),n(s<=67108863,"Number is too big");var x=this.words[0]|0;d=x===s?0:x<s?-1:1}return this.negative!==0?-d|0:d},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,d=this.length-1;d>=0;d--){var x=this.words[d]|0,_=s.words[d]|0;if(x!==_){x<_?u=-1:x>_&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new S(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var le={k256:null,p224:null,p192:null,p25519:null};function $t(c,s){this.name=c,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$t.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},$t.prototype.ireduce=function(s){var u=s,d;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),d=u.bitLength();while(d>this.n);var x=d<this.n?-1:u.ucmp(this.p);return x===0?(u.words[0]=0,u.length=1):x>0?u.isub(this.p):u._strip(),u},$t.prototype.split=function(s,u){s.iushrn(this.n,0,u)},$t.prototype.imulK=function(s){return s.imul(this.k)};function re(){$t.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(re,$t),re.prototype.split=function(s,u){for(var d=4194303,x=Math.min(s.length,9),_=0;_<x;_++)u.words[_]=s.words[_];if(u.length=x,s.length<=9){s.words[0]=0,s.length=1;return}var E=s.words[9];for(u.words[u.length++]=E&d,_=10;_<s.length;_++){var h=s.words[_]|0;s.words[_-10]=(h&d)<<4|E>>>22,E=h}E>>>=22,s.words[_-10]=E,E===0&&s.length>10?s.length-=10:s.length-=9},re.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,d=0;d<s.length;d++){var x=s.words[d]|0;u+=x*977,s.words[d]=u&67108863,u=x*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function ne(){$t.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(ne,$t);function Jt(){$t.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(Jt,$t);function Ce(){$t.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Ce,$t),Ce.prototype.imulK=function(s){for(var u=0,d=0;d<s.length;d++){var x=(s.words[d]|0)*19+u,_=x&67108863;x>>>=26,s.words[d]=_,u=x}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(le[s])return le[s];var u;if(s==="k256")u=new re;else if(s==="p224")u=new ne;else if(s==="p192")u=new Jt;else if(s==="p25519")u=new Ce;else throw new Error("Unknown prime "+s);return le[s]=u,u};function S(c){if(typeof c=="string"){var s=i._prime(c);this.m=s.p,this.prime=s}else n(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}S.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},S.prototype._verify2=function(s,u){n((s.negative|u.negative)===0,"red works only with positives"),n(s.red&&s.red===u.red,"red works only with red numbers")},S.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(k(s,s.umod(this.m)._forceRed(this)),s)},S.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},S.prototype.add=function(s,u){this._verify2(s,u);var d=s.add(u);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},S.prototype.iadd=function(s,u){this._verify2(s,u);var d=s.iadd(u);return d.cmp(this.m)>=0&&d.isub(this.m),d},S.prototype.sub=function(s,u){this._verify2(s,u);var d=s.sub(u);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},S.prototype.isub=function(s,u){this._verify2(s,u);var d=s.isub(u);return d.cmpn(0)<0&&d.iadd(this.m),d},S.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},S.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},S.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},S.prototype.isqr=function(s){return this.imul(s,s.clone())},S.prototype.sqr=function(s){return this.mul(s,s)},S.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var d=this.m.add(new i(1)).iushrn(2);return this.pow(s,d)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);n(!x.isZero());var E=new i(1).toRed(this),h=E.redNeg(),w=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new i(2*v*v).toRed(this);this.pow(v,w).cmp(h)!==0;)v.redIAdd(h);for(var U=this.pow(v,x),lt=this.pow(s,x.addn(1).iushrn(1)),gt=this.pow(s,x),mt=_;gt.cmp(E)!==0;){for(var Ht=gt,de=0;Ht.cmp(E)!==0;de++)Ht=Ht.redSqr();n(de<mt);var jt=this.pow(U,new i(1).iushln(mt-de-1));lt=lt.redMul(jt),U=jt.redSqr(),gt=gt.redMul(U),mt=de}return lt},S.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},S.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var d=4,x=new Array(1<<d);x[0]=new i(1).toRed(this),x[1]=s;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],s);var E=x[0],h=0,w=0,v=u.bitLength()%26;for(v===0&&(v=26),_=u.length-1;_>=0;_--){for(var U=u.words[_],lt=v-1;lt>=0;lt--){var gt=U>>lt&1;if(E!==x[0]&&(E=this.sqr(E)),gt===0&&h===0){w=0;continue}h<<=1,h|=gt,w++,!(w!==d&&(_!==0||lt!==0))&&(E=this.mul(E,x[h]),w=0,h=0)}v=26}return E},S.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},S.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new l(s)};function l(c){S.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(l,S),l.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},l.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},l.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(u),x=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=d.isub(x).iushrn(this.shift),E=_;return _.cmp(this.m)>=0?E=_.isub(this.m):_.cmpn(0)<0&&(E=_.iadd(this.m)),E._forceRed(this)},l.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var d=s.mul(u),x=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=d.isub(x).iushrn(this.shift),E=_;return _.cmp(this.m)>=0?E=_.isub(this.m):_.cmpn(0)<0&&(E=_.iadd(this.m)),E._forceRed(this)},l.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(r,Na)})(Qa);var t0={exports:{}},Xu={},zu=Object.freeze(Object.defineProperty({__proto__:null,default:Xu},Symbol.toStringTag,{value:"Module"})),e0=Br(zu);(function(r){(function(t){var e=function(y){var M,C=new Float64Array(16);if(y)for(M=0;M<y.length;M++)C[M]=y[M];return C},n=function(){throw new Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var f=e(),b=e([1]),A=e([56129,1]),k=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),N=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),V=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),K=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Z=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function xt(y,M,C,a){y[M]=C>>24&255,y[M+1]=C>>16&255,y[M+2]=C>>8&255,y[M+3]=C&255,y[M+4]=a>>24&255,y[M+5]=a>>16&255,y[M+6]=a>>8&255,y[M+7]=a&255}function Ut(y,M,C,a,D){var j,P=0;for(j=0;j<D;j++)P|=y[M+j]^C[a+j];return(1&P-1>>>8)-1}function Ct(y,M,C,a){return Ut(y,M,C,a,16)}function Dt(y,M,C,a){return Ut(y,M,C,a,32)}function Gt(y,M,C,a){for(var D=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,j=C[0]&255|(C[1]&255)<<8|(C[2]&255)<<16|(C[3]&255)<<24,P=C[4]&255|(C[5]&255)<<8|(C[6]&255)<<16|(C[7]&255)<<24,z=C[8]&255|(C[9]&255)<<8|(C[10]&255)<<16|(C[11]&255)<<24,J=C[12]&255|(C[13]&255)<<8|(C[14]&255)<<16|(C[15]&255)<<24,ot=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,dt=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,Tt=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,ct=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,Q=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,et=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,vt=C[16]&255|(C[17]&255)<<8|(C[18]&255)<<16|(C[19]&255)<<24,ft=C[20]&255|(C[21]&255)<<8|(C[22]&255)<<16|(C[23]&255)<<24,st=C[24]&255|(C[25]&255)<<8|(C[26]&255)<<16|(C[27]&255)<<24,ut=C[28]&255|(C[29]&255)<<8|(C[30]&255)<<16|(C[31]&255)<<24,Mt=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,wt=D,Et=j,bt=P,_t=z,At=J,ht=ot,Y=dt,X=Tt,rt=ct,tt=Q,nt=et,pt=vt,Ot=ft,Lt=st,Kt=ut,Vt=Mt,O,Zt=0;Zt<20;Zt+=2)O=wt+Ot|0,At^=O<<7|O>>>32-7,O=At+wt|0,rt^=O<<9|O>>>32-9,O=rt+At|0,Ot^=O<<13|O>>>32-13,O=Ot+rt|0,wt^=O<<18|O>>>32-18,O=ht+Et|0,tt^=O<<7|O>>>32-7,O=tt+ht|0,Lt^=O<<9|O>>>32-9,O=Lt+tt|0,Et^=O<<13|O>>>32-13,O=Et+Lt|0,ht^=O<<18|O>>>32-18,O=nt+Y|0,Kt^=O<<7|O>>>32-7,O=Kt+nt|0,bt^=O<<9|O>>>32-9,O=bt+Kt|0,Y^=O<<13|O>>>32-13,O=Y+bt|0,nt^=O<<18|O>>>32-18,O=Vt+pt|0,_t^=O<<7|O>>>32-7,O=_t+Vt|0,X^=O<<9|O>>>32-9,O=X+_t|0,pt^=O<<13|O>>>32-13,O=pt+X|0,Vt^=O<<18|O>>>32-18,O=wt+_t|0,Et^=O<<7|O>>>32-7,O=Et+wt|0,bt^=O<<9|O>>>32-9,O=bt+Et|0,_t^=O<<13|O>>>32-13,O=_t+bt|0,wt^=O<<18|O>>>32-18,O=ht+At|0,Y^=O<<7|O>>>32-7,O=Y+ht|0,X^=O<<9|O>>>32-9,O=X+Y|0,At^=O<<13|O>>>32-13,O=At+X|0,ht^=O<<18|O>>>32-18,O=nt+tt|0,pt^=O<<7|O>>>32-7,O=pt+nt|0,rt^=O<<9|O>>>32-9,O=rt+pt|0,tt^=O<<13|O>>>32-13,O=tt+rt|0,nt^=O<<18|O>>>32-18,O=Vt+Kt|0,Ot^=O<<7|O>>>32-7,O=Ot+Vt|0,Lt^=O<<9|O>>>32-9,O=Lt+Ot|0,Kt^=O<<13|O>>>32-13,O=Kt+Lt|0,Vt^=O<<18|O>>>32-18;wt=wt+D|0,Et=Et+j|0,bt=bt+P|0,_t=_t+z|0,At=At+J|0,ht=ht+ot|0,Y=Y+dt|0,X=X+Tt|0,rt=rt+ct|0,tt=tt+Q|0,nt=nt+et|0,pt=pt+vt|0,Ot=Ot+ft|0,Lt=Lt+st|0,Kt=Kt+ut|0,Vt=Vt+Mt|0,y[0]=wt>>>0&255,y[1]=wt>>>8&255,y[2]=wt>>>16&255,y[3]=wt>>>24&255,y[4]=Et>>>0&255,y[5]=Et>>>8&255,y[6]=Et>>>16&255,y[7]=Et>>>24&255,y[8]=bt>>>0&255,y[9]=bt>>>8&255,y[10]=bt>>>16&255,y[11]=bt>>>24&255,y[12]=_t>>>0&255,y[13]=_t>>>8&255,y[14]=_t>>>16&255,y[15]=_t>>>24&255,y[16]=At>>>0&255,y[17]=At>>>8&255,y[18]=At>>>16&255,y[19]=At>>>24&255,y[20]=ht>>>0&255,y[21]=ht>>>8&255,y[22]=ht>>>16&255,y[23]=ht>>>24&255,y[24]=Y>>>0&255,y[25]=Y>>>8&255,y[26]=Y>>>16&255,y[27]=Y>>>24&255,y[28]=X>>>0&255,y[29]=X>>>8&255,y[30]=X>>>16&255,y[31]=X>>>24&255,y[32]=rt>>>0&255,y[33]=rt>>>8&255,y[34]=rt>>>16&255,y[35]=rt>>>24&255,y[36]=tt>>>0&255,y[37]=tt>>>8&255,y[38]=tt>>>16&255,y[39]=tt>>>24&255,y[40]=nt>>>0&255,y[41]=nt>>>8&255,y[42]=nt>>>16&255,y[43]=nt>>>24&255,y[44]=pt>>>0&255,y[45]=pt>>>8&255,y[46]=pt>>>16&255,y[47]=pt>>>24&255,y[48]=Ot>>>0&255,y[49]=Ot>>>8&255,y[50]=Ot>>>16&255,y[51]=Ot>>>24&255,y[52]=Lt>>>0&255,y[53]=Lt>>>8&255,y[54]=Lt>>>16&255,y[55]=Lt>>>24&255,y[56]=Kt>>>0&255,y[57]=Kt>>>8&255,y[58]=Kt>>>16&255,y[59]=Kt>>>24&255,y[60]=Vt>>>0&255,y[61]=Vt>>>8&255,y[62]=Vt>>>16&255,y[63]=Vt>>>24&255}function ue(y,M,C,a){for(var D=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,j=C[0]&255|(C[1]&255)<<8|(C[2]&255)<<16|(C[3]&255)<<24,P=C[4]&255|(C[5]&255)<<8|(C[6]&255)<<16|(C[7]&255)<<24,z=C[8]&255|(C[9]&255)<<8|(C[10]&255)<<16|(C[11]&255)<<24,J=C[12]&255|(C[13]&255)<<8|(C[14]&255)<<16|(C[15]&255)<<24,ot=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,dt=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,Tt=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,ct=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,Q=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,et=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,vt=C[16]&255|(C[17]&255)<<8|(C[18]&255)<<16|(C[19]&255)<<24,ft=C[20]&255|(C[21]&255)<<8|(C[22]&255)<<16|(C[23]&255)<<24,st=C[24]&255|(C[25]&255)<<8|(C[26]&255)<<16|(C[27]&255)<<24,ut=C[28]&255|(C[29]&255)<<8|(C[30]&255)<<16|(C[31]&255)<<24,Mt=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,wt=D,Et=j,bt=P,_t=z,At=J,ht=ot,Y=dt,X=Tt,rt=ct,tt=Q,nt=et,pt=vt,Ot=ft,Lt=st,Kt=ut,Vt=Mt,O,Zt=0;Zt<20;Zt+=2)O=wt+Ot|0,At^=O<<7|O>>>32-7,O=At+wt|0,rt^=O<<9|O>>>32-9,O=rt+At|0,Ot^=O<<13|O>>>32-13,O=Ot+rt|0,wt^=O<<18|O>>>32-18,O=ht+Et|0,tt^=O<<7|O>>>32-7,O=tt+ht|0,Lt^=O<<9|O>>>32-9,O=Lt+tt|0,Et^=O<<13|O>>>32-13,O=Et+Lt|0,ht^=O<<18|O>>>32-18,O=nt+Y|0,Kt^=O<<7|O>>>32-7,O=Kt+nt|0,bt^=O<<9|O>>>32-9,O=bt+Kt|0,Y^=O<<13|O>>>32-13,O=Y+bt|0,nt^=O<<18|O>>>32-18,O=Vt+pt|0,_t^=O<<7|O>>>32-7,O=_t+Vt|0,X^=O<<9|O>>>32-9,O=X+_t|0,pt^=O<<13|O>>>32-13,O=pt+X|0,Vt^=O<<18|O>>>32-18,O=wt+_t|0,Et^=O<<7|O>>>32-7,O=Et+wt|0,bt^=O<<9|O>>>32-9,O=bt+Et|0,_t^=O<<13|O>>>32-13,O=_t+bt|0,wt^=O<<18|O>>>32-18,O=ht+At|0,Y^=O<<7|O>>>32-7,O=Y+ht|0,X^=O<<9|O>>>32-9,O=X+Y|0,At^=O<<13|O>>>32-13,O=At+X|0,ht^=O<<18|O>>>32-18,O=nt+tt|0,pt^=O<<7|O>>>32-7,O=pt+nt|0,rt^=O<<9|O>>>32-9,O=rt+pt|0,tt^=O<<13|O>>>32-13,O=tt+rt|0,nt^=O<<18|O>>>32-18,O=Vt+Kt|0,Ot^=O<<7|O>>>32-7,O=Ot+Vt|0,Lt^=O<<9|O>>>32-9,O=Lt+Ot|0,Kt^=O<<13|O>>>32-13,O=Kt+Lt|0,Vt^=O<<18|O>>>32-18;y[0]=wt>>>0&255,y[1]=wt>>>8&255,y[2]=wt>>>16&255,y[3]=wt>>>24&255,y[4]=ht>>>0&255,y[5]=ht>>>8&255,y[6]=ht>>>16&255,y[7]=ht>>>24&255,y[8]=nt>>>0&255,y[9]=nt>>>8&255,y[10]=nt>>>16&255,y[11]=nt>>>24&255,y[12]=Vt>>>0&255,y[13]=Vt>>>8&255,y[14]=Vt>>>16&255,y[15]=Vt>>>24&255,y[16]=Y>>>0&255,y[17]=Y>>>8&255,y[18]=Y>>>16&255,y[19]=Y>>>24&255,y[20]=X>>>0&255,y[21]=X>>>8&255,y[22]=X>>>16&255,y[23]=X>>>24&255,y[24]=rt>>>0&255,y[25]=rt>>>8&255,y[26]=rt>>>16&255,y[27]=rt>>>24&255,y[28]=tt>>>0&255,y[29]=tt>>>8&255,y[30]=tt>>>16&255,y[31]=tt>>>24&255}function le(y,M,C,a){Gt(y,M,C,a)}function $t(y,M,C,a){ue(y,M,C,a)}var re=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function ne(y,M,C,a,D,j,P){var z=new Uint8Array(16),J=new Uint8Array(64),ot,dt;for(dt=0;dt<16;dt++)z[dt]=0;for(dt=0;dt<8;dt++)z[dt]=j[dt];for(;D>=64;){for(le(J,z,P,re),dt=0;dt<64;dt++)y[M+dt]=C[a+dt]^J[dt];for(ot=1,dt=8;dt<16;dt++)ot=ot+(z[dt]&255)|0,z[dt]=ot&255,ot>>>=8;D-=64,M+=64,a+=64}if(D>0)for(le(J,z,P,re),dt=0;dt<D;dt++)y[M+dt]=C[a+dt]^J[dt];return 0}function Jt(y,M,C,a,D){var j=new Uint8Array(16),P=new Uint8Array(64),z,J;for(J=0;J<16;J++)j[J]=0;for(J=0;J<8;J++)j[J]=a[J];for(;C>=64;){for(le(P,j,D,re),J=0;J<64;J++)y[M+J]=P[J];for(z=1,J=8;J<16;J++)z=z+(j[J]&255)|0,j[J]=z&255,z>>>=8;C-=64,M+=64}if(C>0)for(le(P,j,D,re),J=0;J<C;J++)y[M+J]=P[J];return 0}function Ce(y,M,C,a,D){var j=new Uint8Array(32);$t(j,a,D,re);for(var P=new Uint8Array(8),z=0;z<8;z++)P[z]=a[z+16];return Jt(y,M,C,P,j)}function S(y,M,C,a,D,j,P){var z=new Uint8Array(32);$t(z,j,P,re);for(var J=new Uint8Array(8),ot=0;ot<8;ot++)J[ot]=j[ot+16];return ne(y,M,C,a,D,J,z)}var l=function(y){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var M,C,a,D,j,P,z,J;M=y[0]&255|(y[1]&255)<<8,this.r[0]=M&8191,C=y[2]&255|(y[3]&255)<<8,this.r[1]=(M>>>13|C<<3)&8191,a=y[4]&255|(y[5]&255)<<8,this.r[2]=(C>>>10|a<<6)&7939,D=y[6]&255|(y[7]&255)<<8,this.r[3]=(a>>>7|D<<9)&8191,j=y[8]&255|(y[9]&255)<<8,this.r[4]=(D>>>4|j<<12)&255,this.r[5]=j>>>1&8190,P=y[10]&255|(y[11]&255)<<8,this.r[6]=(j>>>14|P<<2)&8191,z=y[12]&255|(y[13]&255)<<8,this.r[7]=(P>>>11|z<<5)&8065,J=y[14]&255|(y[15]&255)<<8,this.r[8]=(z>>>8|J<<8)&8191,this.r[9]=J>>>5&127,this.pad[0]=y[16]&255|(y[17]&255)<<8,this.pad[1]=y[18]&255|(y[19]&255)<<8,this.pad[2]=y[20]&255|(y[21]&255)<<8,this.pad[3]=y[22]&255|(y[23]&255)<<8,this.pad[4]=y[24]&255|(y[25]&255)<<8,this.pad[5]=y[26]&255|(y[27]&255)<<8,this.pad[6]=y[28]&255|(y[29]&255)<<8,this.pad[7]=y[30]&255|(y[31]&255)<<8};l.prototype.blocks=function(y,M,C){for(var a=this.fin?0:2048,D,j,P,z,J,ot,dt,Tt,ct,Q,et,vt,ft,st,ut,Mt,wt,Et,bt,_t=this.h[0],At=this.h[1],ht=this.h[2],Y=this.h[3],X=this.h[4],rt=this.h[5],tt=this.h[6],nt=this.h[7],pt=this.h[8],Ot=this.h[9],Lt=this.r[0],Kt=this.r[1],Vt=this.r[2],O=this.r[3],Zt=this.r[4],ae=this.r[5],fe=this.r[6],te=this.r[7],Fe=this.r[8],Se=this.r[9];C>=16;)D=y[M+0]&255|(y[M+1]&255)<<8,_t+=D&8191,j=y[M+2]&255|(y[M+3]&255)<<8,At+=(D>>>13|j<<3)&8191,P=y[M+4]&255|(y[M+5]&255)<<8,ht+=(j>>>10|P<<6)&8191,z=y[M+6]&255|(y[M+7]&255)<<8,Y+=(P>>>7|z<<9)&8191,J=y[M+8]&255|(y[M+9]&255)<<8,X+=(z>>>4|J<<12)&8191,rt+=J>>>1&8191,ot=y[M+10]&255|(y[M+11]&255)<<8,tt+=(J>>>14|ot<<2)&8191,dt=y[M+12]&255|(y[M+13]&255)<<8,nt+=(ot>>>11|dt<<5)&8191,Tt=y[M+14]&255|(y[M+15]&255)<<8,pt+=(dt>>>8|Tt<<8)&8191,Ot+=Tt>>>5|a,ct=0,Q=ct,Q+=_t*Lt,Q+=At*(5*Se),Q+=ht*(5*Fe),Q+=Y*(5*te),Q+=X*(5*fe),ct=Q>>>13,Q&=8191,Q+=rt*(5*ae),Q+=tt*(5*Zt),Q+=nt*(5*O),Q+=pt*(5*Vt),Q+=Ot*(5*Kt),ct+=Q>>>13,Q&=8191,et=ct,et+=_t*Kt,et+=At*Lt,et+=ht*(5*Se),et+=Y*(5*Fe),et+=X*(5*te),ct=et>>>13,et&=8191,et+=rt*(5*fe),et+=tt*(5*ae),et+=nt*(5*Zt),et+=pt*(5*O),et+=Ot*(5*Vt),ct+=et>>>13,et&=8191,vt=ct,vt+=_t*Vt,vt+=At*Kt,vt+=ht*Lt,vt+=Y*(5*Se),vt+=X*(5*Fe),ct=vt>>>13,vt&=8191,vt+=rt*(5*te),vt+=tt*(5*fe),vt+=nt*(5*ae),vt+=pt*(5*Zt),vt+=Ot*(5*O),ct+=vt>>>13,vt&=8191,ft=ct,ft+=_t*O,ft+=At*Vt,ft+=ht*Kt,ft+=Y*Lt,ft+=X*(5*Se),ct=ft>>>13,ft&=8191,ft+=rt*(5*Fe),ft+=tt*(5*te),ft+=nt*(5*fe),ft+=pt*(5*ae),ft+=Ot*(5*Zt),ct+=ft>>>13,ft&=8191,st=ct,st+=_t*Zt,st+=At*O,st+=ht*Vt,st+=Y*Kt,st+=X*Lt,ct=st>>>13,st&=8191,st+=rt*(5*Se),st+=tt*(5*Fe),st+=nt*(5*te),st+=pt*(5*fe),st+=Ot*(5*ae),ct+=st>>>13,st&=8191,ut=ct,ut+=_t*ae,ut+=At*Zt,ut+=ht*O,ut+=Y*Vt,ut+=X*Kt,ct=ut>>>13,ut&=8191,ut+=rt*Lt,ut+=tt*(5*Se),ut+=nt*(5*Fe),ut+=pt*(5*te),ut+=Ot*(5*fe),ct+=ut>>>13,ut&=8191,Mt=ct,Mt+=_t*fe,Mt+=At*ae,Mt+=ht*Zt,Mt+=Y*O,Mt+=X*Vt,ct=Mt>>>13,Mt&=8191,Mt+=rt*Kt,Mt+=tt*Lt,Mt+=nt*(5*Se),Mt+=pt*(5*Fe),Mt+=Ot*(5*te),ct+=Mt>>>13,Mt&=8191,wt=ct,wt+=_t*te,wt+=At*fe,wt+=ht*ae,wt+=Y*Zt,wt+=X*O,ct=wt>>>13,wt&=8191,wt+=rt*Vt,wt+=tt*Kt,wt+=nt*Lt,wt+=pt*(5*Se),wt+=Ot*(5*Fe),ct+=wt>>>13,wt&=8191,Et=ct,Et+=_t*Fe,Et+=At*te,Et+=ht*fe,Et+=Y*ae,Et+=X*Zt,ct=Et>>>13,Et&=8191,Et+=rt*O,Et+=tt*Vt,Et+=nt*Kt,Et+=pt*Lt,Et+=Ot*(5*Se),ct+=Et>>>13,Et&=8191,bt=ct,bt+=_t*Se,bt+=At*Fe,bt+=ht*te,bt+=Y*fe,bt+=X*ae,ct=bt>>>13,bt&=8191,bt+=rt*Zt,bt+=tt*O,bt+=nt*Vt,bt+=pt*Kt,bt+=Ot*Lt,ct+=bt>>>13,bt&=8191,ct=(ct<<2)+ct|0,ct=ct+Q|0,Q=ct&8191,ct=ct>>>13,et+=ct,_t=Q,At=et,ht=vt,Y=ft,X=st,rt=ut,tt=Mt,nt=wt,pt=Et,Ot=bt,M+=16,C-=16;this.h[0]=_t,this.h[1]=At,this.h[2]=ht,this.h[3]=Y,this.h[4]=X,this.h[5]=rt,this.h[6]=tt,this.h[7]=nt,this.h[8]=pt,this.h[9]=Ot},l.prototype.finish=function(y,M){var C=new Uint16Array(10),a,D,j,P;if(this.leftover){for(P=this.leftover,this.buffer[P++]=1;P<16;P++)this.buffer[P]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(a=this.h[1]>>>13,this.h[1]&=8191,P=2;P<10;P++)this.h[P]+=a,a=this.h[P]>>>13,this.h[P]&=8191;for(this.h[0]+=a*5,a=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=a,a=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=a,C[0]=this.h[0]+5,a=C[0]>>>13,C[0]&=8191,P=1;P<10;P++)C[P]=this.h[P]+a,a=C[P]>>>13,C[P]&=8191;for(C[9]-=1<<13,D=(a^1)-1,P=0;P<10;P++)C[P]&=D;for(D=~D,P=0;P<10;P++)this.h[P]=this.h[P]&D|C[P];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,j=this.h[0]+this.pad[0],this.h[0]=j&65535,P=1;P<8;P++)j=(this.h[P]+this.pad[P]|0)+(j>>>16)|0,this.h[P]=j&65535;y[M+0]=this.h[0]>>>0&255,y[M+1]=this.h[0]>>>8&255,y[M+2]=this.h[1]>>>0&255,y[M+3]=this.h[1]>>>8&255,y[M+4]=this.h[2]>>>0&255,y[M+5]=this.h[2]>>>8&255,y[M+6]=this.h[3]>>>0&255,y[M+7]=this.h[3]>>>8&255,y[M+8]=this.h[4]>>>0&255,y[M+9]=this.h[4]>>>8&255,y[M+10]=this.h[5]>>>0&255,y[M+11]=this.h[5]>>>8&255,y[M+12]=this.h[6]>>>0&255,y[M+13]=this.h[6]>>>8&255,y[M+14]=this.h[7]>>>0&255,y[M+15]=this.h[7]>>>8&255},l.prototype.update=function(y,M,C){var a,D;if(this.leftover){for(D=16-this.leftover,D>C&&(D=C),a=0;a<D;a++)this.buffer[this.leftover+a]=y[M+a];if(C-=D,M+=D,this.leftover+=D,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(C>=16&&(D=C-C%16,this.blocks(y,M,D),M+=D,C-=D),C){for(a=0;a<C;a++)this.buffer[this.leftover+a]=y[M+a];this.leftover+=C}};function c(y,M,C,a,D,j){var P=new l(j);return P.update(C,a,D),P.finish(y,M),0}function s(y,M,C,a,D,j){var P=new Uint8Array(16);return c(P,0,C,a,D,j),Ct(y,M,P,0)}function u(y,M,C,a,D){var j;if(C<32)return-1;for(S(y,0,M,0,C,a,D),c(y,16,y,32,C-32,y),j=0;j<16;j++)y[j]=0;return 0}function d(y,M,C,a,D){var j,P=new Uint8Array(32);if(C<32||(Ce(P,0,32,a,D),s(M,16,M,32,C-32,P)!==0))return-1;for(S(y,0,M,0,C,a,D),j=0;j<32;j++)y[j]=0;return 0}function x(y,M){var C;for(C=0;C<16;C++)y[C]=M[C]|0}function _(y){var M,C,a=1;for(M=0;M<16;M++)C=y[M]+a+65535,a=Math.floor(C/65536),y[M]=C-a*65536;y[0]+=a-1+37*(a-1)}function E(y,M,C){for(var a,D=~(C-1),j=0;j<16;j++)a=D&(y[j]^M[j]),y[j]^=a,M[j]^=a}function h(y,M){var C,a,D,j=e(),P=e();for(C=0;C<16;C++)P[C]=M[C];for(_(P),_(P),_(P),a=0;a<2;a++){for(j[0]=P[0]-65517,C=1;C<15;C++)j[C]=P[C]-65535-(j[C-1]>>16&1),j[C-1]&=65535;j[15]=P[15]-32767-(j[14]>>16&1),D=j[15]>>16&1,j[14]&=65535,E(P,j,1-D)}for(C=0;C<16;C++)y[2*C]=P[C]&255,y[2*C+1]=P[C]>>8}function w(y,M){var C=new Uint8Array(32),a=new Uint8Array(32);return h(C,y),h(a,M),Dt(C,0,a,0)}function v(y){var M=new Uint8Array(32);return h(M,y),M[0]&1}function U(y,M){var C;for(C=0;C<16;C++)y[C]=M[2*C]+(M[2*C+1]<<8);y[15]&=32767}function lt(y,M,C){for(var a=0;a<16;a++)y[a]=M[a]+C[a]}function gt(y,M,C){for(var a=0;a<16;a++)y[a]=M[a]-C[a]}function mt(y,M,C){var a,D,j=0,P=0,z=0,J=0,ot=0,dt=0,Tt=0,ct=0,Q=0,et=0,vt=0,ft=0,st=0,ut=0,Mt=0,wt=0,Et=0,bt=0,_t=0,At=0,ht=0,Y=0,X=0,rt=0,tt=0,nt=0,pt=0,Ot=0,Lt=0,Kt=0,Vt=0,O=C[0],Zt=C[1],ae=C[2],fe=C[3],te=C[4],Fe=C[5],Se=C[6],ke=C[7],Ie=C[8],Ne=C[9],Re=C[10],Ue=C[11],je=C[12],Ke=C[13],Ge=C[14],Ye=C[15];a=M[0],j+=a*O,P+=a*Zt,z+=a*ae,J+=a*fe,ot+=a*te,dt+=a*Fe,Tt+=a*Se,ct+=a*ke,Q+=a*Ie,et+=a*Ne,vt+=a*Re,ft+=a*Ue,st+=a*je,ut+=a*Ke,Mt+=a*Ge,wt+=a*Ye,a=M[1],P+=a*O,z+=a*Zt,J+=a*ae,ot+=a*fe,dt+=a*te,Tt+=a*Fe,ct+=a*Se,Q+=a*ke,et+=a*Ie,vt+=a*Ne,ft+=a*Re,st+=a*Ue,ut+=a*je,Mt+=a*Ke,wt+=a*Ge,Et+=a*Ye,a=M[2],z+=a*O,J+=a*Zt,ot+=a*ae,dt+=a*fe,Tt+=a*te,ct+=a*Fe,Q+=a*Se,et+=a*ke,vt+=a*Ie,ft+=a*Ne,st+=a*Re,ut+=a*Ue,Mt+=a*je,wt+=a*Ke,Et+=a*Ge,bt+=a*Ye,a=M[3],J+=a*O,ot+=a*Zt,dt+=a*ae,Tt+=a*fe,ct+=a*te,Q+=a*Fe,et+=a*Se,vt+=a*ke,ft+=a*Ie,st+=a*Ne,ut+=a*Re,Mt+=a*Ue,wt+=a*je,Et+=a*Ke,bt+=a*Ge,_t+=a*Ye,a=M[4],ot+=a*O,dt+=a*Zt,Tt+=a*ae,ct+=a*fe,Q+=a*te,et+=a*Fe,vt+=a*Se,ft+=a*ke,st+=a*Ie,ut+=a*Ne,Mt+=a*Re,wt+=a*Ue,Et+=a*je,bt+=a*Ke,_t+=a*Ge,At+=a*Ye,a=M[5],dt+=a*O,Tt+=a*Zt,ct+=a*ae,Q+=a*fe,et+=a*te,vt+=a*Fe,ft+=a*Se,st+=a*ke,ut+=a*Ie,Mt+=a*Ne,wt+=a*Re,Et+=a*Ue,bt+=a*je,_t+=a*Ke,At+=a*Ge,ht+=a*Ye,a=M[6],Tt+=a*O,ct+=a*Zt,Q+=a*ae,et+=a*fe,vt+=a*te,ft+=a*Fe,st+=a*Se,ut+=a*ke,Mt+=a*Ie,wt+=a*Ne,Et+=a*Re,bt+=a*Ue,_t+=a*je,At+=a*Ke,ht+=a*Ge,Y+=a*Ye,a=M[7],ct+=a*O,Q+=a*Zt,et+=a*ae,vt+=a*fe,ft+=a*te,st+=a*Fe,ut+=a*Se,Mt+=a*ke,wt+=a*Ie,Et+=a*Ne,bt+=a*Re,_t+=a*Ue,At+=a*je,ht+=a*Ke,Y+=a*Ge,X+=a*Ye,a=M[8],Q+=a*O,et+=a*Zt,vt+=a*ae,ft+=a*fe,st+=a*te,ut+=a*Fe,Mt+=a*Se,wt+=a*ke,Et+=a*Ie,bt+=a*Ne,_t+=a*Re,At+=a*Ue,ht+=a*je,Y+=a*Ke,X+=a*Ge,rt+=a*Ye,a=M[9],et+=a*O,vt+=a*Zt,ft+=a*ae,st+=a*fe,ut+=a*te,Mt+=a*Fe,wt+=a*Se,Et+=a*ke,bt+=a*Ie,_t+=a*Ne,At+=a*Re,ht+=a*Ue,Y+=a*je,X+=a*Ke,rt+=a*Ge,tt+=a*Ye,a=M[10],vt+=a*O,ft+=a*Zt,st+=a*ae,ut+=a*fe,Mt+=a*te,wt+=a*Fe,Et+=a*Se,bt+=a*ke,_t+=a*Ie,At+=a*Ne,ht+=a*Re,Y+=a*Ue,X+=a*je,rt+=a*Ke,tt+=a*Ge,nt+=a*Ye,a=M[11],ft+=a*O,st+=a*Zt,ut+=a*ae,Mt+=a*fe,wt+=a*te,Et+=a*Fe,bt+=a*Se,_t+=a*ke,At+=a*Ie,ht+=a*Ne,Y+=a*Re,X+=a*Ue,rt+=a*je,tt+=a*Ke,nt+=a*Ge,pt+=a*Ye,a=M[12],st+=a*O,ut+=a*Zt,Mt+=a*ae,wt+=a*fe,Et+=a*te,bt+=a*Fe,_t+=a*Se,At+=a*ke,ht+=a*Ie,Y+=a*Ne,X+=a*Re,rt+=a*Ue,tt+=a*je,nt+=a*Ke,pt+=a*Ge,Ot+=a*Ye,a=M[13],ut+=a*O,Mt+=a*Zt,wt+=a*ae,Et+=a*fe,bt+=a*te,_t+=a*Fe,At+=a*Se,ht+=a*ke,Y+=a*Ie,X+=a*Ne,rt+=a*Re,tt+=a*Ue,nt+=a*je,pt+=a*Ke,Ot+=a*Ge,Lt+=a*Ye,a=M[14],Mt+=a*O,wt+=a*Zt,Et+=a*ae,bt+=a*fe,_t+=a*te,At+=a*Fe,ht+=a*Se,Y+=a*ke,X+=a*Ie,rt+=a*Ne,tt+=a*Re,nt+=a*Ue,pt+=a*je,Ot+=a*Ke,Lt+=a*Ge,Kt+=a*Ye,a=M[15],wt+=a*O,Et+=a*Zt,bt+=a*ae,_t+=a*fe,At+=a*te,ht+=a*Fe,Y+=a*Se,X+=a*ke,rt+=a*Ie,tt+=a*Ne,nt+=a*Re,pt+=a*Ue,Ot+=a*je,Lt+=a*Ke,Kt+=a*Ge,Vt+=a*Ye,j+=38*Et,P+=38*bt,z+=38*_t,J+=38*At,ot+=38*ht,dt+=38*Y,Tt+=38*X,ct+=38*rt,Q+=38*tt,et+=38*nt,vt+=38*pt,ft+=38*Ot,st+=38*Lt,ut+=38*Kt,Mt+=38*Vt,D=1,a=j+D+65535,D=Math.floor(a/65536),j=a-D*65536,a=P+D+65535,D=Math.floor(a/65536),P=a-D*65536,a=z+D+65535,D=Math.floor(a/65536),z=a-D*65536,a=J+D+65535,D=Math.floor(a/65536),J=a-D*65536,a=ot+D+65535,D=Math.floor(a/65536),ot=a-D*65536,a=dt+D+65535,D=Math.floor(a/65536),dt=a-D*65536,a=Tt+D+65535,D=Math.floor(a/65536),Tt=a-D*65536,a=ct+D+65535,D=Math.floor(a/65536),ct=a-D*65536,a=Q+D+65535,D=Math.floor(a/65536),Q=a-D*65536,a=et+D+65535,D=Math.floor(a/65536),et=a-D*65536,a=vt+D+65535,D=Math.floor(a/65536),vt=a-D*65536,a=ft+D+65535,D=Math.floor(a/65536),ft=a-D*65536,a=st+D+65535,D=Math.floor(a/65536),st=a-D*65536,a=ut+D+65535,D=Math.floor(a/65536),ut=a-D*65536,a=Mt+D+65535,D=Math.floor(a/65536),Mt=a-D*65536,a=wt+D+65535,D=Math.floor(a/65536),wt=a-D*65536,j+=D-1+37*(D-1),D=1,a=j+D+65535,D=Math.floor(a/65536),j=a-D*65536,a=P+D+65535,D=Math.floor(a/65536),P=a-D*65536,a=z+D+65535,D=Math.floor(a/65536),z=a-D*65536,a=J+D+65535,D=Math.floor(a/65536),J=a-D*65536,a=ot+D+65535,D=Math.floor(a/65536),ot=a-D*65536,a=dt+D+65535,D=Math.floor(a/65536),dt=a-D*65536,a=Tt+D+65535,D=Math.floor(a/65536),Tt=a-D*65536,a=ct+D+65535,D=Math.floor(a/65536),ct=a-D*65536,a=Q+D+65535,D=Math.floor(a/65536),Q=a-D*65536,a=et+D+65535,D=Math.floor(a/65536),et=a-D*65536,a=vt+D+65535,D=Math.floor(a/65536),vt=a-D*65536,a=ft+D+65535,D=Math.floor(a/65536),ft=a-D*65536,a=st+D+65535,D=Math.floor(a/65536),st=a-D*65536,a=ut+D+65535,D=Math.floor(a/65536),ut=a-D*65536,a=Mt+D+65535,D=Math.floor(a/65536),Mt=a-D*65536,a=wt+D+65535,D=Math.floor(a/65536),wt=a-D*65536,j+=D-1+37*(D-1),y[0]=j,y[1]=P,y[2]=z,y[3]=J,y[4]=ot,y[5]=dt,y[6]=Tt,y[7]=ct,y[8]=Q,y[9]=et,y[10]=vt,y[11]=ft,y[12]=st,y[13]=ut,y[14]=Mt,y[15]=wt}function Ht(y,M){mt(y,M,M)}function de(y,M){var C=e(),a;for(a=0;a<16;a++)C[a]=M[a];for(a=253;a>=0;a--)Ht(C,C),a!==2&&a!==4&&mt(C,C,M);for(a=0;a<16;a++)y[a]=C[a]}function jt(y,M){var C=e(),a;for(a=0;a<16;a++)C[a]=M[a];for(a=250;a>=0;a--)Ht(C,C),a!==1&&mt(C,C,M);for(a=0;a<16;a++)y[a]=C[a]}function oe(y,M,C){var a=new Uint8Array(32),D=new Float64Array(80),j,P,z=e(),J=e(),ot=e(),dt=e(),Tt=e(),ct=e();for(P=0;P<31;P++)a[P]=M[P];for(a[31]=M[31]&127|64,a[0]&=248,U(D,C),P=0;P<16;P++)J[P]=D[P],dt[P]=z[P]=ot[P]=0;for(z[0]=dt[0]=1,P=254;P>=0;--P)j=a[P>>>3]>>>(P&7)&1,E(z,J,j),E(ot,dt,j),lt(Tt,z,ot),gt(z,z,ot),lt(ot,J,dt),gt(J,J,dt),Ht(dt,Tt),Ht(ct,z),mt(z,ot,z),mt(ot,J,Tt),lt(Tt,z,ot),gt(z,z,ot),Ht(J,z),gt(ot,dt,ct),mt(z,ot,A),lt(z,z,dt),mt(ot,ot,z),mt(z,dt,ct),mt(dt,J,D),Ht(J,Tt),E(z,J,j),E(ot,dt,j);for(P=0;P<16;P++)D[P+16]=z[P],D[P+32]=ot[P],D[P+48]=J[P],D[P+64]=dt[P];var Q=D.subarray(32),et=D.subarray(16);return de(Q,Q),mt(et,et,Q),h(y,et),0}function he(y,M){return oe(y,M,i)}function Ft(y,M){return n(M,32),he(y,M)}function ce(y,M,C){var a=new Uint8Array(32);return oe(a,C,M),$t(y,o,a,re)}var _e=u,Qt=d;function Be(y,M,C,a,D,j){var P=new Uint8Array(32);return ce(P,D,j),_e(y,M,C,a,P)}function me(y,M,C,a,D,j){var P=new Uint8Array(32);return ce(P,D,j),Qt(y,M,C,a,P)}var ie=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ye(y,M,C,a){for(var D=new Int32Array(16),j=new Int32Array(16),P,z,J,ot,dt,Tt,ct,Q,et,vt,ft,st,ut,Mt,wt,Et,bt,_t,At,ht,Y,X,rt,tt,nt,pt,Ot=y[0],Lt=y[1],Kt=y[2],Vt=y[3],O=y[4],Zt=y[5],ae=y[6],fe=y[7],te=M[0],Fe=M[1],Se=M[2],ke=M[3],Ie=M[4],Ne=M[5],Re=M[6],Ue=M[7],je=0;a>=128;){for(At=0;At<16;At++)ht=8*At+je,D[At]=C[ht+0]<<24|C[ht+1]<<16|C[ht+2]<<8|C[ht+3],j[At]=C[ht+4]<<24|C[ht+5]<<16|C[ht+6]<<8|C[ht+7];for(At=0;At<80;At++)if(P=Ot,z=Lt,J=Kt,ot=Vt,dt=O,Tt=Zt,ct=ae,Q=fe,et=te,vt=Fe,ft=Se,st=ke,ut=Ie,Mt=Ne,wt=Re,Et=Ue,Y=fe,X=Ue,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=(O>>>14|Ie<<32-14)^(O>>>18|Ie<<32-18)^(Ie>>>41-32|O<<32-(41-32)),X=(Ie>>>14|O<<32-14)^(Ie>>>18|O<<32-18)^(O>>>41-32|Ie<<32-(41-32)),rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,Y=O&Zt^~O&ae,X=Ie&Ne^~Ie&Re,rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,Y=ie[At*2],X=ie[At*2+1],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,Y=D[At%16],X=j[At%16],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,bt=nt&65535|pt<<16,_t=rt&65535|tt<<16,Y=bt,X=_t,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=(Ot>>>28|te<<32-28)^(te>>>34-32|Ot<<32-(34-32))^(te>>>39-32|Ot<<32-(39-32)),X=(te>>>28|Ot<<32-28)^(Ot>>>34-32|te<<32-(34-32))^(Ot>>>39-32|te<<32-(39-32)),rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,Y=Ot&Lt^Ot&Kt^Lt&Kt,X=te&Fe^te&Se^Fe&Se,rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,Q=nt&65535|pt<<16,Et=rt&65535|tt<<16,Y=ot,X=st,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=bt,X=_t,rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,ot=nt&65535|pt<<16,st=rt&65535|tt<<16,Lt=P,Kt=z,Vt=J,O=ot,Zt=dt,ae=Tt,fe=ct,Ot=Q,Fe=et,Se=vt,ke=ft,Ie=st,Ne=ut,Re=Mt,Ue=wt,te=Et,At%16===15)for(ht=0;ht<16;ht++)Y=D[ht],X=j[ht],rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=D[(ht+9)%16],X=j[(ht+9)%16],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,bt=D[(ht+1)%16],_t=j[(ht+1)%16],Y=(bt>>>1|_t<<32-1)^(bt>>>8|_t<<32-8)^bt>>>7,X=(_t>>>1|bt<<32-1)^(_t>>>8|bt<<32-8)^(_t>>>7|bt<<32-7),rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,bt=D[(ht+14)%16],_t=j[(ht+14)%16],Y=(bt>>>19|_t<<32-19)^(_t>>>61-32|bt<<32-(61-32))^bt>>>6,X=(_t>>>19|bt<<32-19)^(bt>>>61-32|_t<<32-(61-32))^(_t>>>6|bt<<32-6),rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,D[ht]=nt&65535|pt<<16,j[ht]=rt&65535|tt<<16;Y=Ot,X=te,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[0],X=M[0],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[0]=Ot=nt&65535|pt<<16,M[0]=te=rt&65535|tt<<16,Y=Lt,X=Fe,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[1],X=M[1],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[1]=Lt=nt&65535|pt<<16,M[1]=Fe=rt&65535|tt<<16,Y=Kt,X=Se,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[2],X=M[2],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[2]=Kt=nt&65535|pt<<16,M[2]=Se=rt&65535|tt<<16,Y=Vt,X=ke,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[3],X=M[3],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[3]=Vt=nt&65535|pt<<16,M[3]=ke=rt&65535|tt<<16,Y=O,X=Ie,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[4],X=M[4],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[4]=O=nt&65535|pt<<16,M[4]=Ie=rt&65535|tt<<16,Y=Zt,X=Ne,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[5],X=M[5],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[5]=Zt=nt&65535|pt<<16,M[5]=Ne=rt&65535|tt<<16,Y=ae,X=Re,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[6],X=M[6],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[6]=ae=nt&65535|pt<<16,M[6]=Re=rt&65535|tt<<16,Y=fe,X=Ue,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[7],X=M[7],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[7]=fe=nt&65535|pt<<16,M[7]=Ue=rt&65535|tt<<16,je+=128,a-=128}return a}function se(y,M,C){var a=new Int32Array(8),D=new Int32Array(8),j=new Uint8Array(256),P,z=C;for(a[0]=1779033703,a[1]=3144134277,a[2]=1013904242,a[3]=2773480762,a[4]=1359893119,a[5]=2600822924,a[6]=528734635,a[7]=1541459225,D[0]=4089235720,D[1]=2227873595,D[2]=4271175723,D[3]=1595750129,D[4]=2917565137,D[5]=725511199,D[6]=4215389547,D[7]=327033209,ye(a,D,M,C),C%=128,P=0;P<C;P++)j[P]=M[z-C+P];for(j[C]=128,C=256-128*(C<112?1:0),j[C-9]=0,xt(j,C-8,z/536870912|0,z<<3),ye(a,D,j,C),P=0;P<8;P++)xt(y,8*P,a[P],D[P]);return 0}function zt(y,M){var C=e(),a=e(),D=e(),j=e(),P=e(),z=e(),J=e(),ot=e(),dt=e();gt(C,y[1],y[0]),gt(dt,M[1],M[0]),mt(C,C,dt),lt(a,y[0],y[1]),lt(dt,M[0],M[1]),mt(a,a,dt),mt(D,y[3],M[3]),mt(D,D,N),mt(j,y[2],M[2]),lt(j,j,j),gt(P,a,C),gt(z,j,D),lt(J,j,D),lt(ot,a,C),mt(y[0],P,z),mt(y[1],ot,J),mt(y[2],J,z),mt(y[3],P,ot)}function Ae(y,M,C){var a;for(a=0;a<4;a++)E(y[a],M[a],C)}function pe(y,M){var C=e(),a=e(),D=e();de(D,M[2]),mt(C,M[0],D),mt(a,M[1],D),h(y,a),y[31]^=v(C)<<7}function Pt(y,M,C){var a,D;for(x(y[0],f),x(y[1],b),x(y[2],b),x(y[3],f),D=255;D>=0;--D)a=C[D/8|0]>>(D&7)&1,Ae(y,M,a),zt(M,y),zt(y,y),Ae(y,M,a)}function be(y,M){var C=[e(),e(),e(),e()];x(C[0],V),x(C[1],K),x(C[2],b),mt(C[3],V,K),Pt(y,C,M)}function ve(y,M,C){var a=new Uint8Array(64),D=[e(),e(),e(),e()],j;for(C||n(M,32),se(a,M,32),a[0]&=248,a[31]&=127,a[31]|=64,be(D,a),pe(y,D),j=0;j<32;j++)M[j+32]=y[j];return 0}var Xt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function I(y,M){var C,a,D,j;for(a=63;a>=32;--a){for(C=0,D=a-32,j=a-12;D<j;++D)M[D]+=C-16*M[a]*Xt[D-(a-32)],C=Math.floor((M[D]+128)/256),M[D]-=C*256;M[D]+=C,M[a]=0}for(C=0,D=0;D<32;D++)M[D]+=C-(M[31]>>4)*Xt[D],C=M[D]>>8,M[D]&=255;for(D=0;D<32;D++)M[D]-=C*Xt[D];for(a=0;a<32;a++)M[a+1]+=M[a]>>8,y[a]=M[a]&255}function p(y){var M=new Float64Array(64),C;for(C=0;C<64;C++)M[C]=y[C];for(C=0;C<64;C++)y[C]=0;I(y,M)}function g(y,M,C,a){var D=new Uint8Array(64),j=new Uint8Array(64),P=new Uint8Array(64),z,J,ot=new Float64Array(64),dt=[e(),e(),e(),e()];se(D,a,32),D[0]&=248,D[31]&=127,D[31]|=64;var Tt=C+64;for(z=0;z<C;z++)y[64+z]=M[z];for(z=0;z<32;z++)y[32+z]=D[32+z];for(se(P,y.subarray(32),C+32),p(P),be(dt,P),pe(y,dt),z=32;z<64;z++)y[z]=a[z];for(se(j,y,C+64),p(j),z=0;z<64;z++)ot[z]=0;for(z=0;z<32;z++)ot[z]=P[z];for(z=0;z<32;z++)for(J=0;J<32;J++)ot[z+J]+=j[z]*D[J];return I(y.subarray(32),ot),Tt}function $(y,M){var C=e(),a=e(),D=e(),j=e(),P=e(),z=e(),J=e();return x(y[2],b),U(y[1],M),Ht(D,y[1]),mt(j,D,k),gt(D,D,y[2]),lt(j,y[2],j),Ht(P,j),Ht(z,P),mt(J,z,P),mt(C,J,D),mt(C,C,j),jt(C,C),mt(C,C,D),mt(C,C,j),mt(C,C,j),mt(y[0],C,j),Ht(a,y[0]),mt(a,a,j),w(a,D)&&mt(y[0],y[0],Z),Ht(a,y[0]),mt(a,a,j),w(a,D)?-1:(v(y[0])===M[31]>>7&&gt(y[0],f,y[0]),mt(y[3],y[0],y[1]),0)}function H(y,M,C,a){var D,j=new Uint8Array(32),P=new Uint8Array(64),z=[e(),e(),e(),e()],J=[e(),e(),e(),e()];if(C<64||$(J,a))return-1;for(D=0;D<C;D++)y[D]=M[D];for(D=0;D<32;D++)y[D+32]=a[D];if(se(P,y,C),p(P),Pt(z,J,P),be(J,M.subarray(32)),zt(z,J),pe(j,z),C-=64,Dt(M,0,j,0)){for(D=0;D<C;D++)y[D]=0;return-1}for(D=0;D<C;D++)y[D]=M[D+64];return C}var G=32,it=24,kt=32,Nt=16,qt=32,Yt=32,St=32,Me=32,ge=32,Wt=it,F=kt,R=Nt,T=64,m=32,B=64,q=32,W=64;t.lowlevel={crypto_core_hsalsa20:$t,crypto_stream_xor:S,crypto_stream:Ce,crypto_stream_salsa20_xor:ne,crypto_stream_salsa20:Jt,crypto_onetimeauth:c,crypto_onetimeauth_verify:s,crypto_verify_16:Ct,crypto_verify_32:Dt,crypto_secretbox:u,crypto_secretbox_open:d,crypto_scalarmult:oe,crypto_scalarmult_base:he,crypto_box_beforenm:ce,crypto_box_afternm:_e,crypto_box:Be,crypto_box_open:me,crypto_box_keypair:Ft,crypto_hash:se,crypto_sign:g,crypto_sign_keypair:ve,crypto_sign_open:H,crypto_secretbox_KEYBYTES:G,crypto_secretbox_NONCEBYTES:it,crypto_secretbox_ZEROBYTES:kt,crypto_secretbox_BOXZEROBYTES:Nt,crypto_scalarmult_BYTES:qt,crypto_scalarmult_SCALARBYTES:Yt,crypto_box_PUBLICKEYBYTES:St,crypto_box_SECRETKEYBYTES:Me,crypto_box_BEFORENMBYTES:ge,crypto_box_NONCEBYTES:Wt,crypto_box_ZEROBYTES:F,crypto_box_BOXZEROBYTES:R,crypto_sign_BYTES:T,crypto_sign_PUBLICKEYBYTES:m,crypto_sign_SECRETKEYBYTES:B,crypto_sign_SEEDBYTES:q,crypto_hash_BYTES:W,gf:e,D:k,L:Xt,pack25519:h,unpack25519:U,M:mt,A:lt,S:Ht,Z:gt,pow2523:jt,add:zt,set25519:x,modL:I,scalarmult:Pt,scalarbase:be};function at(y,M){if(y.length!==G)throw new Error("bad key size");if(M.length!==it)throw new Error("bad nonce size")}function L(y,M){if(y.length!==St)throw new Error("bad public key size");if(M.length!==Me)throw new Error("bad secret key size")}function yt(){for(var y=0;y<arguments.length;y++)if(!(arguments[y]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function It(y){for(var M=0;M<y.length;M++)y[M]=0}t.randomBytes=function(y){var M=new Uint8Array(y);return n(M,y),M},t.secretbox=function(y,M,C){yt(y,M,C),at(C,M);for(var a=new Uint8Array(kt+y.length),D=new Uint8Array(a.length),j=0;j<y.length;j++)a[j+kt]=y[j];return u(D,a,a.length,M,C),D.subarray(Nt)},t.secretbox.open=function(y,M,C){yt(y,M,C),at(C,M);for(var a=new Uint8Array(Nt+y.length),D=new Uint8Array(a.length),j=0;j<y.length;j++)a[j+Nt]=y[j];return a.length<32||d(D,a,a.length,M,C)!==0?null:D.subarray(kt)},t.secretbox.keyLength=G,t.secretbox.nonceLength=it,t.secretbox.overheadLength=Nt,t.scalarMult=function(y,M){if(yt(y,M),y.length!==Yt)throw new Error("bad n size");if(M.length!==qt)throw new Error("bad p size");var C=new Uint8Array(qt);return oe(C,y,M),C},t.scalarMult.base=function(y){if(yt(y),y.length!==Yt)throw new Error("bad n size");var M=new Uint8Array(qt);return he(M,y),M},t.scalarMult.scalarLength=Yt,t.scalarMult.groupElementLength=qt,t.box=function(y,M,C,a){var D=t.box.before(C,a);return t.secretbox(y,M,D)},t.box.before=function(y,M){yt(y,M),L(y,M);var C=new Uint8Array(ge);return ce(C,y,M),C},t.box.after=t.secretbox,t.box.open=function(y,M,C,a){var D=t.box.before(C,a);return t.secretbox.open(y,M,D)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var y=new Uint8Array(St),M=new Uint8Array(Me);return Ft(y,M),{publicKey:y,secretKey:M}},t.box.keyPair.fromSecretKey=function(y){if(yt(y),y.length!==Me)throw new Error("bad secret key size");var M=new Uint8Array(St);return he(M,y),{publicKey:M,secretKey:new Uint8Array(y)}},t.box.publicKeyLength=St,t.box.secretKeyLength=Me,t.box.sharedKeyLength=ge,t.box.nonceLength=Wt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(y,M){if(yt(y,M),M.length!==B)throw new Error("bad secret key size");var C=new Uint8Array(T+y.length);return g(C,y,y.length,M),C},t.sign.open=function(y,M){if(yt(y,M),M.length!==m)throw new Error("bad public key size");var C=new Uint8Array(y.length),a=H(C,y,y.length,M);if(a<0)return null;for(var D=new Uint8Array(a),j=0;j<D.length;j++)D[j]=C[j];return D},t.sign.detached=function(y,M){for(var C=t.sign(y,M),a=new Uint8Array(T),D=0;D<a.length;D++)a[D]=C[D];return a},t.sign.detached.verify=function(y,M,C){if(yt(y,M,C),M.length!==T)throw new Error("bad signature size");if(C.length!==m)throw new Error("bad public key size");var a=new Uint8Array(T+y.length),D=new Uint8Array(T+y.length),j;for(j=0;j<T;j++)a[j]=M[j];for(j=0;j<y.length;j++)a[j+T]=y[j];return H(D,a,a.length,C)>=0},t.sign.keyPair=function(){var y=new Uint8Array(m),M=new Uint8Array(B);return ve(y,M),{publicKey:y,secretKey:M}},t.sign.keyPair.fromSecretKey=function(y){if(yt(y),y.length!==B)throw new Error("bad secret key size");for(var M=new Uint8Array(m),C=0;C<M.length;C++)M[C]=y[32+C];return{publicKey:M,secretKey:new Uint8Array(y)}},t.sign.keyPair.fromSeed=function(y){if(yt(y),y.length!==q)throw new Error("bad seed size");for(var M=new Uint8Array(m),C=new Uint8Array(B),a=0;a<32;a++)C[a]=y[a];return ve(M,C,!0),{publicKey:M,secretKey:C}},t.sign.publicKeyLength=m,t.sign.secretKeyLength=B,t.sign.seedLength=q,t.sign.signatureLength=T,t.hash=function(y){yt(y);var M=new Uint8Array(W);return se(M,y,y.length),M},t.hash.hashLength=W,t.verify=function(y,M){return yt(y,M),y.length===0||M.length===0||y.length!==M.length?!1:Ut(y,0,M,0,y.length)===0},t.setPRNG=function(y){n=y},function(){var y=typeof self!="undefined"?self.crypto||self.msCrypto:null;if(y&&y.getRandomValues){var M=65536;t.setPRNG(function(C,a){var D,j=new Uint8Array(a);for(D=0;D<a;D+=M)y.getRandomValues(j.subarray(D,D+Math.min(a-D,M)));for(D=0;D<a;D++)C[D]=j[D];It(j)})}else typeof Ra!="undefined"&&(y=e0,y&&y.randomBytes&&t.setPRNG(function(C,a){var D,j=y.randomBytes(a);for(D=0;D<a;D++)C[D]=j[D];It(j)}))}()})(r.exports?r.exports:self.nacl=self.nacl||{})})(t0);var So={exports:{}};(function(r){(function(t,e){function n(S,l){if(!S)throw new Error(l||"Assertion failed")}function o(S,l){S.super_=l;var c=function(){};c.prototype=l.prototype,S.prototype=new c,S.prototype.constructor=S}function i(S,l,c){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((l==="le"||l==="be")&&(c=l,l=10),this._init(S||0,l||10,c||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var f;try{f=Ra("buffer").Buffer}catch{}i.isBN=function(l){return l instanceof i?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===i.wordSize&&Array.isArray(l.words)},i.max=function(l,c){return l.cmp(c)>0?l:c},i.min=function(l,c){return l.cmp(c)<0?l:c},i.prototype._init=function(l,c,s){if(typeof l=="number")return this._initNumber(l,c,s);if(typeof l=="object")return this._initArray(l,c,s);c==="hex"&&(c=16),n(c===(c|0)&&c>=2&&c<=36),l=l.toString().replace(/\s+/g,"");var u=0;l[0]==="-"&&u++,c===16?this._parseHex(l,u):this._parseBase(l,c,u),l[0]==="-"&&(this.negative=1),this.strip(),s==="le"&&this._initArray(this.toArray(),c,s)},i.prototype._initNumber=function(l,c,s){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),s==="le"&&this._initArray(this.toArray(),c,s)},i.prototype._initArray=function(l,c,s){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var d,x,_=0;if(s==="be")for(u=l.length-1,d=0;u>=0;u-=3)x=l[u]|l[u-1]<<8|l[u-2]<<16,this.words[d]|=x<<_&67108863,this.words[d+1]=x>>>26-_&67108863,_+=24,_>=26&&(_-=26,d++);else if(s==="le")for(u=0,d=0;u<l.length;u+=3)x=l[u]|l[u+1]<<8|l[u+2]<<16,this.words[d]|=x<<_&67108863,this.words[d+1]=x>>>26-_&67108863,_+=24,_>=26&&(_-=26,d++);return this.strip()};function b(S,l,c){for(var s=0,u=Math.min(S.length,c),d=l;d<u;d++){var x=S.charCodeAt(d)-48;s<<=4,x>=49&&x<=54?s|=x-49+10:x>=17&&x<=22?s|=x-17+10:s|=x&15}return s}i.prototype._parseHex=function(l,c){this.length=Math.ceil((l.length-c)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var u,d,x=0;for(s=l.length-6,u=0;s>=c;s-=6)d=b(l,s,s+6),this.words[u]|=d<<x&67108863,this.words[u+1]|=d>>>26-x&4194303,x+=24,x>=26&&(x-=26,u++);s+6!==c&&(d=b(l,c,s+6),this.words[u]|=d<<x&67108863,this.words[u+1]|=d>>>26-x&4194303),this.strip()};function A(S,l,c,s){for(var u=0,d=Math.min(S.length,c),x=l;x<d;x++){var _=S.charCodeAt(x)-48;u*=s,_>=49?u+=_-49+10:_>=17?u+=_-17+10:u+=_}return u}i.prototype._parseBase=function(l,c,s){this.words=[0],this.length=1;for(var u=0,d=1;d<=67108863;d*=c)u++;u--,d=d/c|0;for(var x=l.length-s,_=x%u,E=Math.min(x,x-_)+s,h=0,w=s;w<E;w+=u)h=A(l,w,w+u,c),this.imuln(d),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(_!==0){var v=1;for(h=A(l,w,l.length,c),w=0;w<_;w++)v*=c;this.imuln(v),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}},i.prototype.copy=function(l){l.words=new Array(this.length);for(var c=0;c<this.length;c++)l.words[c]=this.words[c];l.length=this.length,l.negative=this.negative,l.red=this.red},i.prototype.clone=function(){var l=new i(null);return this.copy(l),l},i.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(l,c){l=l||10,c=c|0||1;var s;if(l===16||l==="hex"){s="";for(var u=0,d=0,x=0;x<this.length;x++){var _=this.words[x],E=((_<<u|d)&16777215).toString(16);d=_>>>24-u&16777215,d!==0||x!==this.length-1?s=k[6-E.length]+E+s:s=E+s,u+=2,u>=26&&(u-=26,x--)}for(d!==0&&(s=d.toString(16)+s);s.length%c!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}if(l===(l|0)&&l>=2&&l<=36){var h=N[l],w=V[l];s="";var v=this.clone();for(v.negative=0;!v.isZero();){var U=v.modn(w).toString(l);v=v.idivn(w),v.isZero()?s=U+s:s=k[h-U.length]+U+s}for(this.isZero()&&(s="0"+s);s.length%c!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(l,c){return n(typeof f!="undefined"),this.toArrayLike(f,l,c)},i.prototype.toArray=function(l,c){return this.toArrayLike(Array,l,c)},i.prototype.toArrayLike=function(l,c,s){var u=this.byteLength(),d=s||Math.max(1,u);n(u<=d,"byte array longer than desired length"),n(d>0,"Requested array length <= 0"),this.strip();var x=c==="le",_=new l(d),E,h,w=this.clone();if(x){for(h=0;!w.isZero();h++)E=w.andln(255),w.iushrn(8),_[h]=E;for(;h<d;h++)_[h]=0}else{for(h=0;h<d-u;h++)_[h]=0;for(h=0;!w.isZero();h++)E=w.andln(255),w.iushrn(8),_[d-h-1]=E}return _},Math.clz32?i.prototype._countBits=function(l){return 32-Math.clz32(l)}:i.prototype._countBits=function(l){var c=l,s=0;return c>=4096&&(s+=13,c>>>=13),c>=64&&(s+=7,c>>>=7),c>=8&&(s+=4,c>>>=4),c>=2&&(s+=2,c>>>=2),s+c},i.prototype._zeroBits=function(l){if(l===0)return 26;var c=l,s=0;return(c&8191)===0&&(s+=13,c>>>=13),(c&127)===0&&(s+=7,c>>>=7),(c&15)===0&&(s+=4,c>>>=4),(c&3)===0&&(s+=2,c>>>=2),(c&1)===0&&s++,s},i.prototype.bitLength=function(){var l=this.words[this.length-1],c=this._countBits(l);return(this.length-1)*26+c};function K(S){for(var l=new Array(S.bitLength()),c=0;c<l.length;c++){var s=c/26|0,u=c%26;l[c]=(S.words[s]&1<<u)>>>u}return l}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,c=0;c<this.length;c++){var s=this._zeroBits(this.words[c]);if(l+=s,s!==26)break}return l},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},i.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var c=0;c<l.length;c++)this.words[c]=this.words[c]|l.words[c];return this.strip()},i.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},i.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},i.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},i.prototype.iuand=function(l){var c;this.length>l.length?c=l:c=this;for(var s=0;s<c.length;s++)this.words[s]=this.words[s]&l.words[s];return this.length=c.length,this.strip()},i.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},i.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},i.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},i.prototype.iuxor=function(l){var c,s;this.length>l.length?(c=this,s=l):(c=l,s=this);for(var u=0;u<s.length;u++)this.words[u]=c.words[u]^s.words[u];if(this!==c)for(;u<c.length;u++)this.words[u]=c.words[u];return this.length=c.length,this.strip()},i.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},i.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},i.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},i.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var c=Math.ceil(l/26)|0,s=l%26;this._expand(c),s>0&&c--;for(var u=0;u<c;u++)this.words[u]=~this.words[u]&67108863;return s>0&&(this.words[u]=~this.words[u]&67108863>>26-s),this.strip()},i.prototype.notn=function(l){return this.clone().inotn(l)},i.prototype.setn=function(l,c){n(typeof l=="number"&&l>=0);var s=l/26|0,u=l%26;return this._expand(s+1),c?this.words[s]=this.words[s]|1<<u:this.words[s]=this.words[s]&~(1<<u),this.strip()},i.prototype.iadd=function(l){var c;if(this.negative!==0&&l.negative===0)return this.negative=0,c=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,c=this.isub(l),l.negative=1,c._normSign();var s,u;this.length>l.length?(s=this,u=l):(s=l,u=this);for(var d=0,x=0;x<u.length;x++)c=(s.words[x]|0)+(u.words[x]|0)+d,this.words[x]=c&67108863,d=c>>>26;for(;d!==0&&x<s.length;x++)c=(s.words[x]|0)+d,this.words[x]=c&67108863,d=c>>>26;if(this.length=s.length,d!==0)this.words[this.length]=d,this.length++;else if(s!==this)for(;x<s.length;x++)this.words[x]=s.words[x];return this},i.prototype.add=function(l){var c;return l.negative!==0&&this.negative===0?(l.negative=0,c=this.sub(l),l.negative^=1,c):l.negative===0&&this.negative!==0?(this.negative=0,c=l.sub(this),this.negative=1,c):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},i.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var c=this.iadd(l);return l.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var s=this.cmp(l);if(s===0)return this.negative=0,this.length=1,this.words[0]=0,this;var u,d;s>0?(u=this,d=l):(u=l,d=this);for(var x=0,_=0;_<d.length;_++)c=(u.words[_]|0)-(d.words[_]|0)+x,x=c>>26,this.words[_]=c&67108863;for(;x!==0&&_<u.length;_++)c=(u.words[_]|0)+x,x=c>>26,this.words[_]=c&67108863;if(x===0&&_<u.length&&u!==this)for(;_<u.length;_++)this.words[_]=u.words[_];return this.length=Math.max(this.length,_),u!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(l){return this.clone().isub(l)};function Z(S,l,c){c.negative=l.negative^S.negative;var s=S.length+l.length|0;c.length=s,s=s-1|0;var u=S.words[0]|0,d=l.words[0]|0,x=u*d,_=x&67108863,E=x/67108864|0;c.words[0]=_;for(var h=1;h<s;h++){for(var w=E>>>26,v=E&67108863,U=Math.min(h,l.length-1),lt=Math.max(0,h-S.length+1);lt<=U;lt++){var gt=h-lt|0;u=S.words[gt]|0,d=l.words[lt]|0,x=u*d+v,w+=x/67108864|0,v=x&67108863}c.words[h]=v|0,E=w|0}return E!==0?c.words[h]=E|0:c.length--,c.strip()}var xt=function(l,c,s){var u=l.words,d=c.words,x=s.words,_=0,E,h,w,v=u[0]|0,U=v&8191,lt=v>>>13,gt=u[1]|0,mt=gt&8191,Ht=gt>>>13,de=u[2]|0,jt=de&8191,oe=de>>>13,he=u[3]|0,Ft=he&8191,ce=he>>>13,_e=u[4]|0,Qt=_e&8191,Be=_e>>>13,me=u[5]|0,ie=me&8191,ye=me>>>13,se=u[6]|0,zt=se&8191,Ae=se>>>13,pe=u[7]|0,Pt=pe&8191,be=pe>>>13,ve=u[8]|0,Xt=ve&8191,I=ve>>>13,p=u[9]|0,g=p&8191,$=p>>>13,H=d[0]|0,G=H&8191,it=H>>>13,kt=d[1]|0,Nt=kt&8191,qt=kt>>>13,Yt=d[2]|0,St=Yt&8191,Me=Yt>>>13,ge=d[3]|0,Wt=ge&8191,F=ge>>>13,R=d[4]|0,T=R&8191,m=R>>>13,B=d[5]|0,q=B&8191,W=B>>>13,at=d[6]|0,L=at&8191,yt=at>>>13,It=d[7]|0,y=It&8191,M=It>>>13,C=d[8]|0,a=C&8191,D=C>>>13,j=d[9]|0,P=j&8191,z=j>>>13;s.negative=l.negative^c.negative,s.length=19,E=Math.imul(U,G),h=Math.imul(U,it),h=h+Math.imul(lt,G)|0,w=Math.imul(lt,it);var J=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(J>>>26)|0,J&=67108863,E=Math.imul(mt,G),h=Math.imul(mt,it),h=h+Math.imul(Ht,G)|0,w=Math.imul(Ht,it),E=E+Math.imul(U,Nt)|0,h=h+Math.imul(U,qt)|0,h=h+Math.imul(lt,Nt)|0,w=w+Math.imul(lt,qt)|0;var ot=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(ot>>>26)|0,ot&=67108863,E=Math.imul(jt,G),h=Math.imul(jt,it),h=h+Math.imul(oe,G)|0,w=Math.imul(oe,it),E=E+Math.imul(mt,Nt)|0,h=h+Math.imul(mt,qt)|0,h=h+Math.imul(Ht,Nt)|0,w=w+Math.imul(Ht,qt)|0,E=E+Math.imul(U,St)|0,h=h+Math.imul(U,Me)|0,h=h+Math.imul(lt,St)|0,w=w+Math.imul(lt,Me)|0;var dt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(dt>>>26)|0,dt&=67108863,E=Math.imul(Ft,G),h=Math.imul(Ft,it),h=h+Math.imul(ce,G)|0,w=Math.imul(ce,it),E=E+Math.imul(jt,Nt)|0,h=h+Math.imul(jt,qt)|0,h=h+Math.imul(oe,Nt)|0,w=w+Math.imul(oe,qt)|0,E=E+Math.imul(mt,St)|0,h=h+Math.imul(mt,Me)|0,h=h+Math.imul(Ht,St)|0,w=w+Math.imul(Ht,Me)|0,E=E+Math.imul(U,Wt)|0,h=h+Math.imul(U,F)|0,h=h+Math.imul(lt,Wt)|0,w=w+Math.imul(lt,F)|0;var Tt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,E=Math.imul(Qt,G),h=Math.imul(Qt,it),h=h+Math.imul(Be,G)|0,w=Math.imul(Be,it),E=E+Math.imul(Ft,Nt)|0,h=h+Math.imul(Ft,qt)|0,h=h+Math.imul(ce,Nt)|0,w=w+Math.imul(ce,qt)|0,E=E+Math.imul(jt,St)|0,h=h+Math.imul(jt,Me)|0,h=h+Math.imul(oe,St)|0,w=w+Math.imul(oe,Me)|0,E=E+Math.imul(mt,Wt)|0,h=h+Math.imul(mt,F)|0,h=h+Math.imul(Ht,Wt)|0,w=w+Math.imul(Ht,F)|0,E=E+Math.imul(U,T)|0,h=h+Math.imul(U,m)|0,h=h+Math.imul(lt,T)|0,w=w+Math.imul(lt,m)|0;var ct=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,E=Math.imul(ie,G),h=Math.imul(ie,it),h=h+Math.imul(ye,G)|0,w=Math.imul(ye,it),E=E+Math.imul(Qt,Nt)|0,h=h+Math.imul(Qt,qt)|0,h=h+Math.imul(Be,Nt)|0,w=w+Math.imul(Be,qt)|0,E=E+Math.imul(Ft,St)|0,h=h+Math.imul(Ft,Me)|0,h=h+Math.imul(ce,St)|0,w=w+Math.imul(ce,Me)|0,E=E+Math.imul(jt,Wt)|0,h=h+Math.imul(jt,F)|0,h=h+Math.imul(oe,Wt)|0,w=w+Math.imul(oe,F)|0,E=E+Math.imul(mt,T)|0,h=h+Math.imul(mt,m)|0,h=h+Math.imul(Ht,T)|0,w=w+Math.imul(Ht,m)|0,E=E+Math.imul(U,q)|0,h=h+Math.imul(U,W)|0,h=h+Math.imul(lt,q)|0,w=w+Math.imul(lt,W)|0;var Q=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(Q>>>26)|0,Q&=67108863,E=Math.imul(zt,G),h=Math.imul(zt,it),h=h+Math.imul(Ae,G)|0,w=Math.imul(Ae,it),E=E+Math.imul(ie,Nt)|0,h=h+Math.imul(ie,qt)|0,h=h+Math.imul(ye,Nt)|0,w=w+Math.imul(ye,qt)|0,E=E+Math.imul(Qt,St)|0,h=h+Math.imul(Qt,Me)|0,h=h+Math.imul(Be,St)|0,w=w+Math.imul(Be,Me)|0,E=E+Math.imul(Ft,Wt)|0,h=h+Math.imul(Ft,F)|0,h=h+Math.imul(ce,Wt)|0,w=w+Math.imul(ce,F)|0,E=E+Math.imul(jt,T)|0,h=h+Math.imul(jt,m)|0,h=h+Math.imul(oe,T)|0,w=w+Math.imul(oe,m)|0,E=E+Math.imul(mt,q)|0,h=h+Math.imul(mt,W)|0,h=h+Math.imul(Ht,q)|0,w=w+Math.imul(Ht,W)|0,E=E+Math.imul(U,L)|0,h=h+Math.imul(U,yt)|0,h=h+Math.imul(lt,L)|0,w=w+Math.imul(lt,yt)|0;var et=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(et>>>26)|0,et&=67108863,E=Math.imul(Pt,G),h=Math.imul(Pt,it),h=h+Math.imul(be,G)|0,w=Math.imul(be,it),E=E+Math.imul(zt,Nt)|0,h=h+Math.imul(zt,qt)|0,h=h+Math.imul(Ae,Nt)|0,w=w+Math.imul(Ae,qt)|0,E=E+Math.imul(ie,St)|0,h=h+Math.imul(ie,Me)|0,h=h+Math.imul(ye,St)|0,w=w+Math.imul(ye,Me)|0,E=E+Math.imul(Qt,Wt)|0,h=h+Math.imul(Qt,F)|0,h=h+Math.imul(Be,Wt)|0,w=w+Math.imul(Be,F)|0,E=E+Math.imul(Ft,T)|0,h=h+Math.imul(Ft,m)|0,h=h+Math.imul(ce,T)|0,w=w+Math.imul(ce,m)|0,E=E+Math.imul(jt,q)|0,h=h+Math.imul(jt,W)|0,h=h+Math.imul(oe,q)|0,w=w+Math.imul(oe,W)|0,E=E+Math.imul(mt,L)|0,h=h+Math.imul(mt,yt)|0,h=h+Math.imul(Ht,L)|0,w=w+Math.imul(Ht,yt)|0,E=E+Math.imul(U,y)|0,h=h+Math.imul(U,M)|0,h=h+Math.imul(lt,y)|0,w=w+Math.imul(lt,M)|0;var vt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(vt>>>26)|0,vt&=67108863,E=Math.imul(Xt,G),h=Math.imul(Xt,it),h=h+Math.imul(I,G)|0,w=Math.imul(I,it),E=E+Math.imul(Pt,Nt)|0,h=h+Math.imul(Pt,qt)|0,h=h+Math.imul(be,Nt)|0,w=w+Math.imul(be,qt)|0,E=E+Math.imul(zt,St)|0,h=h+Math.imul(zt,Me)|0,h=h+Math.imul(Ae,St)|0,w=w+Math.imul(Ae,Me)|0,E=E+Math.imul(ie,Wt)|0,h=h+Math.imul(ie,F)|0,h=h+Math.imul(ye,Wt)|0,w=w+Math.imul(ye,F)|0,E=E+Math.imul(Qt,T)|0,h=h+Math.imul(Qt,m)|0,h=h+Math.imul(Be,T)|0,w=w+Math.imul(Be,m)|0,E=E+Math.imul(Ft,q)|0,h=h+Math.imul(Ft,W)|0,h=h+Math.imul(ce,q)|0,w=w+Math.imul(ce,W)|0,E=E+Math.imul(jt,L)|0,h=h+Math.imul(jt,yt)|0,h=h+Math.imul(oe,L)|0,w=w+Math.imul(oe,yt)|0,E=E+Math.imul(mt,y)|0,h=h+Math.imul(mt,M)|0,h=h+Math.imul(Ht,y)|0,w=w+Math.imul(Ht,M)|0,E=E+Math.imul(U,a)|0,h=h+Math.imul(U,D)|0,h=h+Math.imul(lt,a)|0,w=w+Math.imul(lt,D)|0;var ft=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(ft>>>26)|0,ft&=67108863,E=Math.imul(g,G),h=Math.imul(g,it),h=h+Math.imul($,G)|0,w=Math.imul($,it),E=E+Math.imul(Xt,Nt)|0,h=h+Math.imul(Xt,qt)|0,h=h+Math.imul(I,Nt)|0,w=w+Math.imul(I,qt)|0,E=E+Math.imul(Pt,St)|0,h=h+Math.imul(Pt,Me)|0,h=h+Math.imul(be,St)|0,w=w+Math.imul(be,Me)|0,E=E+Math.imul(zt,Wt)|0,h=h+Math.imul(zt,F)|0,h=h+Math.imul(Ae,Wt)|0,w=w+Math.imul(Ae,F)|0,E=E+Math.imul(ie,T)|0,h=h+Math.imul(ie,m)|0,h=h+Math.imul(ye,T)|0,w=w+Math.imul(ye,m)|0,E=E+Math.imul(Qt,q)|0,h=h+Math.imul(Qt,W)|0,h=h+Math.imul(Be,q)|0,w=w+Math.imul(Be,W)|0,E=E+Math.imul(Ft,L)|0,h=h+Math.imul(Ft,yt)|0,h=h+Math.imul(ce,L)|0,w=w+Math.imul(ce,yt)|0,E=E+Math.imul(jt,y)|0,h=h+Math.imul(jt,M)|0,h=h+Math.imul(oe,y)|0,w=w+Math.imul(oe,M)|0,E=E+Math.imul(mt,a)|0,h=h+Math.imul(mt,D)|0,h=h+Math.imul(Ht,a)|0,w=w+Math.imul(Ht,D)|0,E=E+Math.imul(U,P)|0,h=h+Math.imul(U,z)|0,h=h+Math.imul(lt,P)|0,w=w+Math.imul(lt,z)|0;var st=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(st>>>26)|0,st&=67108863,E=Math.imul(g,Nt),h=Math.imul(g,qt),h=h+Math.imul($,Nt)|0,w=Math.imul($,qt),E=E+Math.imul(Xt,St)|0,h=h+Math.imul(Xt,Me)|0,h=h+Math.imul(I,St)|0,w=w+Math.imul(I,Me)|0,E=E+Math.imul(Pt,Wt)|0,h=h+Math.imul(Pt,F)|0,h=h+Math.imul(be,Wt)|0,w=w+Math.imul(be,F)|0,E=E+Math.imul(zt,T)|0,h=h+Math.imul(zt,m)|0,h=h+Math.imul(Ae,T)|0,w=w+Math.imul(Ae,m)|0,E=E+Math.imul(ie,q)|0,h=h+Math.imul(ie,W)|0,h=h+Math.imul(ye,q)|0,w=w+Math.imul(ye,W)|0,E=E+Math.imul(Qt,L)|0,h=h+Math.imul(Qt,yt)|0,h=h+Math.imul(Be,L)|0,w=w+Math.imul(Be,yt)|0,E=E+Math.imul(Ft,y)|0,h=h+Math.imul(Ft,M)|0,h=h+Math.imul(ce,y)|0,w=w+Math.imul(ce,M)|0,E=E+Math.imul(jt,a)|0,h=h+Math.imul(jt,D)|0,h=h+Math.imul(oe,a)|0,w=w+Math.imul(oe,D)|0,E=E+Math.imul(mt,P)|0,h=h+Math.imul(mt,z)|0,h=h+Math.imul(Ht,P)|0,w=w+Math.imul(Ht,z)|0;var ut=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(ut>>>26)|0,ut&=67108863,E=Math.imul(g,St),h=Math.imul(g,Me),h=h+Math.imul($,St)|0,w=Math.imul($,Me),E=E+Math.imul(Xt,Wt)|0,h=h+Math.imul(Xt,F)|0,h=h+Math.imul(I,Wt)|0,w=w+Math.imul(I,F)|0,E=E+Math.imul(Pt,T)|0,h=h+Math.imul(Pt,m)|0,h=h+Math.imul(be,T)|0,w=w+Math.imul(be,m)|0,E=E+Math.imul(zt,q)|0,h=h+Math.imul(zt,W)|0,h=h+Math.imul(Ae,q)|0,w=w+Math.imul(Ae,W)|0,E=E+Math.imul(ie,L)|0,h=h+Math.imul(ie,yt)|0,h=h+Math.imul(ye,L)|0,w=w+Math.imul(ye,yt)|0,E=E+Math.imul(Qt,y)|0,h=h+Math.imul(Qt,M)|0,h=h+Math.imul(Be,y)|0,w=w+Math.imul(Be,M)|0,E=E+Math.imul(Ft,a)|0,h=h+Math.imul(Ft,D)|0,h=h+Math.imul(ce,a)|0,w=w+Math.imul(ce,D)|0,E=E+Math.imul(jt,P)|0,h=h+Math.imul(jt,z)|0,h=h+Math.imul(oe,P)|0,w=w+Math.imul(oe,z)|0;var Mt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,E=Math.imul(g,Wt),h=Math.imul(g,F),h=h+Math.imul($,Wt)|0,w=Math.imul($,F),E=E+Math.imul(Xt,T)|0,h=h+Math.imul(Xt,m)|0,h=h+Math.imul(I,T)|0,w=w+Math.imul(I,m)|0,E=E+Math.imul(Pt,q)|0,h=h+Math.imul(Pt,W)|0,h=h+Math.imul(be,q)|0,w=w+Math.imul(be,W)|0,E=E+Math.imul(zt,L)|0,h=h+Math.imul(zt,yt)|0,h=h+Math.imul(Ae,L)|0,w=w+Math.imul(Ae,yt)|0,E=E+Math.imul(ie,y)|0,h=h+Math.imul(ie,M)|0,h=h+Math.imul(ye,y)|0,w=w+Math.imul(ye,M)|0,E=E+Math.imul(Qt,a)|0,h=h+Math.imul(Qt,D)|0,h=h+Math.imul(Be,a)|0,w=w+Math.imul(Be,D)|0,E=E+Math.imul(Ft,P)|0,h=h+Math.imul(Ft,z)|0,h=h+Math.imul(ce,P)|0,w=w+Math.imul(ce,z)|0;var wt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,E=Math.imul(g,T),h=Math.imul(g,m),h=h+Math.imul($,T)|0,w=Math.imul($,m),E=E+Math.imul(Xt,q)|0,h=h+Math.imul(Xt,W)|0,h=h+Math.imul(I,q)|0,w=w+Math.imul(I,W)|0,E=E+Math.imul(Pt,L)|0,h=h+Math.imul(Pt,yt)|0,h=h+Math.imul(be,L)|0,w=w+Math.imul(be,yt)|0,E=E+Math.imul(zt,y)|0,h=h+Math.imul(zt,M)|0,h=h+Math.imul(Ae,y)|0,w=w+Math.imul(Ae,M)|0,E=E+Math.imul(ie,a)|0,h=h+Math.imul(ie,D)|0,h=h+Math.imul(ye,a)|0,w=w+Math.imul(ye,D)|0,E=E+Math.imul(Qt,P)|0,h=h+Math.imul(Qt,z)|0,h=h+Math.imul(Be,P)|0,w=w+Math.imul(Be,z)|0;var Et=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(Et>>>26)|0,Et&=67108863,E=Math.imul(g,q),h=Math.imul(g,W),h=h+Math.imul($,q)|0,w=Math.imul($,W),E=E+Math.imul(Xt,L)|0,h=h+Math.imul(Xt,yt)|0,h=h+Math.imul(I,L)|0,w=w+Math.imul(I,yt)|0,E=E+Math.imul(Pt,y)|0,h=h+Math.imul(Pt,M)|0,h=h+Math.imul(be,y)|0,w=w+Math.imul(be,M)|0,E=E+Math.imul(zt,a)|0,h=h+Math.imul(zt,D)|0,h=h+Math.imul(Ae,a)|0,w=w+Math.imul(Ae,D)|0,E=E+Math.imul(ie,P)|0,h=h+Math.imul(ie,z)|0,h=h+Math.imul(ye,P)|0,w=w+Math.imul(ye,z)|0;var bt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,E=Math.imul(g,L),h=Math.imul(g,yt),h=h+Math.imul($,L)|0,w=Math.imul($,yt),E=E+Math.imul(Xt,y)|0,h=h+Math.imul(Xt,M)|0,h=h+Math.imul(I,y)|0,w=w+Math.imul(I,M)|0,E=E+Math.imul(Pt,a)|0,h=h+Math.imul(Pt,D)|0,h=h+Math.imul(be,a)|0,w=w+Math.imul(be,D)|0,E=E+Math.imul(zt,P)|0,h=h+Math.imul(zt,z)|0,h=h+Math.imul(Ae,P)|0,w=w+Math.imul(Ae,z)|0;var _t=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,E=Math.imul(g,y),h=Math.imul(g,M),h=h+Math.imul($,y)|0,w=Math.imul($,M),E=E+Math.imul(Xt,a)|0,h=h+Math.imul(Xt,D)|0,h=h+Math.imul(I,a)|0,w=w+Math.imul(I,D)|0,E=E+Math.imul(Pt,P)|0,h=h+Math.imul(Pt,z)|0,h=h+Math.imul(be,P)|0,w=w+Math.imul(be,z)|0;var At=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(At>>>26)|0,At&=67108863,E=Math.imul(g,a),h=Math.imul(g,D),h=h+Math.imul($,a)|0,w=Math.imul($,D),E=E+Math.imul(Xt,P)|0,h=h+Math.imul(Xt,z)|0,h=h+Math.imul(I,P)|0,w=w+Math.imul(I,z)|0;var ht=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(ht>>>26)|0,ht&=67108863,E=Math.imul(g,P),h=Math.imul(g,z),h=h+Math.imul($,P)|0,w=Math.imul($,z);var Y=(_+E|0)+((h&8191)<<13)|0;return _=(w+(h>>>13)|0)+(Y>>>26)|0,Y&=67108863,x[0]=J,x[1]=ot,x[2]=dt,x[3]=Tt,x[4]=ct,x[5]=Q,x[6]=et,x[7]=vt,x[8]=ft,x[9]=st,x[10]=ut,x[11]=Mt,x[12]=wt,x[13]=Et,x[14]=bt,x[15]=_t,x[16]=At,x[17]=ht,x[18]=Y,_!==0&&(x[19]=_,s.length++),s};Math.imul||(xt=Z);function Ut(S,l,c){c.negative=l.negative^S.negative,c.length=S.length+l.length;for(var s=0,u=0,d=0;d<c.length-1;d++){var x=u;u=0;for(var _=s&67108863,E=Math.min(d,l.length-1),h=Math.max(0,d-S.length+1);h<=E;h++){var w=d-h,v=S.words[w]|0,U=l.words[h]|0,lt=v*U,gt=lt&67108863;x=x+(lt/67108864|0)|0,gt=gt+_|0,_=gt&67108863,x=x+(gt>>>26)|0,u+=x>>>26,x&=67108863}c.words[d]=_,s=x,x=u}return s!==0?c.words[d]=s:c.length--,c.strip()}function Ct(S,l,c){var s=new Dt;return s.mulp(S,l,c)}i.prototype.mulTo=function(l,c){var s,u=this.length+l.length;return this.length===10&&l.length===10?s=xt(this,l,c):u<63?s=Z(this,l,c):u<1024?s=Ut(this,l,c):s=Ct(this,l,c),s};function Dt(S,l){this.x=S,this.y=l}Dt.prototype.makeRBT=function(l){for(var c=new Array(l),s=i.prototype._countBits(l)-1,u=0;u<l;u++)c[u]=this.revBin(u,s,l);return c},Dt.prototype.revBin=function(l,c,s){if(l===0||l===s-1)return l;for(var u=0,d=0;d<c;d++)u|=(l&1)<<c-d-1,l>>=1;return u},Dt.prototype.permute=function(l,c,s,u,d,x){for(var _=0;_<x;_++)u[_]=c[l[_]],d[_]=s[l[_]]},Dt.prototype.transform=function(l,c,s,u,d,x){this.permute(x,l,c,s,u,d);for(var _=1;_<d;_<<=1)for(var E=_<<1,h=Math.cos(2*Math.PI/E),w=Math.sin(2*Math.PI/E),v=0;v<d;v+=E)for(var U=h,lt=w,gt=0;gt<_;gt++){var mt=s[v+gt],Ht=u[v+gt],de=s[v+gt+_],jt=u[v+gt+_],oe=U*de-lt*jt;jt=U*jt+lt*de,de=oe,s[v+gt]=mt+de,u[v+gt]=Ht+jt,s[v+gt+_]=mt-de,u[v+gt+_]=Ht-jt,gt!==E&&(oe=h*U-w*lt,lt=h*lt+w*U,U=oe)}},Dt.prototype.guessLen13b=function(l,c){var s=Math.max(c,l)|1,u=s&1,d=0;for(s=s/2|0;s;s=s>>>1)d++;return 1<<d+1+u},Dt.prototype.conjugate=function(l,c,s){if(!(s<=1))for(var u=0;u<s/2;u++){var d=l[u];l[u]=l[s-u-1],l[s-u-1]=d,d=c[u],c[u]=-c[s-u-1],c[s-u-1]=-d}},Dt.prototype.normalize13b=function(l,c){for(var s=0,u=0;u<c/2;u++){var d=Math.round(l[2*u+1]/c)*8192+Math.round(l[2*u]/c)+s;l[u]=d&67108863,d<67108864?s=0:s=d/67108864|0}return l},Dt.prototype.convert13b=function(l,c,s,u){for(var d=0,x=0;x<c;x++)d=d+(l[x]|0),s[2*x]=d&8191,d=d>>>13,s[2*x+1]=d&8191,d=d>>>13;for(x=2*c;x<u;++x)s[x]=0;n(d===0),n((d&-8192)===0)},Dt.prototype.stub=function(l){for(var c=new Array(l),s=0;s<l;s++)c[s]=0;return c},Dt.prototype.mulp=function(l,c,s){var u=2*this.guessLen13b(l.length,c.length),d=this.makeRBT(u),x=this.stub(u),_=new Array(u),E=new Array(u),h=new Array(u),w=new Array(u),v=new Array(u),U=new Array(u),lt=s.words;lt.length=u,this.convert13b(l.words,l.length,_,u),this.convert13b(c.words,c.length,w,u),this.transform(_,x,E,h,u,d),this.transform(w,x,v,U,u,d);for(var gt=0;gt<u;gt++){var mt=E[gt]*v[gt]-h[gt]*U[gt];h[gt]=E[gt]*U[gt]+h[gt]*v[gt],E[gt]=mt}return this.conjugate(E,h,u),this.transform(E,h,lt,x,u,d),this.conjugate(lt,x,u),this.normalize13b(lt,u),s.negative=l.negative^c.negative,s.length=l.length+c.length,s.strip()},i.prototype.mul=function(l){var c=new i(null);return c.words=new Array(this.length+l.length),this.mulTo(l,c)},i.prototype.mulf=function(l){var c=new i(null);return c.words=new Array(this.length+l.length),Ct(this,l,c)},i.prototype.imul=function(l){return this.clone().mulTo(l,this)},i.prototype.imuln=function(l){n(typeof l=="number"),n(l<67108864);for(var c=0,s=0;s<this.length;s++){var u=(this.words[s]|0)*l,d=(u&67108863)+(c&67108863);c>>=26,c+=u/67108864|0,c+=d>>>26,this.words[s]=d&67108863}return c!==0&&(this.words[s]=c,this.length++),this},i.prototype.muln=function(l){return this.clone().imuln(l)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(l){var c=K(l);if(c.length===0)return new i(1);for(var s=this,u=0;u<c.length&&c[u]===0;u++,s=s.sqr());if(++u<c.length)for(var d=s.sqr();u<c.length;u++,d=d.sqr())c[u]!==0&&(s=s.mul(d));return s},i.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var c=l%26,s=(l-c)/26,u=67108863>>>26-c<<26-c,d;if(c!==0){var x=0;for(d=0;d<this.length;d++){var _=this.words[d]&u,E=(this.words[d]|0)-_<<c;this.words[d]=E|x,x=_>>>26-c}x&&(this.words[d]=x,this.length++)}if(s!==0){for(d=this.length-1;d>=0;d--)this.words[d+s]=this.words[d];for(d=0;d<s;d++)this.words[d]=0;this.length+=s}return this.strip()},i.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},i.prototype.iushrn=function(l,c,s){n(typeof l=="number"&&l>=0);var u;c?u=(c-c%26)/26:u=0;var d=l%26,x=Math.min((l-d)/26,this.length),_=67108863^67108863>>>d<<d,E=s;if(u-=x,u=Math.max(0,u),E){for(var h=0;h<x;h++)E.words[h]=this.words[h];E.length=x}if(x!==0)if(this.length>x)for(this.length-=x,h=0;h<this.length;h++)this.words[h]=this.words[h+x];else this.words[0]=0,this.length=1;var w=0;for(h=this.length-1;h>=0&&(w!==0||h>=u);h--){var v=this.words[h]|0;this.words[h]=w<<26-d|v>>>d,w=v&_}return E&&w!==0&&(E.words[E.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(l,c,s){return n(this.negative===0),this.iushrn(l,c,s)},i.prototype.shln=function(l){return this.clone().ishln(l)},i.prototype.ushln=function(l){return this.clone().iushln(l)},i.prototype.shrn=function(l){return this.clone().ishrn(l)},i.prototype.ushrn=function(l){return this.clone().iushrn(l)},i.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var c=l%26,s=(l-c)/26,u=1<<c;if(this.length<=s)return!1;var d=this.words[s];return!!(d&u)},i.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var c=l%26,s=(l-c)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=s)return this;if(c!==0&&s++,this.length=Math.min(s,this.length),c!==0){var u=67108863^67108863>>>c<<c;this.words[this.length-1]&=u}return this.strip()},i.prototype.maskn=function(l){return this.clone().imaskn(l)},i.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},i.prototype._iaddn=function(l){this.words[0]+=l;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},i.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},i.prototype.addn=function(l){return this.clone().iaddn(l)},i.prototype.subn=function(l){return this.clone().isubn(l)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(l,c,s){var u=l.length+s,d;this._expand(u);var x,_=0;for(d=0;d<l.length;d++){x=(this.words[d+s]|0)+_;var E=(l.words[d]|0)*c;x-=E&67108863,_=(x>>26)-(E/67108864|0),this.words[d+s]=x&67108863}for(;d<this.length-s;d++)x=(this.words[d+s]|0)+_,_=x>>26,this.words[d+s]=x&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,d=0;d<this.length;d++)x=-(this.words[d]|0)+_,_=x>>26,this.words[d]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(l,c){var s=this.length-l.length,u=this.clone(),d=l,x=d.words[d.length-1]|0,_=this._countBits(x);s=26-_,s!==0&&(d=d.ushln(s),u.iushln(s),x=d.words[d.length-1]|0);var E=u.length-d.length,h;if(c!=="mod"){h=new i(null),h.length=E+1,h.words=new Array(h.length);for(var w=0;w<h.length;w++)h.words[w]=0}var v=u.clone()._ishlnsubmul(d,1,E);v.negative===0&&(u=v,h&&(h.words[E]=1));for(var U=E-1;U>=0;U--){var lt=(u.words[d.length+U]|0)*67108864+(u.words[d.length+U-1]|0);for(lt=Math.min(lt/x|0,67108863),u._ishlnsubmul(d,lt,U);u.negative!==0;)lt--,u.negative=0,u._ishlnsubmul(d,1,U),u.isZero()||(u.negative^=1);h&&(h.words[U]=lt)}return h&&h.strip(),u.strip(),c!=="div"&&s!==0&&u.iushrn(s),{div:h||null,mod:u}},i.prototype.divmod=function(l,c,s){if(n(!l.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var u,d,x;return this.negative!==0&&l.negative===0?(x=this.neg().divmod(l,c),c!=="mod"&&(u=x.div.neg()),c!=="div"&&(d=x.mod.neg(),s&&d.negative!==0&&d.iadd(l)),{div:u,mod:d}):this.negative===0&&l.negative!==0?(x=this.divmod(l.neg(),c),c!=="mod"&&(u=x.div.neg()),{div:u,mod:x.mod}):(this.negative&l.negative)!==0?(x=this.neg().divmod(l.neg(),c),c!=="div"&&(d=x.mod.neg(),s&&d.negative!==0&&d.isub(l)),{div:x.div,mod:d}):l.length>this.length||this.cmp(l)<0?{div:new i(0),mod:this}:l.length===1?c==="div"?{div:this.divn(l.words[0]),mod:null}:c==="mod"?{div:null,mod:new i(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new i(this.modn(l.words[0]))}:this._wordDiv(l,c)},i.prototype.div=function(l){return this.divmod(l,"div",!1).div},i.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},i.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},i.prototype.divRound=function(l){var c=this.divmod(l);if(c.mod.isZero())return c.div;var s=c.div.negative!==0?c.mod.isub(l):c.mod,u=l.ushrn(1),d=l.andln(1),x=s.cmp(u);return x<0||d===1&&x===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},i.prototype.modn=function(l){n(l<=67108863);for(var c=(1<<26)%l,s=0,u=this.length-1;u>=0;u--)s=(c*s+(this.words[u]|0))%l;return s},i.prototype.idivn=function(l){n(l<=67108863);for(var c=0,s=this.length-1;s>=0;s--){var u=(this.words[s]|0)+c*67108864;this.words[s]=u/l|0,c=u%l}return this.strip()},i.prototype.divn=function(l){return this.clone().idivn(l)},i.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var c=this,s=l.clone();c.negative!==0?c=c.umod(l):c=c.clone();for(var u=new i(1),d=new i(0),x=new i(0),_=new i(1),E=0;c.isEven()&&s.isEven();)c.iushrn(1),s.iushrn(1),++E;for(var h=s.clone(),w=c.clone();!c.isZero();){for(var v=0,U=1;(c.words[0]&U)===0&&v<26;++v,U<<=1);if(v>0)for(c.iushrn(v);v-- >0;)(u.isOdd()||d.isOdd())&&(u.iadd(h),d.isub(w)),u.iushrn(1),d.iushrn(1);for(var lt=0,gt=1;(s.words[0]&gt)===0&&lt<26;++lt,gt<<=1);if(lt>0)for(s.iushrn(lt);lt-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(h),_.isub(w)),x.iushrn(1),_.iushrn(1);c.cmp(s)>=0?(c.isub(s),u.isub(x),d.isub(_)):(s.isub(c),x.isub(u),_.isub(d))}return{a:x,b:_,gcd:s.iushln(E)}},i.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var c=this,s=l.clone();c.negative!==0?c=c.umod(l):c=c.clone();for(var u=new i(1),d=new i(0),x=s.clone();c.cmpn(1)>0&&s.cmpn(1)>0;){for(var _=0,E=1;(c.words[0]&E)===0&&_<26;++_,E<<=1);if(_>0)for(c.iushrn(_);_-- >0;)u.isOdd()&&u.iadd(x),u.iushrn(1);for(var h=0,w=1;(s.words[0]&w)===0&&h<26;++h,w<<=1);if(h>0)for(s.iushrn(h);h-- >0;)d.isOdd()&&d.iadd(x),d.iushrn(1);c.cmp(s)>=0?(c.isub(s),u.isub(d)):(s.isub(c),d.isub(u))}var v;return c.cmpn(1)===0?v=u:v=d,v.cmpn(0)<0&&v.iadd(l),v},i.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var c=this.clone(),s=l.clone();c.negative=0,s.negative=0;for(var u=0;c.isEven()&&s.isEven();u++)c.iushrn(1),s.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;s.isEven();)s.iushrn(1);var d=c.cmp(s);if(d<0){var x=c;c=s,s=x}else if(d===0||s.cmpn(1)===0)break;c.isub(s)}while(!0);return s.iushln(u)},i.prototype.invm=function(l){return this.egcd(l).a.umod(l)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(l){return this.words[0]&l},i.prototype.bincn=function(l){n(typeof l=="number");var c=l%26,s=(l-c)/26,u=1<<c;if(this.length<=s)return this._expand(s+1),this.words[s]|=u,this;for(var d=u,x=s;d!==0&&x<this.length;x++){var _=this.words[x]|0;_+=d,d=_>>>26,_&=67108863,this.words[x]=_}return d!==0&&(this.words[x]=d,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(l){var c=l<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this.strip();var s;if(this.length>1)s=1;else{c&&(l=-l),n(l<=67108863,"Number is too big");var u=this.words[0]|0;s=u===l?0:u<l?-1:1}return this.negative!==0?-s|0:s},i.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var c=this.ucmp(l);return this.negative!==0?-c|0:c},i.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var c=0,s=this.length-1;s>=0;s--){var u=this.words[s]|0,d=l.words[s]|0;if(u!==d){u<d?c=-1:u>d&&(c=1);break}}return c},i.prototype.gtn=function(l){return this.cmpn(l)===1},i.prototype.gt=function(l){return this.cmp(l)===1},i.prototype.gten=function(l){return this.cmpn(l)>=0},i.prototype.gte=function(l){return this.cmp(l)>=0},i.prototype.ltn=function(l){return this.cmpn(l)===-1},i.prototype.lt=function(l){return this.cmp(l)===-1},i.prototype.lten=function(l){return this.cmpn(l)<=0},i.prototype.lte=function(l){return this.cmp(l)<=0},i.prototype.eqn=function(l){return this.cmpn(l)===0},i.prototype.eq=function(l){return this.cmp(l)===0},i.red=function(l){return new Jt(l)},i.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(l){return this.red=l,this},i.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},i.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},i.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},i.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},i.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},i.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},i.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},i.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var Gt={k256:null,p224:null,p192:null,p25519:null};function ue(S,l){this.name=S,this.p=new i(l,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ue.prototype._tmp=function(){var l=new i(null);return l.words=new Array(Math.ceil(this.n/13)),l},ue.prototype.ireduce=function(l){var c=l,s;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),s=c.bitLength();while(s>this.n);var u=s<this.n?-1:c.ucmp(this.p);return u===0?(c.words[0]=0,c.length=1):u>0?c.isub(this.p):c.strip(),c},ue.prototype.split=function(l,c){l.iushrn(this.n,0,c)},ue.prototype.imulK=function(l){return l.imul(this.k)};function le(){ue.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(le,ue),le.prototype.split=function(l,c){for(var s=4194303,u=Math.min(l.length,9),d=0;d<u;d++)c.words[d]=l.words[d];if(c.length=u,l.length<=9){l.words[0]=0,l.length=1;return}var x=l.words[9];for(c.words[c.length++]=x&s,d=10;d<l.length;d++){var _=l.words[d]|0;l.words[d-10]=(_&s)<<4|x>>>22,x=_}x>>>=22,l.words[d-10]=x,x===0&&l.length>10?l.length-=10:l.length-=9},le.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var c=0,s=0;s<l.length;s++){var u=l.words[s]|0;c+=u*977,l.words[s]=c&67108863,c=u*64+(c/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function $t(){ue.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o($t,ue);function re(){ue.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(re,ue);function ne(){ue.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ne,ue),ne.prototype.imulK=function(l){for(var c=0,s=0;s<l.length;s++){var u=(l.words[s]|0)*19+c,d=u&67108863;u>>>=26,l.words[s]=d,c=u}return c!==0&&(l.words[l.length++]=c),l},i._prime=function(l){if(Gt[l])return Gt[l];var c;if(l==="k256")c=new le;else if(l==="p224")c=new $t;else if(l==="p192")c=new re;else if(l==="p25519")c=new ne;else throw new Error("Unknown prime "+l);return Gt[l]=c,c};function Jt(S){if(typeof S=="string"){var l=i._prime(S);this.m=l.p,this.prime=l}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Jt.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},Jt.prototype._verify2=function(l,c){n((l.negative|c.negative)===0,"red works only with positives"),n(l.red&&l.red===c.red,"red works only with red numbers")},Jt.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},Jt.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Jt.prototype.add=function(l,c){this._verify2(l,c);var s=l.add(c);return s.cmp(this.m)>=0&&s.isub(this.m),s._forceRed(this)},Jt.prototype.iadd=function(l,c){this._verify2(l,c);var s=l.iadd(c);return s.cmp(this.m)>=0&&s.isub(this.m),s},Jt.prototype.sub=function(l,c){this._verify2(l,c);var s=l.sub(c);return s.cmpn(0)<0&&s.iadd(this.m),s._forceRed(this)},Jt.prototype.isub=function(l,c){this._verify2(l,c);var s=l.isub(c);return s.cmpn(0)<0&&s.iadd(this.m),s},Jt.prototype.shl=function(l,c){return this._verify1(l),this.imod(l.ushln(c))},Jt.prototype.imul=function(l,c){return this._verify2(l,c),this.imod(l.imul(c))},Jt.prototype.mul=function(l,c){return this._verify2(l,c),this.imod(l.mul(c))},Jt.prototype.isqr=function(l){return this.imul(l,l.clone())},Jt.prototype.sqr=function(l){return this.mul(l,l)},Jt.prototype.sqrt=function(l){if(l.isZero())return l.clone();var c=this.m.andln(3);if(n(c%2===1),c===3){var s=this.m.add(new i(1)).iushrn(2);return this.pow(l,s)}for(var u=this.m.subn(1),d=0;!u.isZero()&&u.andln(1)===0;)d++,u.iushrn(1);n(!u.isZero());var x=new i(1).toRed(this),_=x.redNeg(),E=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,E).cmp(_)!==0;)h.redIAdd(_);for(var w=this.pow(h,u),v=this.pow(l,u.addn(1).iushrn(1)),U=this.pow(l,u),lt=d;U.cmp(x)!==0;){for(var gt=U,mt=0;gt.cmp(x)!==0;mt++)gt=gt.redSqr();n(mt<lt);var Ht=this.pow(w,new i(1).iushln(lt-mt-1));v=v.redMul(Ht),w=Ht.redSqr(),U=U.redMul(w),lt=mt}return v},Jt.prototype.invm=function(l){var c=l._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},Jt.prototype.pow=function(l,c){if(c.isZero())return new i(1);if(c.cmpn(1)===0)return l.clone();var s=4,u=new Array(1<<s);u[0]=new i(1).toRed(this),u[1]=l;for(var d=2;d<u.length;d++)u[d]=this.mul(u[d-1],l);var x=u[0],_=0,E=0,h=c.bitLength()%26;for(h===0&&(h=26),d=c.length-1;d>=0;d--){for(var w=c.words[d],v=h-1;v>=0;v--){var U=w>>v&1;if(x!==u[0]&&(x=this.sqr(x)),U===0&&_===0){E=0;continue}_<<=1,_|=U,E++,!(E!==s&&(d!==0||v!==0))&&(x=this.mul(x,u[_]),E=0,_=0)}h=26}return x},Jt.prototype.convertTo=function(l){var c=l.umod(this.m);return c===l?c.clone():c},Jt.prototype.convertFrom=function(l){var c=l.clone();return c.red=null,c},i.mont=function(l){return new Ce(l)};function Ce(S){Jt.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(Ce,Jt),Ce.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Ce.prototype.convertFrom=function(l){var c=this.imod(l.mul(this.rinv));return c.red=null,c},Ce.prototype.imul=function(l,c){if(l.isZero()||c.isZero())return l.words[0]=0,l.length=1,l;var s=l.imul(c),u=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=s.isub(u).iushrn(this.shift),x=d;return d.cmp(this.m)>=0?x=d.isub(this.m):d.cmpn(0)<0&&(x=d.iadd(this.m)),x._forceRed(this)},Ce.prototype.mul=function(l,c){if(l.isZero()||c.isZero())return new i(0)._forceRed(this);var s=l.mul(c),u=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=s.isub(u).iushrn(this.shift),x=d;return d.cmp(this.m)>=0?x=d.isub(this.m):d.cmpn(0)<0&&(x=d.iadd(this.m)),x._forceRed(this)},Ce.prototype.invm=function(l){var c=this.imod(l._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(r,Na)})(So);var Zu=function(t){if(typeof t!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.slice(0,2)==="0x"},Ju=Zu,Qu=function(t){return typeof t!="string"?t:Ju(t)?t.slice(2):t},hn=So.exports,ds=Qu,tl=function(t){if(typeof t=="string"||typeof t=="number"){var e=new hn(1),n=String(t).toLowerCase().trim(),o=n.substr(0,2)==="0x"||n.substr(0,3)==="-0x",i=ds(n);if(i.substr(0,1)==="-"&&(i=ds(i.slice(1)),e=new hn(-1,10)),i=i===""?"0":i,!i.match(/^-?[0-9]+$/)&&i.match(/^[0-9A-Fa-f]+$/)||i.match(/^[a-fA-F]+$/)||o===!0&&i.match(/^[0-9A-Fa-f]+$/))return new hn(i,16).mul(e);if((i.match(/^-?[0-9]+$/)||i==="")&&o===!1)return new hn(i,10).mul(e)}else if(typeof t=="object"&&t.toString&&!t.pop&&!t.push&&t.toString(10).match(/^-?[0-9]+$/)&&(t.mul||t.dividedToIntegerBy))return new hn(t.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(t)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")},Xr=So.exports,el=tl,rl=new Xr(0),r0=new Xr(-1),Rn={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function Do(r){var t=r?r.toLowerCase():"ether",e=Rn[t];if(typeof e!="string")throw new Error("[ethjs-unit] the unit provided "+r+" doesn't exists, please use the one of the following units "+JSON.stringify(Rn,null,2));return new Xr(e,10)}function n0(r){if(typeof r=="string"){if(!r.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+r+"', should be a number matching (^-?[0-9.]+).");return r}else{if(typeof r=="number")return String(r);if(typeof r=="object"&&r.toString&&(r.toTwos||r.dividedToIntegerBy))return r.toPrecision?String(r.toPrecision()):r.toString(10)}throw new Error("while converting number to string, invalid number value '"+r+"' type "+typeof r+".")}function nl(r,t,e){var n=el(r),o=n.lt(rl),i=Do(t),f=Rn[t].length-1||1,b=e||{};o&&(n=n.mul(r0));for(var A=n.mod(i).toString(10);A.length<f;)A="0"+A;b.pad||(A=A.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var k=n.div(i).toString(10);b.commify&&(k=k.replace(/\B(?=(\d{3})+(?!\d))/g,","));var N=""+k+(A=="0"?"":"."+A);return o&&(N="-"+N),N}function il(r,t){var e=n0(r),n=Do(t),o=Rn[t].length-1||1,i=e.substring(0,1)==="-";if(i&&(e=e.substring(1)),e===".")throw new Error("[ethjs-unit] while converting number "+r+" to wei, invalid value");var f=e.split(".");if(f.length>2)throw new Error("[ethjs-unit] while converting number "+r+" to wei,  too many decimal points");var b=f[0],A=f[1];if(b||(b="0"),A||(A="0"),A.length>o)throw new Error("[ethjs-unit] while converting number "+r+" to wei, too many decimal places");for(;A.length<o;)A+="0";b=new Xr(b),A=new Xr(A);var k=b.mul(n).add(A);return i&&(k=k.mul(r0)),new Xr(k.toString(10),10)}var ol={unitMap:Rn,numberToString:n0,getValueOfUnit:Do,fromWei:nl,toWei:il};/**
 * @file Web Cryptography API shim
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */(function(r,t){typeof define=="function"&&define.amd?define([],function(){return t(r)}):typeof ci=="object"&&ci.exports?ci.exports=t(r):t(r)})(typeof self!="undefined"?self:globalThis,function(r){if(typeof Promise!="function")throw"Promise support required";var t=r.crypto||r.msCrypto;if(!t)return;var e=t.subtle||t.webkitSubtle;if(!e)return;var n=r.Crypto||t.constructor||Object,o=r.SubtleCrypto||e.constructor||Object;r.CryptoKey||r.Key;var i=r.navigator.userAgent.indexOf("Edge/")>-1,f=!!r.msCrypto&&!i,b=!t.subtle&&!!t.webkitSubtle;if(!f&&!b)return;function A(S){return btoa(S).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function k(S){return S+="===",S=S.slice(0,-S.length%4),atob(S.replace(/-/g,"+").replace(/_/g,"/"))}function N(S){for(var l=new Uint8Array(S.length),c=0;c<S.length;c++)l[c]=S.charCodeAt(c);return l}function V(S){return S instanceof ArrayBuffer&&(S=new Uint8Array(S)),String.fromCharCode.apply(String,S)}function K(S){var l={name:(S.name||S||"").toUpperCase().replace("V","v")};switch(l.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":S.length&&(l.length=S.length);break;case"HMAC":S.hash&&(l.hash=K(S.hash)),S.length&&(l.length=S.length);break;case"RSAES-PKCS1-v1_5":S.publicExponent&&(l.publicExponent=new Uint8Array(S.publicExponent)),S.modulusLength&&(l.modulusLength=S.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":S.hash&&(l.hash=K(S.hash)),S.publicExponent&&(l.publicExponent=new Uint8Array(S.publicExponent)),S.modulusLength&&(l.modulusLength=S.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return l}function Z(S){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{"128":"A128KW","192":"A192KW","256":"A256KW"},"AES-GCM":{"128":"A128GCM","192":"A192GCM","256":"A256GCM"},"AES-CBC":{"128":"A128CBC","192":"A192CBC","256":"A256CBC"}}[S.name][(S.hash||{}).name||S.length||""]}function xt(S){(S instanceof ArrayBuffer||S instanceof Uint8Array)&&(S=JSON.parse(decodeURIComponent(escape(V(S)))));var l={kty:S.kty,alg:S.alg,ext:S.ext||S.extractable};switch(l.kty){case"oct":l.k=S.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(c){c in S&&(l[c]=S[c])});break;default:throw new TypeError("Unsupported key type")}return l}function Ut(S){var l=xt(S);return f&&(l.extractable=l.ext,delete l.ext),N(unescape(encodeURIComponent(JSON.stringify(l)))).buffer}function Ct(S){var l=le(S),c=!1;l.length>2&&(c=!0,l.shift());var s={ext:!0};switch(l[0][0]){case"1.2.840.113549.1.1.1":var u=["n","e","d","p","q","dp","dq","qi"],d=le(l[1]);c&&d.shift();for(var x=0;x<d.length;x++)d[x][0]||(d[x]=d[x].subarray(1)),s[u[x]]=A(V(d[x]));s.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return s}function Dt(S){var l,c=[["",null]],s=!1;switch(S.kty){case"RSA":for(var u=["n","e","d","p","q","dp","dq","qi"],d=[],x=0;x<u.length&&u[x]in S;x++){var _=d[x]=N(k(S[u[x]]));_[0]&128&&(d[x]=new Uint8Array(_.length+1),d[x].set(_,1))}d.length>2&&(s=!0,d.unshift(new Uint8Array([0]))),c[0][0]="1.2.840.113549.1.1.1",l=d;break;default:throw new TypeError("Unsupported key type")}return c.push(new Uint8Array($t(l)).buffer),s?c.unshift(new Uint8Array([0])):c[1]={tag:3,value:c[1]},new Uint8Array($t(c)).buffer}var Gt={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},ue={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};function le(S,l){if(S instanceof ArrayBuffer&&(S=new Uint8Array(S)),l||(l={pos:0,end:S.length}),l.end-l.pos<2||l.end>S.length)throw new RangeError("Malformed DER");var c=S[l.pos++],s=S[l.pos++];if(s>=128){if(s&=127,l.end-l.pos<s)throw new RangeError("Malformed DER");for(var u=0;s--;)u<<=8,u|=S[l.pos++];s=u}if(l.end-l.pos<s)throw new RangeError("Malformed DER");var d;switch(c){case 2:d=S.subarray(l.pos,l.pos+=s);break;case 3:if(S[l.pos++])throw new Error("Unsupported bit string");s--;case 4:d=new Uint8Array(S.subarray(l.pos,l.pos+=s)).buffer;break;case 5:d=null;break;case 6:var x=btoa(V(S.subarray(l.pos,l.pos+=s)));if(!(x in Gt))throw new Error("Unsupported OBJECT ID "+x);d=Gt[x];break;case 48:d=[];for(var _=l.pos+s;l.pos<_;)d.push(le(S,l));break;default:throw new Error("Unsupported DER tag 0x"+c.toString(16))}return d}function $t(S,l){l||(l=[]);var c=0,s=0,u=l.length+2;if(l.push(0,0),S instanceof Uint8Array){c=2,s=S.length;for(var d=0;d<s;d++)l.push(S[d])}else if(S instanceof ArrayBuffer){c=4,s=S.byteLength,S=new Uint8Array(S);for(var d=0;d<s;d++)l.push(S[d])}else if(S===null)c=5,s=0;else if(typeof S=="string"&&S in ue){var x=N(atob(ue[S]));c=6,s=x.length;for(var d=0;d<s;d++)l.push(x[d])}else if(S instanceof Array){for(var d=0;d<S.length;d++)$t(S[d],l);c=48,s=l.length-u}else if(typeof S=="object"&&S.tag===3&&S.value instanceof ArrayBuffer){S=new Uint8Array(S.value),c=3,s=S.byteLength,l.push(0);for(var d=0;d<s;d++)l.push(S[d]);s++}else throw new Error("Unsupported DER value "+S);if(s>=128){var _=s,s=4;for(l.splice(u,0,_>>24&255,_>>16&255,_>>8&255,_&255);s>1&&!(_>>24);)_<<=8,s--;s<4&&l.splice(u,4-s),s|=128}return l.splice(u-2,2,c,s),l}function re(S,l,c,s){Object.defineProperties(this,{_key:{value:S},type:{value:S.type,enumerable:!0},extractable:{value:c===void 0?S.extractable:c,enumerable:!0},algorithm:{value:l===void 0?S.algorithm:l,enumerable:!0},usages:{value:s===void 0?S.usages:s,enumerable:!0}})}function ne(S){return S==="verify"||S==="encrypt"||S==="wrapKey"}function Jt(S){return S==="sign"||S==="decrypt"||S==="unwrapKey"}if(["generateKey","importKey","unwrapKey"].forEach(function(S){var l=e[S];e[S]=function(c,s,u){var d=[].slice.call(arguments),x,_,E;switch(S){case"generateKey":x=K(c),_=s,E=u;break;case"importKey":x=K(u),_=d[3],E=d[4],c==="jwk"&&(s=xt(s),s.alg||(s.alg=Z(x)),s.key_ops||(s.key_ops=s.kty!=="oct"?"d"in s?E.filter(Jt):E.filter(ne):E.slice()),d[1]=Ut(s));break;case"unwrapKey":x=d[4],_=d[5],E=d[6],d[2]=u._key;break}if(S==="generateKey"&&x.name==="HMAC"&&x.hash)return x.length=x.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[x.hash.name],e.importKey("raw",t.getRandomValues(new Uint8Array(x.length+7>>3)),x,_,E);if(b&&S==="generateKey"&&x.name==="RSASSA-PKCS1-v1_5"&&(!x.modulusLength||x.modulusLength>=2048))return c=K(c),c.name="RSAES-PKCS1-v1_5",delete c.hash,e.generateKey(c,!0,["encrypt","decrypt"]).then(function(w){return Promise.all([e.exportKey("jwk",w.publicKey),e.exportKey("jwk",w.privateKey)])}).then(function(w){return w[0].alg=w[1].alg=Z(x),w[0].key_ops=E.filter(ne),w[1].key_ops=E.filter(Jt),Promise.all([e.importKey("jwk",w[0],x,!0,w[0].key_ops),e.importKey("jwk",w[1],x,_,w[1].key_ops)])}).then(function(w){return{publicKey:w[0],privateKey:w[1]}});if((b||f&&(x.hash||{}).name==="SHA-1")&&S==="importKey"&&c==="jwk"&&x.name==="HMAC"&&s.kty==="oct")return e.importKey("raw",N(k(s.k)),u,d[3],d[4]);if(b&&S==="importKey"&&(c==="spki"||c==="pkcs8"))return e.importKey("jwk",Ct(s),u,d[3],d[4]);if(f&&S==="unwrapKey")return e.decrypt(d[3],u,s).then(function(w){return e.importKey(c,w,d[4],d[5],d[6])});var h;try{h=l.apply(e,d)}catch(w){return Promise.reject(w)}return f&&(h=new Promise(function(w,v){h.onabort=h.onerror=function(U){v(U)},h.oncomplete=function(U){w(U.target.result)}})),h=h.then(function(w){return x.name==="HMAC"&&(x.length||(x.length=8*w.algorithm.length)),x.name.search("RSA")==0&&(x.modulusLength||(x.modulusLength=(w.publicKey||w).algorithm.modulusLength),x.publicExponent||(x.publicExponent=(w.publicKey||w).algorithm.publicExponent)),w.publicKey&&w.privateKey?w={publicKey:new re(w.publicKey,x,_,E.filter(ne)),privateKey:new re(w.privateKey,x,_,E.filter(Jt))}:w=new re(w,x,_,E),w}),h}}),["exportKey","wrapKey"].forEach(function(S){var l=e[S];e[S]=function(c,s,u){var d=[].slice.call(arguments);switch(S){case"exportKey":d[1]=s._key;break;case"wrapKey":d[1]=s._key,d[2]=u._key;break}if((b||f&&(s.algorithm.hash||{}).name==="SHA-1")&&S==="exportKey"&&c==="jwk"&&s.algorithm.name==="HMAC"&&(d[0]="raw"),b&&S==="exportKey"&&(c==="spki"||c==="pkcs8")&&(d[0]="jwk"),f&&S==="wrapKey")return e.exportKey(c,s).then(function(_){return c==="jwk"&&(_=N(unescape(encodeURIComponent(JSON.stringify(xt(_)))))),e.encrypt(d[3],u,_)});var x;try{x=l.apply(e,d)}catch(_){return Promise.reject(_)}return f&&(x=new Promise(function(_,E){x.onabort=x.onerror=function(h){E(h)},x.oncomplete=function(h){_(h.target.result)}})),S==="exportKey"&&c==="jwk"&&(x=x.then(function(_){return(b||f&&(s.algorithm.hash||{}).name==="SHA-1")&&s.algorithm.name==="HMAC"?{kty:"oct",alg:Z(s.algorithm),key_ops:s.usages.slice(),ext:!0,k:A(V(_))}:(_=xt(_),_.alg||(_.alg=Z(s.algorithm)),_.key_ops||(_.key_ops=s.type==="public"?s.usages.filter(ne):s.type==="private"?s.usages.filter(Jt):s.usages.slice()),_)})),b&&S==="exportKey"&&(c==="spki"||c==="pkcs8")&&(x=x.then(function(_){return _=Dt(xt(_)),_})),x}}),["encrypt","decrypt","sign","verify"].forEach(function(S){var l=e[S];e[S]=function(c,s,u,d){if(f&&(!u.byteLength||d&&!d.byteLength))throw new Error("Empy input is not allowed");var x=[].slice.call(arguments),_=K(c);if(f&&S==="decrypt"&&_.name==="AES-GCM"){var E=c.tagLength>>3;x[2]=(u.buffer||u).slice(0,u.byteLength-E),c.tag=(u.buffer||u).slice(u.byteLength-E)}x[1]=s._key;var h;try{h=l.apply(e,x)}catch(w){return Promise.reject(w)}return f&&(h=new Promise(function(w,v){h.onabort=h.onerror=function(U){v(U)},h.oncomplete=function(lt){var lt=lt.target.result;if(S==="encrypt"&&lt instanceof AesGcmEncryptResult){var gt=lt.ciphertext,mt=lt.tag;lt=new Uint8Array(gt.byteLength+mt.byteLength),lt.set(new Uint8Array(gt),0),lt.set(new Uint8Array(mt),gt.byteLength),lt=lt.buffer}w(lt)}})),h}}),f){var Ce=e.digest;e.digest=function(S,l){if(!l.byteLength)throw new Error("Empy input is not allowed");var c;try{c=Ce.call(e,S,l)}catch(s){return Promise.reject(s)}return c=new Promise(function(s,u){c.onabort=c.onerror=function(d){u(d)},c.oncomplete=function(d){s(d.target.result)}}),c},r.crypto=Object.create(t,{getRandomValues:{value:function(S){return t.getRandomValues(S)}},subtle:{value:e}}),r.CryptoKey=re}b&&(t.subtle=e,r.Crypto=n,r.SubtleCrypto=o,r.CryptoKey=re)});var sl=window.crypto,al=Object.freeze(Object.defineProperty({__proto__:null,default:sl},Symbol.toStringTag,{value:"Module"})),fl=Br(al);const ul=Qa.exports,ll=t0.exports,i0=ol,o0=typeof self!="undefined"&&self.crypto&&self.crypto.subtle;let s0=null;o0||(s0=fl);function cl(r){return o0?crypto.subtle.digest("SHA-256",r):s0.subtle.digest({name:"SHA-256"},r)}function hl(r){return i0.toWei(r,"gwei")}function dl(r){return i0.fromWei(r,"gwei")}const a0=[],io={};for(let r=0;r<=255;r++){let t=r.toString(16);t.length<2&&(t="0"+t),a0.push(t),io[t]=r}function pl(r){const t=[];for(let e=0;e<r.byteLength;e++)t.push(a0[r[e]]);return t.join("")}function vl(r){r=r.toLowerCase();const t=r.length;if(t%2!==0)throw"hex string must have length a multiple of 2";const e=t/2,n=new Uint8Array(e);for(let o=0;o<e;o++){const i=o*2,f=r.substring(i,i+2);if(!io.hasOwnProperty(f))throw new Error("invalid hex character "+f);n[o]=io[f]}return n}function ml(r,t=1){let e,n;t===1&&(e=new ArrayBuffer(r.length),n=new Uint8Array(e)),t===2&&(e=new ArrayBuffer(r.length*2),n=new Uint16Array(e)),t===4&&(e=new ArrayBuffer(r.length*4),n=new Uint32Array(e));for(let o=0,i=r.length;o<i;o++)n[o]=r.charCodeAt(o);return new Uint8Array(n.buffer)}function yl(r,t){r^=4294967295;for(let n=0;n<t.length;n++)r^=t[n],r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1;return r^4294967295}function gl(r){const t=yl(0,r),e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e).reverse()}function wl(r){let e=0;const n=new Uint8Array(r.length+2);n.set(r);for(let o of n){let i=128;for(;i>0;)e<<=1,o&i&&(e+=1),i>>=1,e>65535&&(e&=65535,e^=4129)}return new Uint8Array([Math.floor(e/256),e%256])}function bl(r,t){const e=new Uint8Array(r.length+t.length);return e.set(r),e.set(t,r.length),e}function xl(r,t){return r.toString()===t.toString()}const wr=(()=>{const r=[],t="A".charCodeAt(0),e="a".charCodeAt(0),n="0".charCodeAt(0);for(let o=0;o<26;++o)r.push(String.fromCharCode(t+o));for(let o=0;o<26;++o)r.push(String.fromCharCode(e+o));for(let o=0;o<10;++o)r.push(String.fromCharCode(n+o));return r.push("+"),r.push("/"),r})();function El(r){let t="",e;const n=r.length;for(e=2;e<n;e+=3)t+=wr[r[e-2]>>2],t+=wr[(r[e-2]&3)<<4|r[e-1]>>4],t+=wr[(r[e-1]&15)<<2|r[e]>>6],t+=wr[r[e]&63];return e===n+1&&(t+=wr[r[e-2]>>2],t+=wr[(r[e-2]&3)<<4],t+="=="),e===n&&(t+=wr[r[e-2]>>2],t+=wr[(r[e-2]&3)<<4|r[e-1]>>4],t+=wr[(r[e-1]&15)<<2],t+="="),t}function f0(r){return typeof self=="undefined"?Buffer.from(r,"base64").toString("binary"):atob(r)}function _l(r){return typeof self=="undefined"?Buffer.from(r,"binary").toString("base64"):btoa(r)}function Al(r){const t=f0(r),e=t.length,n=new Uint8Array(e);for(let o=0;o<e;o++)n[o]=t.charCodeAt(o);return n}function Cl(r,t){let e=0;for(let n=0;n<r;n++)e*=256,e+=t[n];return e}var u0={BN:ul,nacl:ll,sha256:cl,fromNano:dl,toNano:hl,bytesToHex:pl,hexToBytes:vl,stringToBytes:ml,crc32c:gl,crc16:wl,concatBytes:bl,bytesToBase64:El,base64ToBytes:Al,base64toString:f0,stringToBase64:_l,compareBytes:xl,readNBytesUIntFromArray:Cl},l0={};const{crc16:c0,hexToBytes:Bl,bytesToHex:Ml,stringToBytes:Fl,base64toString:Sl,stringToBase64:Dl}=u0,oo=17,h0=81,so=128;function Il(r){if(r.length!==48)throw new Error("User-friendly address should contain strictly 48 characters");const t=Fl(Sl(r));if(t.length!==36)throw"Unknown address type: byte length is not equal to 36";const e=t.slice(0,34),n=t.slice(34,36),o=c0(e);if(!(o[0]===n[0]&&o[1]===n[1]))throw"Wrong crc16 hashsum";let i=e[0],f=!1,b=!1;if(i&so&&(f=!0,i=i^so),i!==oo&&i!==h0)throw"Unknown address tag";b=i===oo;let A=null;if(e[1]===255?A=-1:A=e[1],A!==0&&A!==-1)throw new Error("Invalid address wc "+A);const k=e.slice(2,34);return{isTestOnly:f,isBounceable:b,workchain:A,hashPart:k}}class vi{static isValid(t){try{return new vi(t),!0}catch{return!1}}constructor(t){if(t==null)throw"Invalid address";if(t instanceof vi){this.wc=t.wc,this.hashPart=t.hashPart,this.isTestOnly=t.isTestOnly,this.isUserFriendly=t.isUserFriendly,this.isBounceable=t.isBounceable,this.isUrlSafe=t.isUrlSafe;return}if(t.search(/\-/)>0||t.search(/_/)>0?(this.isUrlSafe=!0,t=t.replace(/\-/g,"+").replace(/_/g,"/")):this.isUrlSafe=!1,t.indexOf(":")>-1){const e=t.split(":");if(e.length!==2)throw new Error("Invalid address "+t);const n=parseInt(e[0]);if(n!==0&&n!==-1)throw new Error("Invalid address wc "+t);const o=e[1];if(o.length!==64)throw new Error("Invalid address hex "+t);this.isUserFriendly=!1,this.wc=n,this.hashPart=Bl(o),this.isTestOnly=!1,this.isBounceable=!1}else{this.isUserFriendly=!0;const e=Il(t);this.wc=e.workchain,this.hashPart=e.hashPart,this.isTestOnly=e.isTestOnly,this.isBounceable=e.isBounceable}}toString(t,e,n,o){if(t===void 0&&(t=this.isUserFriendly),e===void 0&&(e=this.isUrlSafe),n===void 0&&(n=this.isBounceable),o===void 0&&(o=this.isTestOnly),t){let i=n?oo:h0;o&&(i|=so);const f=new Int8Array(34);f[0]=i,f[1]=this.wc,f.set(this.hashPart,2);const b=new Uint8Array(36);b.set(f),b.set(c0(f),34);let A=Dl(String.fromCharCode.apply(null,new Uint8Array(b)));return e&&(A=A.replace(/\+/g,"-").replace(/\//g,"_")),A}else return this.wc+":"+Ml(this.hashPart)}}l0.default=vi;const{BN:d0,nacl:Tl,sha256:Nl,fromNano:Rl,toNano:Ul,bytesToHex:$l,hexToBytes:kl,stringToBytes:Ol,crc32c:Ll,crc16:Pl,concatBytes:jl,bytesToBase64:ql,base64ToBytes:Hl,base64toString:Wl,stringToBase64:Vl,compareBytes:Kl,readNBytesUIntFromArray:Gl}=u0,p0=l0.default;function Yl(r){const t="ton://transfer/";if(!r.startsWith(t))throw new Error("must starts with "+t);const e=r.substring(t.length).split("?");if(e.length>2)throw new Error('multiple "?"');const n=e[0];if(!p0.isValid(n))throw new Error("invalid address format "+n);const o={address:n},i=e[1];if(i&&i.length){const f=i.split("&").map(b=>b.split("="));for(const b of f){if(b.length!==2)throw new Error("invalid url pair");const A=b[0],k=b[1];if(A==="amount"){if(o.amount)throw new Error("amount already set");if(new d0(k).isNeg())throw new Error("negative amount");o.amount=k}else if(A==="text"){if(o.text)throw new Error("text already set");o.text=decodeURIComponent(k)}else throw new Error("unknown url var "+A)}}return o}function Xl(r,t,e){let n="ton://transfer/"+r;const o=[];return t&&o.push("amount="+t),e&&o.push("text="+encodeURIComponent(e)),o.length===0?n:n+"?"+o.join("&")}var Qe={Address:p0,BN:d0,nacl:Tl,sha256:Nl,fromNano:Rl,toNano:Ul,bytesToHex:$l,hexToBytes:kl,stringToBytes:Ol,crc32c:Ll,crc16:Pl,concatBytes:jl,bytesToBase64:ql,base64ToBytes:Hl,base64toString:Wl,stringToBase64:Vl,compareBytes:Kl,readNBytesUIntFromArray:Gl,parseTransferUrl:Yl,formatTransferUrl:Xl};const{BN:dn,bytesToHex:zl}=Qe;class Io{constructor(t){this.array=Uint8Array.from({length:Math.ceil(t/8)},()=>0),this.cursor=0,this.length=t}getFreeBits(){return this.length-this.cursor}getUsedBits(){return this.cursor}getUsedBytes(){return Math.ceil(this.cursor/8)}get(t){return(this.array[t/8|0]&1<<7-t%8)>0}checkRange(t){if(t>this.length)throw Error("BitString overflow")}on(t){this.checkRange(t),this.array[t/8|0]|=1<<7-t%8}off(t){this.checkRange(t),this.array[t/8|0]&=~(1<<7-t%8)}toggle(t){this.checkRange(t),this.array[t/8|0]^=1<<7-t%8}forEach(t){const e=this.cursor;for(let n=0;n<e;n++)t(this.get(n))}writeBit(t){t&&t>0?this.on(this.cursor):this.off(this.cursor),this.cursor=this.cursor+1}writeBitArray(t){for(let e=0;e<t.length;e++)this.writeBit(t[e])}writeUint(t,e){if(t=new dn(t),e==0||t.toString(2).length>e){if(t==0)return;throw Error("bitLength is too small for number, got number="+t+",bitLength="+e)}const n=t.toString(2,e);for(let o=0;o<e;o++)this.writeBit(n[o]==1)}writeInt(t,e){if(t=new dn(t),e==1){if(t==-1){this.writeBit(!0);return}if(t==0){this.writeBit(!1);return}throw Error("Bitlength is too small for number")}else if(t.isNeg()){this.writeBit(!0);const o=new dn(2).pow(new dn(e-1));this.writeUint(o.add(t),e-1)}else this.writeBit(!1),this.writeUint(t,e-1)}writeUint8(t){this.writeUint(t,8)}writeBytes(t){for(let e=0;e<t.length;e++)this.writeUint8(t[e])}writeString(t){this.writeBytes(new TextEncoder().encode(t))}writeGrams(t){if(t==0)this.writeUint(0,4);else{t=new dn(t);const e=Math.ceil(t.toString(16).length/2);this.writeUint(e,4),this.writeUint(t,e*8)}}writeCoins(t){this.writeGrams(t)}writeAddress(t){t==null?this.writeUint(0,2):(this.writeUint(2,2),this.writeUint(0,1),this.writeInt(t.wc,8),this.writeBytes(t.hashPart))}writeBitString(t){t.forEach(e=>{this.writeBit(e)})}clone(){const t=new Io(0);return t.array=this.array.slice(0),t.length=this.length,t.cursor=this.cursor,t}toString(){return this.toHex()}getTopUppedArray(){const t=this.clone();let e=Math.ceil(t.cursor/8)*8-t.cursor;if(e>0)for(e=e-1,t.writeBit(!0);e>0;)e=e-1,t.writeBit(!1);return t.array=t.array.slice(0,Math.ceil(t.cursor/8)),t.array}toHex(){if(this.cursor%4===0){const t=zl(this.array.slice(0,Math.ceil(this.cursor/8))).toUpperCase();return this.cursor%8===0?t:t.substr(0,t.length-1)}else{const t=this.clone();for(t.writeBit(1);t.cursor%4!==0;)t.writeBit(0);return t.toHex().toUpperCase()+"_"}}setTopUppedArray(t,e=!0){if(this.length=t.length*8,this.array=t,this.cursor=this.length,!(e||!this.length)){let n=!1;for(let o=0;o<7;o++)if(this.cursor-=1,this.get(this.cursor)){n=!0,this.off(this.cursor);break}if(!n)throw console.log(t,e),new Error("Incorrect TopUppedArray")}}}var v0={BitString:Io};const{BitString:ps}=v0,{bytesToBase64:t5,compareBytes:Kn,concatBytes:pn,crc32c:m0,hexToBytes:Ln,readNBytesUIntFromArray:Or,sha256:Zl,bytesToHex:e5}=Qe,y0=Ln("B5EE9C72"),Jl=Ln("68ff65f3"),Ql=Ln("acc3a728");class g0{constructor(){this.bits=new ps(1023),this.refs=[],this.isExotic=!1}static fromBoc(t){return vs(t)}static oneFromBoc(t){const e=vs(t);if(e.length!==1)throw new Error("expected 1 root cell but have "+e.length);return e[0]}writeCell(t){this.bits.writeBitString(t.bits),this.refs=this.refs.concat(t.refs)}getMaxLevel(){let t=0;for(let e in this.refs){const n=this.refs[e];n.getMaxLevel()>t&&(t=n.getMaxLevel())}return t}isExplicitlyStoredHashes(){return 0}getMaxDepth(){let t=0;if(this.refs.length>0){for(let e in this.refs){const n=this.refs[e];n.getMaxDepth()>t&&(t=n.getMaxDepth())}t=t+1}return t}getMaxDepthAsArray(){const t=this.getMaxDepth(),e=Uint8Array.from({length:2},()=>0);return e[1]=t%256,e[0]=Math.floor(t/256),e}getRefsDescriptor(){const t=Uint8Array.from({length:1},()=>0);return t[0]=this.refs.length+this.isExotic*8+this.getMaxLevel()*32,t}getBitsDescriptor(){const t=Uint8Array.from({length:1},()=>0);return t[0]=Math.ceil(this.bits.cursor/8)+Math.floor(this.bits.cursor/8),t}getDataWithDescriptors(){const t=this.getRefsDescriptor(),e=this.getBitsDescriptor(),n=this.bits.getTopUppedArray();return pn(pn(t,e),n)}async getRepr(){const t=[];t.push(this.getDataWithDescriptors());for(let n in this.refs){const o=this.refs[n];t.push(o.getMaxDepthAsArray())}for(let n in this.refs){const o=this.refs[n];t.push(await o.hash())}let e=new Uint8Array;for(let n in t){const o=t[n];e=pn(e,o)}return e}async hash(){return new Uint8Array(await Zl(await this.getRepr()))}print(t){t=t||"";let e=t+"x{"+this.bits.toHex()+`}
`;for(let n in this.refs)e+=this.refs[n].print(t+" ");return e}async toBoc(t=!0,e=!0,n=!1,o=0){const f=await this.treeWalk(),b=f[0],A=f[1],k=b.length,N=k.toString(2).length,V=Math.min(Math.ceil(N/8),1);let K=0,Z=[];for(let Gt of b)Z.push(K),K=K+await Gt[1].bocSerializationSize(A,V);const xt=K.toString(2).length,Ut=Math.max(Math.ceil(xt/8),1),Ct=new ps((1023+32*4+32*3)*b.length);Ct.writeBytes(y0),Ct.writeBitArray([t,e,n]),Ct.writeUint(o,2),Ct.writeUint(V,3),Ct.writeUint8(Ut),Ct.writeUint(k,V*8),Ct.writeUint(1,V*8),Ct.writeUint(0,V*8),Ct.writeUint(K,Ut*8),Ct.writeUint(0,V*8),t&&b.forEach((Gt,ue)=>Ct.writeUint(Z[ue],Ut*8));for(let Gt of b){const ue=await Gt[1].serializeForBoc(A,V);Ct.writeBytes(ue)}let Dt=Ct.getTopUppedArray();return e&&(Dt=pn(Dt,m0(Dt))),Dt}async serializeForBoc(t,e){const n=[];if(n.push(this.getDataWithDescriptors()),this.isExplicitlyStoredHashes())throw new Error("Cell hashes explicit storing is not implemented");for(let i in this.refs){const b=await this.refs[i].hash();let k=t[b].toString(16);k.length%2&&(k="0"+k);const N=Ln(k);n.push(N)}let o=new Uint8Array;for(let i in n){const f=n[i];o=pn(o,f)}return o}async bocSerializationSize(t,e){return(await this.serializeForBoc(t,e)).length}async treeWalk(){return b0(this,[],{})}}async function w0(r,t,e){const n=r[e];for(let i in r)r[i]>n&&(r[i]=r[i]-1);r[e]=t.length-1;const o=t.splice(n,1)[0];t.push(o);for(let i of o[1].refs)await w0(r,t,await i.hash())}async function b0(r,t,e,n=null){const o=await r.hash();if(o in e)return n&&e[n]>e[o]&&await w0(e,t,o),[t,e];e[o]=t.length,t.push([o,r]);for(let i of r.refs){const f=await b0(i,t,e,o);t=f[0],e=f[1]}return[t,e]}function tc(r){if(r.length<4+1)throw"Not enough bytes for magic prefix";const t=r,e=r.slice(0,4);r=r.slice(4);let n,o,i,f,b;if(Kn(e,y0)){const Ct=r[0];n=Ct&128,o=Ct&64,i=Ct&32,f=(Ct&16)*2+(Ct&8),b=Ct%8}if(Kn(e,Jl)&&(n=1,o=0,i=0,f=0,b=r[0]),Kn(e,Ql)&&(n=1,o=1,i=0,f=0,b=r[0]),r=r.slice(1),r.length<1+5*b)throw"Not enough bytes for encoding cells counters";const A=r[0];r=r.slice(1);const k=Or(b,r);r=r.slice(b);const N=Or(b,r);r=r.slice(b);const V=Or(b,r);r=r.slice(b);const K=Or(A,r);if(r=r.slice(A),r.length<N*b)throw"Not enough bytes for encoding root cells hashes";let Z=[];for(let Ct=0;Ct<N;Ct++)Z.push(Or(b,r)),r=r.slice(b);let xt=!1;if(n){if(xt=[],r.length<A*k)throw"Not enough bytes for index encoding";for(let Ct=0;Ct<k;Ct++)xt.push(Or(A,r)),r=r.slice(A)}if(r.length<K)throw"Not enough bytes for cells data";const Ut=r.slice(0,K);if(r=r.slice(K),o){if(r.length<4)throw"Not enough bytes for crc32c hashsum";const Ct=t.length;if(!Kn(m0(t.slice(0,Ct-4)),r.slice(0,4)))throw"Crc32c hashsum mismatch";r=r.slice(4)}if(r.length)throw"Too much bytes in BoC serialization";return{has_idx:n,hash_crc32:o,has_cache_bits:i,flags:f,size_bytes:b,off_bytes:A,cells_num:k,roots_num:N,absent_num:V,tot_cells_size:K,root_list:Z,index:xt,cells_data:Ut}}function ec(r,t){if(r.length<2)throw"Not enough bytes to encode cell descriptors";const e=r[0],n=r[1];r=r.slice(2);const o=e&8,i=e%8,f=Math.ceil(n/2),b=!(n%2);let A=new g0;if(A.isExotic=o,r.length<f+t*i)throw"Not enough bytes to encode cell data";A.bits.setTopUppedArray(r.slice(0,f),b),r=r.slice(f);for(let k=0;k<i;k++)A.refs.push(Or(t,r)),r=r.slice(t);return{cell:A,residue:r}}function vs(r){typeof r=="string"&&(r=Ln(r));const t=tc(r);let e=t.cells_data,n=[];for(let i=0;i<t.cells_num;i++){let f=ec(e,t.size_bytes);e=f.residue,n.push(f.cell)}for(let i=t.cells_num-1;i>=0;i--){let f=n[i];for(let b=0;b<f.refs.length;b++){const A=f.refs[b];if(A<i)throw"Topological order is broken";f.refs[b]=n[A]}}let o=[];for(let i of t.root_list)o.push(n[i]);return o}var rc={Cell:g0};const{BitString:nc}=v0,{Cell:ic}=rc;var He={BitString:nc,Cell:ic};const{Cell:vn}=He,{Address:kr,bytesToBase64:mn,bytesToHex:oc}=Qe;class To{constructor(t,e){this.provider=t,this.options=e,this.address=e.address?new kr(e.address):null,e.wc||(e.wc=this.address?this.address.wc:0),this.methods={}}async getAddress(){return this.address||(this.address=(await this.createStateInit()).address),this.address}createCodeCell(){if(!this.options.code)throw new Error("Contract: options.code is not defined");return this.options.code}createDataCell(){return new vn}async createStateInit(){const t=this.createCodeCell(),e=this.createDataCell(),n=To.createStateInit(t,e),o=await n.hash(),i=new kr(this.options.wc+":"+oc(o));return{stateInit:n,address:i,code:t,data:e}}static createStateInit(t,e,n=null,o=null,i=null){if(n)throw"Library in state init is not implemented";if(o)throw"Split depth in state init is not implemented";if(i)throw"Ticktock in state init is not implemented";const f=new vn;return f.bits.writeBitArray([Boolean(o),Boolean(i),Boolean(t),Boolean(e),Boolean(n)]),t&&f.refs.push(t),e&&f.refs.push(e),n&&f.refs.push(n),f}static createInternalMessageHeader(t,e=0,n=!0,o=null,i=!1,f=null,b=null,A=0,k=0,N=0,V=0){const K=new vn;if(K.bits.writeBit(!1),K.bits.writeBit(n),o!==null?K.bits.writeBit(o):K.bits.writeBit(new kr(t).isBounceable),K.bits.writeBit(i),K.bits.writeAddress(f?new kr(f):null),K.bits.writeAddress(new kr(t)),K.bits.writeGrams(e),b)throw"Currency collections are not implemented yet";return K.bits.writeBit(Boolean(b)),K.bits.writeGrams(A),K.bits.writeGrams(k),K.bits.writeUint(N,64),K.bits.writeUint(V,32),K}static createExternalMessageHeader(t,e=null,n=0){const o=new vn;return o.bits.writeUint(2,2),o.bits.writeAddress(e?new kr(e):null),o.bits.writeAddress(new kr(t)),o.bits.writeGrams(n),o}static createCommonMsgInfo(t,e=null,n=null){const o=new vn;return o.writeCell(t),e?(o.bits.writeBit(!0),o.bits.getFreeBits()-1>=e.bits.getUsedBits()?(o.bits.writeBit(!1),o.writeCell(e)):(o.bits.writeBit(!0),o.refs.push(e))):o.bits.writeBit(!1),n?o.bits.getFreeBits()>=n.bits.getUsedBits()?(o.bits.writeBit(!1),o.writeCell(n)):(o.bits.writeBit(!0),o.refs.push(n)):o.bits.writeBit(!1),o}static createMethod(t,e){return{getQuery:async()=>(await e).message,send:async()=>{const n=await e,o=mn(await n.message.toBoc(!1));return t.sendBoc(o)},estimateFee:async()=>{const n=await e,o=n.code?{address:n.address.toString(!0,!0,!1),body:mn(await n.body.toBoc(!1)),init_code:mn(await n.code.toBoc(!1)),init_data:mn(await n.data.toBoc(!1))}:{address:n.address.toString(!0,!0,!0),body:mn(await n.body.toBoc(!1))};return t.getEstimateFee(o)}}}}var cr={Contract:To};const{Cell:sc}=He,{Address:ac,BN:r5,bytesToHex:fc}=Qe,{Contract:ji}=cr;class uc{constructor(t,e){this.transport=t,this.ton=e,this.ADDRESS_FORMAT_HEX=0,this.ADDRESS_FORMAT_USER_FRIENDLY=1,this.ADDRESS_FORMAT_URL_SAFE=2,this.ADDRESS_FORMAT_BOUNCEABLE=4,this.ADDRESS_FORMAT_TEST_ONLY=8}async getAppConfiguration(){const t=await this.transport.send(224,1,0,0);return{version:""+t[0]+"."+t[1]+"."+t[2]}}async getPublicKey(t,e){const n=Buffer.alloc(4);n.writeInt32BE(t);const o=await this.transport.send(224,2,e?1:0,0,n),i=o[0];return{publicKey:new Uint8Array(o.slice(1,1+i))}}async getAddress(t,e,n){const o=Buffer.alloc(4);o.writeInt32BE(t);const i=await this.transport.send(224,5,e?1:0,n,o),f=i[0],b=new Uint8Array(i.slice(1,1+f));return{address:new ac("0:"+fc(b))}}async sign(t,e){const n=Buffer.alloc(4);n.writeInt32BE(t);const o=Buffer.concat([n,Buffer.from(e)]),i=await this.transport.send(224,3,0,0,o),f=i[0];return{signature:i.slice(1,1+f)}}async transfer(t,e,n,o,i,f){const A=await e.createTransferMessage(null,n,o,i,null,3,!0),k=Buffer.alloc(4);k.writeInt32BE(t);const N=Buffer.concat([k,Buffer.from(await A.signingMessage.toBoc())]),V=await this.transport.send(224,4,f,0,N),K=V[0],Z=V.slice(1,1+K),xt=new Uint8Array(Z),Ut=new sc;Ut.bits.writeBytes(xt),Ut.writeCell(A.signingMessage);let Ct=null,Dt=null,Gt=null;if(i===0){const ne=await e.createStateInit();Ct=ne.stateInit,Dt=ne.code,Gt=ne.data}const ue=await e.getAddress(),le=ji.createExternalMessageHeader(ue),$t=ji.createCommonMsgInfo(le,Ct,Ut),re=new Promise(ne=>{ne({address:ue,message:$t,body:Ut,signature:xt,signingMessage:A.signingMessage,stateInit:Ct,code:Dt,data:Gt})});return ji.createMethod(this.ton.provider,re)}}var lc=uc,x0={},E0={};const{BN:qi,base64ToBytes:cc}=Qe,{Cell:hc}=He;class Lr{static parseObject(t){const e=t["@type"];switch(e){case"tvm.list":case"tvm.tuple":return t.elements.map(Lr.parseObject);case"tvm.stackEntryTuple":return Lr.parseObject(t.tuple);case"tvm.stackEntryNumber":return Lr.parseObject(t.number);case"tvm.numberDecimal":return new qi(t.number,10);default:throw new Error("unknown type "+e)}}static parseResponseStack(t){const e=t[0],n=t[1];switch(e){case"num":return new qi(n.replace(/0x/,""),16);case"list":case"tuple":return Lr.parseObject(n);case"cell":const o=cc(n.bytes);return hc.oneFromBoc(o);default:throw new Error("unknown type "+e)}}static parseResponse(t){if(t.exit_code!==0){const n=new Error("http provider parse response error");throw n.result=t,n}const e=t.stack.map(Lr.parseResponseStack);return e.length===1?e[0]:e}static makeArg(t){if(t instanceof qi||t instanceof Number)return["num",t];throw new Error("unknown arg type "+t)}static makeArgs(t){return t.map(this.makeArg)}}E0.default=Lr;const dc=E0.default;typeof fetch=="undefined"&&(fetch=e0);const ao="-9223372036854775808";class _0{constructor(t,e){this.host=t||"https://toncenter.com/api/v2/jsonRPC",this.options=e||{}}sendImpl(t,e){const n={"Content-Type":"application/json"};return this.options.apiKey&&(n["X-API-Key"]=this.options.apiKey),fetch(t,{method:"POST",headers:n,body:JSON.stringify(e)}).then(o=>o.json()).then(({result:o,error:i})=>o||Promise.reject(i))}send(t,e){return this.sendImpl(this.host,{id:1,jsonrpc:"2.0",method:t,params:e})}async getAddressInfo(t){return this.send("getAddressInformation",{address:t})}async getExtendedAddressInfo(t){return this.send("getExtendedAddressInformation",{address:t})}async getWalletInfo(t){return this.send("getWalletInformation",{address:t})}async getTransactions(t,e=20,n=void 0,o=void 0,i=void 0,f=void 0){return this.send("getTransactions",{address:t,limit:e,lt:n,hash:o,to_lt:i,archival:f})}async getBalance(t){return this.send("getAddressBalance",{address:t})}async sendBoc(t){return this.send("sendBoc",{boc:t})}async sendQuery(t){return this.send("sendQuerySimple",t)}async getEstimateFee(t){return this.send("estimateFee",t)}async call(t,e,n=[]){return this.send("runGetMethod",{address:t,method:e,stack:n})}async call2(t,e,n=[]){const o=await this.send("runGetMethod",{address:t,method:e,stack:n});return dc.parseResponse(o)}async getMasterchainInfo(){return this.send("getMasterchainInfo",{})}async getBlockShards(t){return this.send("shards",{seqno:t})}async getBlockTransactions(t,e,n){return this.send("getBlockTransactions",{workchain:t,shard:e,seqno:n})}async getMasterchainBlockTransactions(t){return this.getBlockTransactions(-1,ao,t)}async getBlockHeader(t,e,n){return this.send("getBlockHeader",{workchain:t,shard:e,seqno:n})}async getMasterchainBlockHeader(t){return this.getBlockHeader(-1,ao,t)}}_0.SHARD_ID_ALL=ao;x0.default=_0;var A0={};const{Contract:br}=cr,{Cell:yn}=He,{nacl:Gn,stringToBytes:n5,Address:pc,BN:vc}=Qe;class mc extends br{constructor(t,e){if(!e.publicKey&&!e.address)throw new Error("WalletContract required publicKey or address in options");super(t,e),this.methods={transfer:n=>br.createMethod(t,this.createTransferMessage(n.secretKey,n.toAddress,n.amount,n.seqno,n.payload,n.sendMode,!Boolean(n.secretKey),n.stateInit)),seqno:()=>({call:async()=>{const n=await this.getAddress();let o=null;try{o=(await t.call2(n.toString(),"seqno")).toNumber()}catch{}return o}})},this.deploy=n=>br.createMethod(t,this.createInitExternalMessage(n))}getName(){throw new Error("override me")}createDataCell(){const t=new yn;return t.bits.writeUint(0,32),t.bits.writeBytes(this.options.publicKey),t}createSigningMessage(t){t=t||0;const e=new yn;return e.bits.writeUint(t,32),e}async createInitExternalMessage(t){if(!this.options.publicKey){const V=Gn.sign.keyPair.fromSecretKey(t);this.options.publicKey=V.publicKey}const{stateInit:e,address:n,code:o,data:i}=await this.createStateInit(),f=this.createSigningMessage(),b=Gn.sign.detached(await f.hash(),t),A=new yn;A.bits.writeBytes(b),A.writeCell(f);const k=br.createExternalMessageHeader(n),N=br.createCommonMsgInfo(k,e,A);return{address:n,message:N,body:A,signingMessage:f,stateInit:e,code:o,data:i}}async createExternalMessage(t,e,n,o=!1){const i=o?new Uint8Array(64):Gn.sign.detached(await t.hash(),e),f=new yn;f.bits.writeBytes(i),f.writeCell(t);let b=null,A=null,k=null;if(n===0){if(!this.options.publicKey){const xt=Gn.sign.keyPair.fromSecretKey(e);this.options.publicKey=xt.publicKey}const Z=await this.createStateInit();b=Z.stateInit,A=Z.code,k=Z.data}const N=await this.getAddress(),V=br.createExternalMessageHeader(N),K=br.createCommonMsgInfo(V,b,f);return{address:N,message:K,body:f,signature:i,signingMessage:t,stateInit:b,code:A,data:k}}async createTransferMessage(t,e,n,o,i="",f=3,b=!1,A=null){let k=new yn;i&&(i.refs?k=i:typeof i=="string"?i.length>0&&(k.bits.writeUint(0,32),k.bits.writeString(i)):k.bits.writeBytes(i));const N=br.createInternalMessageHeader(new pc(e),new vc(n)),V=br.createCommonMsgInfo(N,A,k),K=this.createSigningMessage(o);return K.bits.writeUint8(f),K.refs.push(V),this.createExternalMessage(K,t,o,b)}}var nn={WalletContract:mc};const{Cell:No}=He,{WalletContract:Ro}=nn;class yc extends Ro{constructor(t,e){e.code=No.oneFromBoc("B5EE9C72410101010044000084FF0020DDA4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED5441FDF089"),super(t,e)}getName(){return"simpleR1"}}class gc extends Ro{constructor(t,e){e.code=No.oneFromBoc("B5EE9C724101010100530000A2FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54D0E2786F"),super(t,e)}getName(){return"simpleR2"}}class wc extends Ro{constructor(t,e){e.code=No.oneFromBoc("B5EE9C7241010101005F0000BAFF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54B5B86E42"),super(t,e)}getName(){return"simpleR3"}}var bc={SimpleWalletContractR1:yc,SimpleWalletContractR2:gc,SimpleWalletContractR3:wc};const{Cell:Uo}=He,{WalletContract:xc}=nn;class C0 extends xc{createSigningMessage(t){t=t||0;const e=new Uo;if(e.bits.writeUint(t,32),t===0)for(let n=0;n<32;n++)e.bits.writeBit(1);else{const n=new Date,o=Math.floor(n.getTime()/1e3);e.bits.writeUint(o+60,32)}return e}}class Ec extends C0{constructor(t,e){e.code=Uo.oneFromBoc("B5EE9C724101010100570000AAFF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54A1370BB6"),super(t,e)}getName(){return"v2R1"}}class _c extends C0{constructor(t,e){e.code=Uo.oneFromBoc("B5EE9C724101010100630000C2FF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54044CD7A1"),super(t,e)}getName(){return"v2R2"}}var Ac={WalletV2ContractR1:Ec,WalletV2ContractR2:_c};const{Cell:mi}=He,{WalletContract:Cc}=nn;class B0 extends Cc{createSigningMessage(t){t=t||0;const e=new mi;if(e.bits.writeUint(this.options.walletId,32),t===0)for(let n=0;n<32;n++)e.bits.writeBit(1);else{const n=new Date,o=Math.floor(n.getTime()/1e3);e.bits.writeUint(o+60,32)}return e.bits.writeUint(t,32),e}createDataCell(){const t=new mi;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t}}class Bc extends B0{constructor(t,e){e.code=mi.oneFromBoc("B5EE9C724101010100620000C0FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED543FBE6EE0"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}getName(){return"v3R1"}}class Mc extends B0{constructor(t,e){e.code=mi.oneFromBoc("B5EE9C724101010100710000DEFF0020DD2082014C97BA218201339CBAB19F71B0ED44D0D31FD31F31D70BFFE304E0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED5410BD6DAD"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}getName(){return"v3R2"}}var Fc={WalletV3ContractR1:Bc,WalletV3ContractR2:Mc};const{Cell:Hi}=He,{WalletContract:Sc}=nn;class Dc extends Sc{constructor(t,e){e.code=Hi.oneFromBoc("B5EE9C72410215010002F5000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF263ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1112131403EED001D0D3030171B0915BE021D749C120915BE001D31F218210706C7567BD228210626C6E63BDB022821064737472BDB0925F03E002FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F05E004D33FC8258210706C7567BA9131E30D248210626C6E63BAE30004060708020120090A005001FA00F404308210706C7567831EB17080185005CB0527CF165003FA02F40012CB69CB1F5210CB3F0052F8276F228210626C6E63831EB17080185005CB0527CF1624FA0214CB6A13CB1F5230CB3F01FA02F4000092821064737472BA8E3504810108F45930ED44D0810140D720C801CF16F400C9ED54821064737472831EB17080185004CB0558CF1622FA0212CB6ACB1FCB3F9410345F04E2C98040FB000201200B0C0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580D0E0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200F100019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC971FB00C84014810108F451F2A702006C810108D718C8542025810108F451F2A782106E6F746570748018C8CB05CB025004CF16821005F5E100FA0213CB6A12CB1FC971FB00020072810108D718305202810108F459F2A7F82582106473747270748018C8CB05CB025005CF16821005F5E100FA0214CB6A13CB1F12CB3FC973FB00000AF400C9ED5446A9F34F"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this)}getName(){return"v4R1"}createSigningMessage(t,e){t=t||0;const n=new Hi;if(n.bits.writeUint(this.options.walletId,32),t===0)for(let o=0;o<32;o++)n.bits.writeBit(1);else{const o=new Date,i=Math.floor(o.getTime()/1e3);n.bits.writeUint(i+60,32)}return n.bits.writeUint(t,32),e||n.bits.writeUint(0,8),n}createDataCell(){const t=new Hi;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeUint(0,1),t}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}}var Ic={WalletV4ContractR1:Dc};const{Cell:Wi}=He,{Contract:Vi}=cr,{Address:ms,bytesToHex:Tc,BN:i5,toNano:Nc}=Qe,{WalletContract:Rc}=nn;class Uc extends Rc{constructor(t,e){e.code=Wi.oneFromBoc("B5EE9C72410214010002D4000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF264ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1011121302E6D001D0D3032171B0925F04E022D749C120925F04E002D31F218210706C7567BD22821064737472BDB0925F05E003FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F07E005D33FC8258210706C7567BA923830E30D03821064737472BA925F06E30D06070201200809007801FA00F40430F8276F2230500AA121BEF2E0508210706C7567831EB17080185004CB0526CF1658FA0219F400CB6917CB1F5260CB3F20C98040FB0006008A5004810108F45930ED44D0810140D720C801CF16F400C9ED540172B08E23821064737472831EB17080185005CB055003CF1623FA0213CB6ACB1FCB3FC98040FB00925F03E20201200A0B0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580C0D0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200E0F0019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC973FB00C84014810108F451F2A7020070810108D718FA00D33FC8542047810108F451F2A782106E6F746570748018C8CB05CB025006CF165004FA0214CB6A12CB1FCB3FC973FB0002006C810108D718FA00D33F305224810108F459F2A782106473747270748018C8CB05CB025005CF165003FA0213CB6ACB1F12CB3FC973FB00000AF400C9ED54696225E5"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.deployAndInstallPlugin=n=>Vi.createMethod(t,this.deployAndInstallPlugin(n)),this.methods.installPlugin=n=>Vi.createMethod(t,this.installPlugin(n)),this.methods.removePlugin=n=>Vi.createMethod(t,this.removePlugin(n)),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.isPluginInstalled=this.isPluginInstalled.bind(this),this.methods.getPluginsList=this.getPluginsList.bind(this)}getName(){return"v4R2"}createSigningMessage(t,e){t=t||0;const n=new Wi;if(n.bits.writeUint(this.options.walletId,32),t===0)for(let o=0;o<32;o++)n.bits.writeBit(1);else{const o=new Date,i=Math.floor(o.getTime()/1e3);n.bits.writeUint(i+60,32)}return n.bits.writeUint(t,32),e||n.bits.writeUint(0,8),n}createDataCell(){const t=new Wi;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeUint(0,1),t}async deployAndInstallPlugin(t){const{secretKey:e,seqno:n,pluginWc:o,amount:i,stateInit:f,body:b}=t,A=this.createSigningMessage(n,!0);return A.bits.writeUint(1,8),A.bits.writeInt(o,8),A.bits.writeGrams(i),A.refs.push(f),A.refs.push(b),this.createExternalMessage(A,e,n,!1)}async _setPlugin(t,e){const{secretKey:n,seqno:o,amount:i,queryId:f}=t,b=new ms(t.pluginAddress),A=this.createSigningMessage(o,!0);return A.bits.writeUint(e?2:3,8),A.bits.writeInt(b.wc,8),A.bits.writeBytes(b.hashPart),A.bits.writeGrams(i||Nc(.1)),A.bits.writeUint(f||0,64),this.createExternalMessage(A,n,o,!1)}async installPlugin(t){return this._setPlugin(t,!0)}async removePlugin(t){return this._setPlugin(t,!1)}async getWalletId(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}async isPluginInstalled(t){t=new ms(t);const e="0x"+Tc(t.hashPart),n=await this.getAddress();return!(await this.provider.call2(n.toString(),"is_plugin_installed",[["num",t.wc],["num",e]])).isZero()}async getPluginsList(){const t=o=>o[0].toNumber()+":"+o[1].toString(16),e=await this.getAddress();return(await this.provider.call2(e.toString(),"get_plugin_list")).map(t)}}var $c={WalletV4ContractR2:Uc};const{SimpleWalletContractR1:M0,SimpleWalletContractR2:F0,SimpleWalletContractR3:S0}=bc,{WalletV2ContractR1:D0,WalletV2ContractR2:I0}=Ac,{WalletV3ContractR1:T0,WalletV3ContractR2:N0}=Fc,{WalletV4ContractR1:R0}=Ic,{WalletV4ContractR2:U0}=$c,$0={simpleR1:M0,simpleR2:F0,simpleR3:S0,v2R1:D0,v2R2:I0,v3R1:T0,v3R2:N0,v4R1:R0,v4R2:U0},k0=[M0,F0,S0,D0,I0,T0,N0,R0,U0];class $o{constructor(t){this.provider=t,this.all=$0,this.list=k0,this.defaultVersion="v3R1",this.default=this.all[this.defaultVersion]}create(t){return new this.default(this.provider,t)}}$o.all=$0;$o.list=k0;A0.default=$o;var O0={};const{Cell:Yn}=He,{Address:o5,BN:s5,toNano:a5,bytesToHex:f5,hexToBytes:u5,nacl:l5,stringToBytes:c5,bytesToBase64:h5,base64ToBytes:ys}=Qe,{WalletContract:kc}=nn,Oc=698983191;class Ki extends kc{constructor(t,e){e.code=Yn.oneFromBoc("B5EE9C7241021E01000261000114FF00F4A413F4BCF2C80B010201200203020148040501F2F28308D71820D31FD31FD31F802403F823BB13F2F2F003802251A9BA1AF2F4802351B7BA1BF2F4801F0BF9015410C5F9101AF2F4F8005057F823F0065098F823F0062071289320D74A8E8BD30731D4511BDB3C12B001E8309229A0DF72FB02069320D74A96D307D402FB00E8D103A4476814154330F004ED541D0202CD0607020120131402012008090201200F100201200A0B002D5ED44D0D31FD31FD3FFD3FFF404FA00F404FA00F404D1803F7007434C0C05C6C2497C0F83E900C0871C02497C0F80074C7C87040A497C1383C00D46D3C00608420BABE7114AC2F6C2497C338200A208420BABE7106EE86BCBD20084AE0840EE6B2802FBCBD01E0C235C62008087E4055040DBE4404BCBD34C7E00A60840DCEAA7D04EE84BCBD34C034C7CC0078C3C412040DD78CA00C0D0E00130875D27D2A1BE95B0C60000C1039480AF00500161037410AF0050810575056001010244300F004ED540201201112004548E1E228020F4966FA520933023BB9131E2209835FA00D113A14013926C21E2B3E6308003502323287C5F287C572FFC4F2FFFD00007E80BD00007E80BD00326000431448A814C4E0083D039BE865BE803444E800A44C38B21400FE809004E0083D10C06002012015160015BDE9F780188242F847800C02012017180201481B1C002DB5187E006D88868A82609E00C6207E00C63F04EDE20B30020158191A0017ADCE76A268699F98EB85FFC00017AC78F6A268698F98EB858FC00011B325FB513435C2C7E00017B1D1BE08E0804230FB50F620002801D0D3030178B0925B7FE0FA4031FA403001F001A80EDAA4"),super(t,e),this.options.walletId||(this.options.walletId=Oc+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.getLiquidBalance=this.getLiquidBalance.bind(this),this.methods.getNominalRestrictedBalance=this.getNominalRestrictedBalance.bind(this),this.methods.getNominalLockedBalance=this.getNominalLockedBalance.bind(this)}getName(){return"lockup-0.1"}createSigningMessage(t,e){t=t||0;const n=new Yn;if(n.bits.writeUint(this.options.walletId,32),t===0)for(let o=0;o<32;o++)n.bits.writeBit(1);else{const o=new Date,i=Math.floor(o.getTime()/1e3);n.bits.writeUint(i+60,32)}return n.bits.writeUint(t,32),n}createDataCell(){const t=new Yn;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeBytes(ys(this.options.config.config_public_key)),this.options.config.allowed_destinations?(t.bits.writeUint(1,1),t.refs.push(Yn.oneFromBoc(ys(this.options.config.allowed_destinations)))):t.bits.writeUint(0,1),t.bits.writeGrams(0),t.bits.writeUint(0,1),t.bits.writeGrams(0),t.bits.writeUint(0,1),t}async getWalletId(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}async getLiquidBalance(){const t=await this.getBalances();return t[0]-t[1]-t[2]}async getNominalRestrictedBalance(){return await this.getBalances()[1]}async getNominalLockedBalance(){return await this.getBalances()[2]}async getBalances(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_balances")}}O0.default={LockupWalletV1:Ki,all:{"lockup-0.1":Ki},list:[Ki]};var L0={};const{base64ToBytes:d5,Address:Lc}=Qe,{Cell:Pc}=He,jc=0,qc=1,Hc=0,P0=1,j0=r=>new TextEncoder().encode(encodeURI(r)),q0=r=>new TextDecoder().decode(r),Wc=r=>{const t=new Pc;return t.bits.writeUint(P0,8),t.bits.writeBytes(j0(r)),t},Vc=r=>{let t=0,e=r;for(;e;)t+=e.bits.array.length,e=e.refs[0];const n=new Uint8Array(t);for(t=0,e=r;e;)n.set(e.bits.array,t),t+=e.bits.array.length,e=e.refs[0];return q0(n.slice(1))},gs=(r,t,e)=>{let n=BigInt(0);for(let o=0;o<e;o++)n*=BigInt(2),n+=BigInt(r.get(t+o));return n},Kc=r=>{let t=gs(r.bits,3,8);t>BigInt(127)&&(t=t-BigInt(256));const e=gs(r.bits,3+8,256);if(t.toString(10)+":"+e.toString(16)=="0:0")return null;const n=t.toString(10)+":"+e.toString(16).padStart(64,"0");return new Lc(n)};var on={SNAKE_DATA_PREFIX:jc,CHUNK_DATA_PREFIX:qc,ONCHAIN_CONTENT_PREFIX:Hc,OFFCHAIN_CONTENT_PREFIX:P0,parseAddress:Kc,serializeUri:j0,parseUri:q0,createOffchainUriCell:Wc,parseOffchainUriCell:Vc};const{Contract:Gc}=cr,{Cell:rr}=He,{Address:p5,bytesToBase64:Yc}=Qe,{parseAddress:Gi}=on,{createOffchainUriCell:Xc,serializeUri:ws,parseOffchainUriCell:bs}=on;class zc extends Gc{constructor(t,e){if(e.wc=0,e.code=e.code||rr.oneFromBoc("B5EE9C724102140100021F000114FF00F4A413F4BCF2C80B0102016202030202CD04050201200E0F04E7D10638048ADF000E8698180B8D848ADF07D201800E98FE99FF6A2687D20699FEA6A6A184108349E9CA829405D47141BAF8280E8410854658056B84008646582A802E78B127D010A65B509E58FE59F80E78B64C0207D80701B28B9E382F970C892E000F18112E001718112E001F181181981E0024060708090201200A0B00603502D33F5313BBF2E1925313BA01FA00D43028103459F0068E1201A44343C85005CF1613CB3FCCCCCCC9ED54925F05E200A6357003D4308E378040F4966FA5208E2906A4208100FABE93F2C18FDE81019321A05325BBF2F402FA00D43022544B30F00623BA9302A402DE04926C21E2B3E6303250444313C85005CF1613CB3FCCCCCCC9ED54002C323401FA40304144C85005CF1613CB3FCCCCCCC9ED54003C8E15D4D43010344130C85005CF1613CB3FCCCCCCC9ED54E05F04840FF2F00201200C0D003D45AF0047021F005778018C8CB0558CF165004FA0213CB6B12CCCCC971FB008002D007232CFFE0A33C5B25C083232C044FD003D0032C03260001B3E401D3232C084B281F2FFF2742002012010110025BC82DF6A2687D20699FEA6A6A182DE86A182C40043B8B5D31ED44D0FA40D33FD4D4D43010245F04D0D431D430D071C8CB0701CF16CCC980201201213002FB5DAFDA89A1F481A67FA9A9A860D883A1A61FA61FF480610002DB4F47DA89A1F481A67FA9A9A86028BE09E008E003E00B01A500C6E"),e.royalty>1)throw new Error("royalty > 1");e.royaltyBase=1e3,e.royaltyFactor=Math.floor(e.royalty*e.royaltyBase),super(t,e),this.methods.getCollectionData=this.getCollectionData.bind(this),this.methods.getNftItemAddressByIndex=this.getNftItemAddressByIndex.bind(this),this.methods.getNftItemContent=this.getNftItemContent.bind(this),this.methods.getRoyaltyParams=this.getRoyaltyParams.bind(this)}createContentCell(t){const e=Xc(t.collectionContentUri),n=new rr;n.bits.writeBytes(ws(t.nftItemContentBaseUri));const o=new rr;return o.refs[0]=e,o.refs[1]=n,o}createRoyaltyCell(t){const e=new rr;return e.bits.writeUint(t.royaltyFactor,16),e.bits.writeUint(t.royaltyBase,16),e.bits.writeAddress(t.royaltyAddress),e}createDataCell(){const t=new rr;return t.bits.writeAddress(this.options.ownerAddress),t.bits.writeUint(0,64),t.refs[0]=this.createContentCell(this.options),t.refs[1]=rr.oneFromBoc(this.options.nftItemCodeHex),t.refs[2]=this.createRoyaltyCell(this.options),t}createMintBody(t){const e=new rr;e.bits.writeUint(1,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeUint(t.itemIndex,64),e.bits.writeCoins(t.amount);const n=new rr;n.bits.writeAddress(t.itemOwnerAddress);const o=new rr;return o.bits.writeBytes(ws(t.itemContentUri)),n.refs[0]=o,e.refs[0]=n,e}createGetRoyaltyParamsBody(t){const e=new rr;return e.bits.writeUint(1765620048,32),e.bits.writeUint(t.queryId||0,64),e}createChangeOwnerBody(t){const e=new rr;return e.bits.writeUint(3,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newOwnerAddress),e}createEditContentBody(t){if(t.royalty>1)throw new Error("royalty > 1");t.royaltyBase=1e3,t.royaltyFactor=Math.floor(t.royalty*t.royaltyBase);const e=new rr;return e.bits.writeUint(4,32),e.bits.writeUint(t.queryId||0,64),e.refs[0]=this.createContentCell(t),e.refs[1]=this.createRoyaltyCell(t),e}async getCollectionData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_collection_data"),n=e[0].toNumber(),o=bs(e[1]),i=Gi(e[2]);return{nextItemIndex:n,ownerAddress:i,collectionContentUri:o}}async getNftItemContent(t){const e=await this.getAddress(),n=await t.getData();if(n.isInitialized){const o=await this.provider.call2(e.toString(),"get_nft_content",[["num",n.index],["tvm.Cell",Yc(await n.contentCell.toBoc(!1))]]);n.contentUri=bs(o),delete n.contentCell}return n}async getNftItemAddressByIndex(t){const e=await this.getAddress(),n=await this.provider.call2(e.toString(),"get_nft_address_by_index",[["num",t]]);return Gi(n)}async getRoyaltyParams(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"royalty_params"),n=e[0].toNumber(),o=e[1].toNumber(),i=n/o,f=Gi(e[2]);return{royalty:i,royaltyBase:o,royaltyFactor:n,royaltyAddress:f}}}var Zc={NftCollection:zc};const{Contract:Jc}=cr,{Cell:Xn}=He,{Address:v5,BN:Qc}=Qe,{parseAddress:xs}=on,H0="B5EE9C7241020D010001D0000114FF00F4A413F4BCF2C80B0102016202030202CE04050009A11F9FE00502012006070201200B0C02D70C8871C02497C0F83434C0C05C6C2497C0F83E903E900C7E800C5C75C87E800C7E800C3C00812CE3850C1B088D148CB1C17CB865407E90350C0408FC00F801B4C7F4CFE08417F30F45148C2EA3A1CC840DD78C9004F80C0D0D0D4D60840BF2C9A884AEB8C097C12103FCBC20080900113E910C1C2EBCB8536001F65135C705F2E191FA4021F001FA40D20031FA00820AFAF0801BA121945315A0A1DE22D70B01C300209206A19136E220C2FFF2E192218E3E821005138D91C85009CF16500BCF16712449145446A0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00104794102A375BE20A00727082108B77173505C8CBFF5004CF1610248040708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB000082028E3526F0018210D53276DB103744006D71708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB0093303234E25502F003003B3B513434CFFE900835D27080269FC07E90350C04090408F80C1C165B5B60001D00F232CFD633C58073C5B3327B5520BF75041B";class W0 extends Jc{constructor(t,e){e.wc=0,e.code=e.code||Xn.oneFromBoc(H0),super(t,e),this.methods.getData=this.getData.bind(this)}createDataCell(){const t=new Xn;return t.bits.writeUint(this.options.index,64),t.bits.writeAddress(this.options.collectionAddress),t}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_nft_data"),n=e[0].toNumber()===-1,o=e[1].toNumber(),i=xs(e[2]),f=n?xs(e[3]):null,b=e[4];return{isInitialized:n,index:o,collectionAddress:i,ownerAddress:f,contentCell:b}}async createTransferBody(t){const e=new Xn;return e.bits.writeUint(1607220500,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newOwnerAddress),e.bits.writeAddress(t.responseAddress),e.bits.writeBit(!1),e.bits.writeCoins(t.forwardAmount||new Qc(0)),e.bits.writeBit(!1),t.forwardPayload&&e.bits.writeBytes(t.forwardPayload),e}createGetStaticDataBody(t){const e=new Xn;return e.bits.writeUint(801842850,32),e.bits.writeUint(t.queryId||0,64),e}}W0.codeHex=H0;var th={NftItem:W0};const{Contract:eh}=cr,{Cell:Es}=He;class rh extends eh{constructor(t,e){e.wc=0,e.code=e.code||Es.oneFromBoc("B5EE9C7241010401006D000114FF00F4A413F4BCF2C80B01020120020300AAD23221C700915BE0D0D3030171B0915BE0FA40ED44D0FA403012C705F2E19101D31F01C0018E2BFA003001D4D43021F90070C8CA07CBFFC9D077748018C8CB05CB0258CF165004FA0213CB6BCCCCC971FB00915BE20004F2308EF7CCE7"),super(t,e)}createDataCell(){const t=new Es;return t.bits.writeAddress(this.options.ownerAddress),t}}var nh={NftMarketplace:rh};const{Contract:ih}=cr,{Cell:zn}=He,{parseAddress:Zn}=on,V0="B5EE9C7241020A010001B4000114FF00F4A413F4BCF2C80B01020120020302014804050004F2300202CD0607002FA03859DA89A1F481F481F481F401A861A1F401F481F4006101F7D00E8698180B8D8492F82707D201876A2687D207D207D207D006A18116BA4E10159C71D991B1B2990E382C92F837028916382F970FA01698FC1080289C6C8895D7970FAE99F98FD2018201A642802E78B2801E78B00E78B00FD016664F6AA701363804C9B081B2299823878027003698FE99F9810E000C92F857010C0801F5D41081DCD650029285029185F7970E101E87D007D207D0018384008646582A804E78B28B9D090D0A85AD08A500AFD010AE5B564B8FD80384008646582AC678B2803FD010B65B564B8FD80384008646582A802E78B00FD0109E5B564B8FD80381041082FE61E8A10C00C646582A802E78B117D010A65B509E58F8A40900C8C0029A3110471036454012F004E032363704C0038E4782103B9ACA0015BEF2E1C95312C70559C705B1F2E1CA702082105FCC3D14218010C8CB055006CF1622FA0215CB6A14CB1F14CB3F21CF1601CF16CA0021FA02CA00C98100A0FB00E05F06840FF2F0002ACB3F22CF1658CF16CA0021FA02CA00C98100A0FB00AECABAD1";class K0 extends ih{constructor(t,e){e.wc=0,e.code=e.code||zn.oneFromBoc(V0),super(t,e),this.methods.getData=this.getData.bind(this)}createDataCell(){const t=new zn;t.bits.writeAddress(this.options.marketplaceAddress),t.bits.writeAddress(this.options.nftAddress),t.bits.writeAddress(null),t.bits.writeCoins(this.options.fullPrice);const e=new zn;return e.bits.writeCoins(this.options.marketplaceFee),e.bits.writeAddress(this.options.royaltyAddress),e.bits.writeCoins(this.options.royaltyAmount),t.refs[0]=e,t}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_sale_data"),n=Zn(e[0]),o=Zn(e[1]),i=Zn(e[2]),f=e[3],b=e[4],A=Zn(e[5]),k=e[6];return{marketplaceAddress:n,nftAddress:o,nftOwnerAddress:i,fullPrice:f,marketplaceFee:b,royaltyAddress:A,royaltyAmount:k}}async createCancelBody(t){const e=new zn;return e.bits.writeUint(3,32),e.bits.writeUint(t.queryId||0,64),e}}K0.codeHex=V0;var oh={NftSale:K0};const{NftCollection:sh}=Zc,{NftItem:ah}=th,{NftMarketplace:fh}=nh,{NftSale:uh}=oh;L0.default={NftCollection:sh,NftItem:ah,NftMarketplace:fh,NftSale:uh};var G0={};const{Contract:lh}=cr,{Cell:gn}=He,{createOffchainUriCell:ch,parseOffchainUriCell:hh,parseAddress:dh}=on,{BN:ph}=Qe;class vh extends lh{constructor(t,e){e.wc=0,e.code=e.code||gn.oneFromBoc("B5EE9C72410209010001AA000114FF00F4A413F4BCF2C80B0102016202030202CC040502037A60070801D5D9910E38048ADF068698180B8D848ADF07D201800E98FE99FF6A2687D007D206A6A18400AA9385D47181A9AA8AAE382F9702480FD207D006A18106840306B90FD001812881A28217804502A906428027D012C678B666664F6AA7041083DEECBEF0BDD71812F83C207F9784060093DFC142201B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064907C80383A6465816503E5FFE4E83BC00C646582AC678B28027D0109E5B589666664B8FD80400FC03FA00FA40F82854120870542013541403C85004FA0258CF1601CF16CCC922C8CB0112F400F400CB00C9F9007074C8CB02CA07CBFFC9D05008C705F2E04A12A1035024C85004FA0258CF16CCCCC9ED5401FA403020D70B01C3008E1F8210D53276DB708010C8CB055003CF1622FA0212CB6ACB1FCB3FC98042FB00915BE2007DADBCF6A2687D007D206A6A183618FC1400B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064FC80383A6465816503E5FFE4E840001FAF16F6A2687D007D206A6A183FAA9040F6B06B3C"),super(t,e)}createDataCell(){const t=new gn;return t.bits.writeCoins(0),t.bits.writeAddress(this.options.adminAddress),t.refs[0]=ch(this.options.jettonContentUri),t.refs[1]=gn.oneFromBoc(this.options.jettonWalletCodeHex),t}createMintBody(t){const e=new gn;e.bits.writeUint(21,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.destination),e.bits.writeCoins(t.amount);const n=new gn;return n.bits.writeUint(395134233,32),n.bits.writeUint(t.queryId||0,64),n.bits.writeCoins(t.jettonAmount),n.bits.writeAddress(null),n.bits.writeAddress(null),n.bits.writeCoins(new ph(0)),n.bits.writeBit(!1),e.refs[0]=n,e}async getJettonData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_jetton_data"),n=e[0],o=e[1].toNumber()===-1,i=dh(e[2]),f=hh(e[3]),b=e[4];return{totalSupply:n,isMutable:o,adminAddress:i,jettonContentUri:f,tokenWalletCode:b}}}var mh={JettonMinter:vh};const{Contract:yh}=cr,{Cell:Yi}=He,{parseAddress:_s}=on,{BN:gh}=Qe,Y0="B5EE9C7241021101000319000114FF00F4A413F4BCF2C80B0102016202030202CC0405001BA0F605DA89A1F401F481F481A8610201D40607020148080900BB0831C02497C138007434C0C05C6C2544D7C0FC02F83E903E900C7E800C5C75C87E800C7E800C00B4C7E08403E29FA954882EA54C4D167C0238208405E3514654882EA58C4CD00CFC02780D60841657C1EF2EA4D67C02B817C12103FCBC2000113E910C1C2EBCB853600201200A0B0201200F1001F500F4CFFE803E90087C007B51343E803E903E90350C144DA8548AB1C17CB8B04A30BFFCB8B0950D109C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C032483E401C1D3232C0B281F2FFF274013E903D010C7E801DE0063232C1540233C59C3E8085F2DAC4F3208405E351467232C7C6600C02F13B51343E803E903E90350C01F4CFFE80145468017E903E9014D6B1C1551CDB1C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C0327E401C1D3232C0B281F2FFF274140331C146EC7CB8B0C27E8020822625A020822625A02806A8486544124E17C138C34975C2C070C00930802C200D0E008ECB3F5007FA0222CF165006CF1625FA025003CF16C95005CC07AA0013A08208989680AA008208989680A0A014BCF2E2C504C98040FB001023C85004FA0258CF1601CF16CCC9ED54006C5219A018A182107362D09CC8CB1F5240CB3F5003FA0201CF165007CF16C9718018C8CB0525CF165007FA0216CB6A15CCC971FB00103400828E2A820898968072FB028210D53276DB708010C8CB055008CF165005FA0216CB6A13CB1F13CB3FC972FB0058926C33E25502C85004FA0258CF1601CF16CCC9ED5400DB3B51343E803E903E90350C01F4CFFE803E900C145468549271C17CB8B049F0BFFCB8B0A0822625A02A8005A805AF3CB8B0E0841EF765F7B232C7C572CFD400FE8088B3C58073C5B25C60043232C14933C59C3E80B2DAB33260103EC01004F214013E809633C58073C5B3327B55200083200835C87B51343E803E903E90350C0134C7E08405E3514654882EA0841EF765F784EE84AC7CB8B174CFCC7E800C04E81408F214013E809633C58073C5B3327B55204F664B79";class X0 extends yh{constructor(t,e){e.wc=0,e.code=e.code||Yi.oneFromBoc(Y0),super(t,e)}async createTransferBody(t){const e=new Yi;return e.bits.writeUint(260734629,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeCoins(t.jettonAmount),e.bits.writeAddress(t.toAddress),e.bits.writeAddress(t.responseAddress),e.bits.writeBit(!1),e.bits.writeCoins(t.forwardAmount||new gh(0)),e.bits.writeBit(!1),t.forwardPayload&&e.bits.writeBytes(t.forwardPayload),e}async createBurnBody(t){const e=new Yi;return e.bits.writeUint(1499400124,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeCoins(t.jettonAmount),e.bits.writeAddress(t.responseAddress),e}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_wallet_data"),n=e[0],o=_s(e[1]),i=_s(e[2]),f=e[3];return{balance:n,ownerAddress:o,jettonMinterAddress:i,jettonWalletCode:f}}}X0.codeHex=Y0;var wh={JettonWallet:X0};const{JettonMinter:bh}=mh,{JettonWallet:xh}=wh;G0.default={JettonMinter:bh,JettonWallet:xh};const Eh=10*1e3,_h=1*1e3,As=r=>({workchain:r.workchain,shardId:r.shard,shardBlockNumber:r.seqno});class Ah{constructor(t,e,n,o){this.provider=t,this.storage=e,this.onBlock=n,this.startMcBlockNumber=o?o.startMcBlockNumber:void 0,this.mcInterval=(o?o.mcInterval:void 0)||Eh,this.shardsInterval=(o?o.shardsInterval:void 0)||_h}async start(){if(this.stop(),!this.startMcBlockNumber&&(this.startMcBlockNumber=(await this.provider.getMasterchainInfo()).last.seqno,!this.startMcBlockNumber))throw new Error("Cannot get start mc block number from provider");const t=await this.provider.getMasterchainBlockHeader(this.startMcBlockNumber);if(this.startLT=t.end_lt,!this.startLT)throw new Error("Cannot get startLT from provider");let e=!1;const n=async()=>{if(!e){e=!0;try{const f=await this.storage.getLastMasterchainBlockNumber()||this.startMcBlockNumber;if(!f)throw new Error("no init masterchain block in storage");const b=(await this.provider.getMasterchainInfo()).last.seqno;if(!b)throw new Error("invalid last masterchain block from provider");for(let A=f+1;A<b;A++){const k=await this.provider.getBlockShards(A),N=await this.provider.getMasterchainBlockHeader(A);await this.onBlock(N,k),await this.storage.insertBlocks(A,k.shards.map(As))}}catch(f){console.error(f)}e=!1}};this.mcIntervalId=setInterval(()=>n(),this.mcInterval),n();let o=!1;const i=async()=>{if(!o){o=!0;try{const f=await this.storage.getUnprocessedShardBlock();if(f){const{workchain:b,shardId:A,shardBlockNumber:k}=f,N=await this.provider.getBlockHeader(b,A,k);if(N.end_lt<this.startLT)await this.storage.setBlockProcessed(b,A,k,[]);else{await this.onBlock(N);const V=N.prev_blocks.map(As);await this.storage.setBlockProcessed(b,A,k,V)}}}catch(f){console.log(f)}o=!1}};this.shardsIntervalId=setInterval(()=>i(),this.shardsInterval)}stop(){clearInterval(this.mcIntervalId),clearInterval(this.shardsIntervalId)}}var Ch={BlockSubscription:Ah};class Bh{constructor(t){this.masterchainBlocks={},this.shardchainBlocks={},this.logFunction=t}async insertShardBlocks(t){for(const{workchain:e,shardId:n,shardBlockNumber:o}of t)this.shardchainBlocks[e+"_"+n+"_"+o]===void 0&&(this.logFunction&&this.logFunction("insert shard "+e+" "+n+" "+o),this.shardchainBlocks[e+"_"+n+"_"+o]=!1)}async insertBlocks(t,e){if(this.logFunction&&this.logFunction("mc processed "+t),this.masterchainBlocks[t]!==void 0)throw new Error("mc already exists "+t);this.masterchainBlocks[t]=!0,await this.insertShardBlocks(e)}async getLastMasterchainBlockNumber(){return Object.keys(this.masterchainBlocks).map(e=>Number(e)).sort((e,n)=>n-e)[0]}async setBlockProcessed(t,e,n,o){if(this.logFunction&&this.logFunction("shard processed "+t+" "+e+" "+n),this.shardchainBlocks[t+"_"+e+"_"+n]===void 0)throw new Error("shard not exists "+t+"_"+e+"_"+n);this.shardchainBlocks[t+"_"+e+"_"+n]=!0,await this.insertShardBlocks(o)}async getUnprocessedShardBlock(){for(let t in this.shardchainBlocks)if(this.shardchainBlocks[t]===!1){const e=t.split("_");return{workchain:Number(e[0]),shardId:e[1],shardBlockNumber:Number(e[2])}}}}var Mh={InMemoryBlockStorage:Bh};const{BlockSubscription:Fh}=Ch,{InMemoryBlockStorage:Sh}=Mh;var Dh={BlockSubscription:Fh,InMemoryBlockStorage:Sh};const{Contract:Jn}=cr,{Cell:wn}=He,{hexToBytes:m5,BN:Cs,nacl:y5,bytesToBase64:g5}=Qe;class Ih extends Jn{constructor(t,e){e.code=wn.oneFromBoc("B5EE9C7241020F01000262000114FF00F4A413F4BCF2C80B0102012002030201480405036AF230DB3C5335A127A904F82327A128A90401BC5135A0F823B913B0F29EF800725210BE945387F0078E855386DB3CA4E2F82302DB3C0B0C0D0202CD06070121A0D0C9B67813F488DE0411F488DE0410130B048FD6D9E05E8698198FD201829846382C74E2F841999E98F9841083239BA395D497803F018B841083AB735BBED9E702984E382D9C74688462F863841083AB735BBED9E70156BA4E09040B0A0A080269F10FD22184093886D9E7C12C1083239BA39384008646582A803678B2801FD010A65B5658F89659FE4B9FD803FC1083239BA396D9E40E0A04F08E8D108C5F0C708210756E6B77DB3CE00AD31F308210706C7567831EB15210BA8F48305324A126A904F82326A127A904BEF27109FA4430A619F833D078D721D70B3F5260A11BBE8E923036F82370708210737562732759DB3C5077DE106910581047103645135042DB3CE0395F076C2232821064737472BA0A0A0D09011A8E897F821064737472DB3CE0300A006821B39982100400000072FB02DE70F8276F118010C8CB055005CF1621FA0214F40013CB6912CB1F830602948100A032DEC901FB000030ED44D0FA40FA40FA00D31FD31FD31FD31FD31FD307D31F30018021FA443020813A98DB3C01A619F833D078D721D70B3FA070F8258210706C7567228018C8CB055007CF165004FA0215CB6A12CB1F13CB3F01FA02CB00C973FB000E0040C8500ACF165008CF165006FA0214CB1F12CB1FCB1FCB1FCB1FCB07CB1FC9ED54005801A615F833D020D70B078100D1BA95810088D721DED307218100DDBA028100DEBA12B1F2E047D33F30A8AB0FE5855AB4"),super(t,e),this.methods.pay=()=>Jn.createMethod(t,this.createPayExternalMessage()),this.methods.getSubscriptionData=this.getSubscriptionData.bind(this)}createDataCell(){const t=new wn;return t.bits.writeAddress(this.options.wallet),t.bits.writeAddress(this.options.beneficiary),t.bits.writeGrams(this.options.amount),t.bits.writeUint(this.options.period,32),t.bits.writeUint(this.options.startAt,32),t.bits.writeUint(this.options.timeout,32),t.bits.writeUint(0,32),t.bits.writeUint(0,32),t.bits.writeUint(0,8),t.bits.writeUint(this.options.subscriptionId,32),t}createBody(){const t=new wn;return t.bits.writeUint(new Cs(1886156135).add(new Cs(2147483648)),32),t}createSelfDestructBody(){const t=new wn;return t.bits.writeUint(1685288050,32),t}async getSubscriptionData(){const t=xt=>xt[0].toNumber()+":"+xt[1].toString(16),e=await this.getAddress(),n=await this.provider.call2(e.toString(),"get_subscription_data"),o=t(n[0]),i=t(n[1]),f=n[2],b=n[3].toNumber(),A=n[4].toNumber(),k=n[5].toNumber(),N=n[6].toNumber(),V=n[7].toNumber(),K=n[8].toNumber(),Z=n[9].toNumber();return{wallet:o,beneficiary:i,amount:f,period:b,startAt:A,timeout:k,lastPayment:N,lastRequest:V,failedAttempts:K,subscriptionId:Z}}async createPayExternalMessage(){const t=await this.getAddress(),e=Jn.createExternalMessageHeader(t),n=Jn.createCommonMsgInfo(e,null,null),o=new wn;return o.bits.writeUint(Math.floor(Date.now()/1e3),64),{address:t,message:n,body:o}}}var Th={SubscriptionContract:Ih},ko={exports:{}},zr=typeof Reflect=="object"?Reflect:null,Bs=zr&&typeof zr.apply=="function"?zr.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},oi;zr&&typeof zr.ownKeys=="function"?oi=zr.ownKeys:Object.getOwnPropertySymbols?oi=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:oi=function(t){return Object.getOwnPropertyNames(t)};function Nh(r){console&&console.warn&&console.warn(r)}var z0=Number.isNaN||function(t){return t!==t};function Te(){Te.init.call(this)}ko.exports=Te;ko.exports.once=kh;Te.EventEmitter=Te;Te.prototype._events=void 0;Te.prototype._eventsCount=0;Te.prototype._maxListeners=void 0;var Ms=10;function Bi(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Te,"defaultMaxListeners",{enumerable:!0,get:function(){return Ms},set:function(r){if(typeof r!="number"||r<0||z0(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Ms=r}});Te.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Te.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||z0(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Z0(r){return r._maxListeners===void 0?Te.defaultMaxListeners:r._maxListeners}Te.prototype.getMaxListeners=function(){return Z0(this)};Te.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o=t==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var f;if(e.length>0&&(f=e[0]),f instanceof Error)throw f;var b=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw b.context=f,b}var A=i[t];if(A===void 0)return!1;if(typeof A=="function")Bs(A,this,e);else for(var k=A.length,N=rf(A,k),n=0;n<k;++n)Bs(N[n],this,e);return!0};function J0(r,t,e,n){var o,i,f;if(Bi(e),i=r._events,i===void 0?(i=r._events=Object.create(null),r._eventsCount=0):(i.newListener!==void 0&&(r.emit("newListener",t,e.listener?e.listener:e),i=r._events),f=i[t]),f===void 0)f=i[t]=e,++r._eventsCount;else if(typeof f=="function"?f=i[t]=n?[e,f]:[f,e]:n?f.unshift(e):f.push(e),o=Z0(r),o>0&&f.length>o&&!f.warned){f.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=r,b.type=t,b.count=f.length,Nh(b)}return r}Te.prototype.addListener=function(t,e){return J0(this,t,e,!1)};Te.prototype.on=Te.prototype.addListener;Te.prototype.prependListener=function(t,e){return J0(this,t,e,!0)};function Rh(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Q0(r,t,e){var n={fired:!1,wrapFn:void 0,target:r,type:t,listener:e},o=Rh.bind(n);return o.listener=e,n.wrapFn=o,o}Te.prototype.once=function(t,e){return Bi(e),this.on(t,Q0(this,t,e)),this};Te.prototype.prependOnceListener=function(t,e){return Bi(e),this.prependListener(t,Q0(this,t,e)),this};Te.prototype.removeListener=function(t,e){var n,o,i,f,b;if(Bi(e),o=this._events,o===void 0)return this;if(n=o[t],n===void 0)return this;if(n===e||n.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,f=n.length-1;f>=0;f--)if(n[f]===e||n[f].listener===e){b=n[f].listener,i=f;break}if(i<0)return this;i===0?n.shift():Uh(n,i),n.length===1&&(o[t]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",t,b||e)}return this};Te.prototype.off=Te.prototype.removeListener;Te.prototype.removeAllListeners=function(t){var e,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),f;for(o=0;o<i.length;++o)f=i[o],f!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(o=e.length-1;o>=0;o--)this.removeListener(t,e[o]);return this};function tf(r,t,e){var n=r._events;if(n===void 0)return[];var o=n[t];return o===void 0?[]:typeof o=="function"?e?[o.listener||o]:[o]:e?$h(o):rf(o,o.length)}Te.prototype.listeners=function(t){return tf(this,t,!0)};Te.prototype.rawListeners=function(t){return tf(this,t,!1)};Te.listenerCount=function(r,t){return typeof r.listenerCount=="function"?r.listenerCount(t):ef.call(r,t)};Te.prototype.listenerCount=ef;function ef(r){var t=this._events;if(t!==void 0){var e=t[r];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}Te.prototype.eventNames=function(){return this._eventsCount>0?oi(this._events):[]};function rf(r,t){for(var e=new Array(t),n=0;n<t;++n)e[n]=r[n];return e}function Uh(r,t){for(;t+1<r.length;t++)r[t]=r[t+1];r.pop()}function $h(r){for(var t=new Array(r.length),e=0;e<t.length;++e)t[e]=r[e].listener||r[e];return t}function kh(r,t){return new Promise(function(e,n){function o(f){r.removeListener(t,i),n(f)}function i(){typeof r.removeListener=="function"&&r.removeListener("error",o),e([].slice.call(arguments))}nf(r,t,i,{once:!0}),t!=="error"&&Oh(r,o,{once:!0})})}function Oh(r,t,e){typeof r.on=="function"&&nf(r,"error",t,e)}function nf(r,t,e,n){if(typeof r.on=="function")n.once?r.once(t,e):r.on(t,e);else if(typeof r.addEventListener=="function")r.addEventListener(t,function o(i){n.once&&r.removeEventListener(t,o),e(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var Lh=ko.exports,of={},sf={},Oo=function(r,t){sf[r]=t},Bt=function(r){var t=function(n,o){Object.assign(this,o),this.name=r,this.message=n||r,this.stack=new Error().stack};return t.prototype=new Error,of[r]=t,t},af=function(r){if(typeof r=="object"&&r){try{var t=JSON.parse(r.message);t.message&&t.name&&(r=t)}catch{}var e=void 0;if(typeof r.name=="string"){var n=r.name,o=sf[n];if(o)e=o(r);else{var i=n==="Error"?Error:of[n];i||(console.warn("deserializing an unknown class '"+n+"'"),i=Bt(n)),e=Object.create(i.prototype);try{for(var f in r)r.hasOwnProperty(f)&&(e[f]=r[f])}catch{}}}else e=new Error(r.message);return!e.stack&&Error.captureStackTrace&&Error.captureStackTrace(e,af),e}return new Error(String(r))},Ph=function(r){return r&&(typeof r=="object"?ff(r,[]):typeof r=="function"?"[Function: "+(r.name||"anonymous")+"]":r)};function ff(r,t){var e={};t.push(r);for(var n=0,o=Object.keys(r);n<o.length;n++){var i=o[n],f=r[i];if(typeof f!="function"){if(!f||typeof f!="object"){e[i]=f;continue}if(t.indexOf(r[i])===-1){e[i]=ff(r[i],t.slice(0));continue}e[i]="[Circular]"}}return typeof r.name=="string"&&(e.name=r.name),typeof r.message=="string"&&(e.message=r.message),typeof r.stack=="string"&&(e.stack=r.stack),e}var jh=Bt("AccountNameRequired"),qh=Bt("AccountNotSupported"),Hh=Bt("AmountRequired"),Wh=Bt("BluetoothRequired"),Vh=Bt("BtcUnmatchedApp"),Kh=Bt("CantOpenDevice"),Gh=Bt("CashAddrNotSupported"),Yh=Bt("CurrencyNotSupported"),Xh=Bt("DeviceAppVerifyNotSupported"),zh=Bt("DeviceGenuineSocketEarlyClose"),Zh=Bt("DeviceNotGenuine"),Jh=Bt("DeviceOnDashboardExpected"),Qh=Bt("DeviceOnDashboardUnexpected"),td=Bt("DeviceInOSUExpected"),ed=Bt("DeviceHalted"),rd=Bt("DeviceNameInvalid"),nd=Bt("DeviceSocketFail"),id=Bt("DeviceSocketNoBulkStatus"),Mi=Bt("DisconnectedDevice"),Lo=Bt("DisconnectedDeviceDuringOperation"),od=Bt("EnpointConfig"),sd=Bt("EthAppPleaseEnableContractData"),ad=Bt("FeeEstimationFailed"),fd=Bt("FirmwareNotRecognized"),ud=Bt("HardResetFail"),ld=Bt("InvalidXRPTag"),cd=Bt("InvalidAddress"),hd=Bt("InvalidAddressBecauseDestinationIsAlsoSource"),dd=Bt("LatestMCUInstalledError"),pd=Bt("UnknownMCU"),vd=Bt("LedgerAPIError"),md=Bt("LedgerAPIErrorWithMessage"),yd=Bt("LedgerAPINotAvailable"),gd=Bt("ManagerAppAlreadyInstalled"),wd=Bt("ManagerAppRelyOnBTC"),bd=Bt("ManagerAppDepInstallRequired"),xd=Bt("ManagerAppDepUninstallRequired"),Ed=Bt("ManagerDeviceLocked"),_d=Bt("ManagerFirmwareNotEnoughSpace"),Ad=Bt("ManagerNotEnoughSpace"),Cd=Bt("ManagerUninstallBTCDep"),Bd=Bt("NetworkDown"),Md=Bt("NoAddressesFound"),Fd=Bt("NotEnoughBalance"),Sd=Bt("NotEnoughBalanceToDelegate"),Dd=Bt("NotEnoughBalanceInParentAccount"),Id=Bt("NotEnoughSpendableBalance"),Td=Bt("NotEnoughBalanceBecauseDestinationNotCreated"),Nd=Bt("NoAccessToCamera"),Rd=Bt("NotEnoughGas"),Ud=Bt("NotSupportedLegacyAddress"),$d=Bt("GasLessThanEstimate"),kd=Bt("PasswordsDontMatch"),Od=Bt("PasswordIncorrect"),Ld=Bt("RecommendSubAccountsToEmpty"),Pd=Bt("RecommendUndelegation"),jd=Bt("TimeoutTagged"),qd=Bt("UnexpectedBootloader"),Hd=Bt("MCUNotGenuineToDashboard"),Wd=Bt("RecipientRequired"),Vd=Bt("UnavailableTezosOriginatedAccountReceive"),Kd=Bt("UnavailableTezosOriginatedAccountSend"),Gd=Bt("UpdateFetchFileFail"),Yd=Bt("UpdateIncorrectHash"),Xd=Bt("UpdateIncorrectSig"),zd=Bt("UpdateYourApp"),Zd=Bt("UserRefusedDeviceNameChange"),Jd=Bt("UserRefusedAddress"),Qd=Bt("UserRefusedFirmwareUpdate"),t1=Bt("UserRefusedAllowManager"),e1=Bt("UserRefusedOnDevice"),Un=Bt("TransportOpenUserCancelled"),fo=Bt("TransportInterfaceNotAvailable"),uf=Bt("TransportRaceCondition"),lf=Bt("TransportWebUSBGestureRequired"),r1=Bt("DeviceShouldStayInApp"),n1=Bt("WebsocketConnectionError"),i1=Bt("WebsocketConnectionFailed"),o1=Bt("WrongDeviceForAccount"),s1=Bt("WrongAppForCurrency"),a1=Bt("ETHAddressNonEIP"),f1=Bt("CantScanQRCode"),u1=Bt("FeeNotLoaded"),l1=Bt("FeeRequired"),c1=Bt("FeeTooHigh"),h1=Bt("SyncError"),d1=Bt("PairingFailed"),p1=Bt("GenuineCheckFailed"),v1=Bt("LedgerAPI4xx"),m1=Bt("LedgerAPI5xx"),y1=Bt("FirmwareOrAppUpdateRequired"),g1=Bt("NoDBPathGiven"),w1=Bt("DBWrongPassword"),b1=Bt("DBNotReset");function Ir(r,t){this.name="TransportError",this.message=r,this.stack=new Error().stack,this.id=t}Ir.prototype=new Error;Oo("TransportError",function(r){return new Ir(r.message,r.id)});var yi={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function cf(r){switch(r){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=r&&r<=28671)return"Internal error, please report"}function Fi(r){this.name="TransportStatusError";var t=Object.keys(yi).find(function(o){return yi[o]===r})||"UNKNOWN_ERROR",e=cf(r)||t,n=r.toString(16);this.message="Ledger device: "+e+" (0x"+n+")",this.stack=new Error().stack,this.statusCode=r,this.statusText=t}Fi.prototype=new Error;Oo("TransportStatusError",function(r){return new Fi(r.statusCode)});var x1=Object.freeze(Object.defineProperty({__proto__:null,AccountNameRequiredError:jh,AccountNotSupported:qh,AmountRequired:Hh,BluetoothRequired:Wh,BtcUnmatchedApp:Vh,CantOpenDevice:Kh,CantScanQRCode:f1,CashAddrNotSupported:Gh,CurrencyNotSupported:Yh,DBNotReset:b1,DBWrongPassword:w1,DeviceAppVerifyNotSupported:Xh,DeviceGenuineSocketEarlyClose:zh,DeviceHalted:ed,DeviceInOSUExpected:td,DeviceNameInvalid:rd,DeviceNotGenuineError:Zh,DeviceOnDashboardExpected:Jh,DeviceOnDashboardUnexpected:Qh,DeviceShouldStayInApp:r1,DeviceSocketFail:nd,DeviceSocketNoBulkStatus:id,DisconnectedDevice:Mi,DisconnectedDeviceDuringOperation:Lo,ETHAddressNonEIP:a1,EnpointConfigError:od,EthAppPleaseEnableContractData:sd,FeeEstimationFailed:ad,FeeNotLoaded:u1,FeeRequired:l1,FeeTooHigh:c1,FirmwareNotRecognized:fd,FirmwareOrAppUpdateRequired:y1,GasLessThanEstimate:$d,GenuineCheckFailed:p1,HardResetFail:ud,InvalidAddress:cd,InvalidAddressBecauseDestinationIsAlsoSource:hd,InvalidXRPTag:ld,LatestMCUInstalledError:dd,LedgerAPI4xx:v1,LedgerAPI5xx:m1,LedgerAPIError:vd,LedgerAPIErrorWithMessage:md,LedgerAPINotAvailable:yd,MCUNotGenuineToDashboard:Hd,ManagerAppAlreadyInstalledError:gd,ManagerAppDepInstallRequired:bd,ManagerAppDepUninstallRequired:xd,ManagerAppRelyOnBTCError:wd,ManagerDeviceLockedError:Ed,ManagerFirmwareNotEnoughSpaceError:_d,ManagerNotEnoughSpaceError:Ad,ManagerUninstallBTCDep:Cd,NetworkDown:Bd,NoAccessToCamera:Nd,NoAddressesFound:Md,NoDBPathGiven:g1,NotEnoughBalance:Fd,NotEnoughBalanceBecauseDestinationNotCreated:Td,NotEnoughBalanceInParentAccount:Dd,NotEnoughBalanceToDelegate:Sd,NotEnoughGas:Rd,NotEnoughSpendableBalance:Id,NotSupportedLegacyAddress:Ud,PairingFailed:d1,PasswordIncorrectError:Od,PasswordsDontMatchError:kd,RecipientRequired:Wd,RecommendSubAccountsToEmpty:Ld,RecommendUndelegation:Pd,StatusCodes:yi,SyncError:h1,TimeoutTagged:jd,TransportError:Ir,TransportInterfaceNotAvailable:fo,TransportOpenUserCancelled:Un,TransportRaceCondition:uf,TransportStatusError:Fi,TransportWebUSBGestureRequired:lf,UnavailableTezosOriginatedAccountReceive:Vd,UnavailableTezosOriginatedAccountSend:Kd,UnexpectedBootloader:qd,UnknownMCU:pd,UpdateFetchFileFail:Gd,UpdateIncorrectHash:Yd,UpdateIncorrectSig:Xd,UpdateYourApp:zd,UserRefusedAddress:Jd,UserRefusedAllowManager:t1,UserRefusedDeviceNameChange:Zd,UserRefusedFirmwareUpdate:Qd,UserRefusedOnDevice:e1,WebsocketConnectionError:n1,WebsocketConnectionFailed:i1,WrongAppForCurrency:s1,WrongDeviceForAccount:o1,addCustomErrorDeserializer:Oo,createCustomErrorClass:Bt,deserializeError:af,getAltStatusMessage:cf,serializeError:Ph},Symbol.toStringTag,{value:"Module"}));class Mr{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new Lh,this.send=async(t,e,n,o,i=Buffer.alloc(0),f=[yi.OK])=>{if(i.length>=256)throw new Ir("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");const b=await this.exchange(Buffer.concat([Buffer.from([t,e,n,o]),Buffer.from([i.length]),i])),A=b.readUInt16BE(b.length-2);if(!f.some(k=>k===A))throw new Fi(A);return b},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async t=>{if(this.exchangeBusyPromise)throw new uf("An action was already pending on the Ledger device. Please deny or reconnect.");let e;const n=new Promise(f=>{e=f});this.exchangeBusyPromise=n;let o=!1;const i=setTimeout(()=>{o=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{const f=await t();return o&&this.emit("responsive"),f}finally{clearTimeout(i),e&&e(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(t){throw new Error("exchange not implemented")}setScrambleKey(t){}close(){return Promise.resolve()}on(t,e){this._events.on(t,e)}off(t,e){this._events.removeListener(t,e)}emit(t,...e){this._events.emit(t,...e)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(t){this.exchangeTimeout=t}setExchangeUnresponsiveTimeout(t){this.unresponsiveTimeout=t}static create(t=3e3,e){return new Promise((n,o)=>{let i=!1;const f=this.listen({next:A=>{i=!0,f&&f.unsubscribe(),b&&clearTimeout(b),this.open(A.descriptor,t).then(n,o)},error:A=>{b&&clearTimeout(b),o(A)},complete:()=>{b&&clearTimeout(b),i||o(new Ir(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),b=e?setTimeout(()=>{f.unsubscribe(),o(new Ir(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},e):null})}decorateAppAPIMethods(t,e,n){for(let o of e)t[o]=this.decorateAppAPIMethod(o,t[o],t,n)}decorateAppAPIMethod(t,e,n,o){return async(...i)=>{const{_appAPIlock:f}=this;if(f)return Promise.reject(new Ir("Ledger Device is busy (lock "+f+")","TransportLocked"));try{return this._appAPIlock=t,this.setScrambleKey(o),await e.apply(n,i)}finally{this._appAPIlock=null}}}}Mr.isSupported=void 0;Mr.list=void 0;Mr.listen=void 0;Mr.open=void 0;Mr.ErrorMessage_ListenTimeout="No Ledger device found (timeout)";Mr.ErrorMessage_NoDeviceFound="No Ledger device found";var Po={},hf=Br(x1);Object.defineProperty(Po,"__esModule",{value:!0});var jo=Po.default=void 0,Xi=hf;const Fs=5;function E1(r){const t=Buffer.alloc(2);return t.writeUInt16BE(r,0),t}const _1={data:Buffer.alloc(0),dataLength:0,sequence:0},A1=(r,t)=>({makeBlocks(e){let n=Buffer.concat([E1(e.length),e]);const o=t-5,i=Math.ceil(n.length/o);n=Buffer.concat([n,Buffer.alloc(i*o-n.length+1).fill(0)]);const f=[];for(let b=0;b<i;b++){const A=Buffer.alloc(5);A.writeUInt16BE(r,0),A.writeUInt8(Fs,2),A.writeUInt16BE(b,3);const k=n.slice(b*o,(b+1)*o);f.push(Buffer.concat([A,k]))}return f},reduceResponse(e,n){let{data:o,dataLength:i,sequence:f}=e||_1;if(n.readUInt16BE(0)!==r)throw new Xi.TransportError("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==Fs)throw new Xi.TransportError("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==f)throw new Xi.TransportError("Invalid sequence","InvalidSequence");e||(i=n.readUInt16BE(5)),f++;const b=n.slice(e?5:7);return o=Buffer.concat([o,b]),o.length>i&&(o=o.slice(0,i)),{data:o,dataLength:i,sequence:f}},getReducedResult(e){if(e&&e.dataLength===e.data.length)return e.data}});var C1=A1;jo=Po.default=C1;var Rr={exports:{}};const B1="2.0.0",M1=256,F1=Number.MAX_SAFE_INTEGER||9007199254740991,S1=16;var Si={SEMVER_SPEC_VERSION:B1,MAX_LENGTH:M1,MAX_SAFE_INTEGER:F1,MAX_SAFE_COMPONENT_LENGTH:S1};const D1=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};var Di=D1;(function(r,t){const{MAX_SAFE_COMPONENT_LENGTH:e}=Si,n=Di;t=r.exports={};const o=t.re=[],i=t.src=[],f=t.t={};let b=0;const A=(k,N,V)=>{const K=b++;n(K,N),f[k]=K,i[K]=N,o[K]=new RegExp(N,V?"g":void 0)};A("NUMERICIDENTIFIER","0|[1-9]\\d*"),A("NUMERICIDENTIFIERLOOSE","[0-9]+"),A("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),A("MAINVERSION",`(${i[f.NUMERICIDENTIFIER]})\\.(${i[f.NUMERICIDENTIFIER]})\\.(${i[f.NUMERICIDENTIFIER]})`),A("MAINVERSIONLOOSE",`(${i[f.NUMERICIDENTIFIERLOOSE]})\\.(${i[f.NUMERICIDENTIFIERLOOSE]})\\.(${i[f.NUMERICIDENTIFIERLOOSE]})`),A("PRERELEASEIDENTIFIER",`(?:${i[f.NUMERICIDENTIFIER]}|${i[f.NONNUMERICIDENTIFIER]})`),A("PRERELEASEIDENTIFIERLOOSE",`(?:${i[f.NUMERICIDENTIFIERLOOSE]}|${i[f.NONNUMERICIDENTIFIER]})`),A("PRERELEASE",`(?:-(${i[f.PRERELEASEIDENTIFIER]}(?:\\.${i[f.PRERELEASEIDENTIFIER]})*))`),A("PRERELEASELOOSE",`(?:-?(${i[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[f.PRERELEASEIDENTIFIERLOOSE]})*))`),A("BUILDIDENTIFIER","[0-9A-Za-z-]+"),A("BUILD",`(?:\\+(${i[f.BUILDIDENTIFIER]}(?:\\.${i[f.BUILDIDENTIFIER]})*))`),A("FULLPLAIN",`v?${i[f.MAINVERSION]}${i[f.PRERELEASE]}?${i[f.BUILD]}?`),A("FULL",`^${i[f.FULLPLAIN]}$`),A("LOOSEPLAIN",`[v=\\s]*${i[f.MAINVERSIONLOOSE]}${i[f.PRERELEASELOOSE]}?${i[f.BUILD]}?`),A("LOOSE",`^${i[f.LOOSEPLAIN]}$`),A("GTLT","((?:<|>)?=?)"),A("XRANGEIDENTIFIERLOOSE",`${i[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),A("XRANGEIDENTIFIER",`${i[f.NUMERICIDENTIFIER]}|x|X|\\*`),A("XRANGEPLAIN",`[v=\\s]*(${i[f.XRANGEIDENTIFIER]})(?:\\.(${i[f.XRANGEIDENTIFIER]})(?:\\.(${i[f.XRANGEIDENTIFIER]})(?:${i[f.PRERELEASE]})?${i[f.BUILD]}?)?)?`),A("XRANGEPLAINLOOSE",`[v=\\s]*(${i[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[f.XRANGEIDENTIFIERLOOSE]})(?:${i[f.PRERELEASELOOSE]})?${i[f.BUILD]}?)?)?`),A("XRANGE",`^${i[f.GTLT]}\\s*${i[f.XRANGEPLAIN]}$`),A("XRANGELOOSE",`^${i[f.GTLT]}\\s*${i[f.XRANGEPLAINLOOSE]}$`),A("COERCE",`(^|[^\\d])(\\d{1,${e}})(?:\\.(\\d{1,${e}}))?(?:\\.(\\d{1,${e}}))?(?:$|[^\\d])`),A("COERCERTL",i[f.COERCE],!0),A("LONETILDE","(?:~>?)"),A("TILDETRIM",`(\\s*)${i[f.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",A("TILDE",`^${i[f.LONETILDE]}${i[f.XRANGEPLAIN]}$`),A("TILDELOOSE",`^${i[f.LONETILDE]}${i[f.XRANGEPLAINLOOSE]}$`),A("LONECARET","(?:\\^)"),A("CARETTRIM",`(\\s*)${i[f.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",A("CARET",`^${i[f.LONECARET]}${i[f.XRANGEPLAIN]}$`),A("CARETLOOSE",`^${i[f.LONECARET]}${i[f.XRANGEPLAINLOOSE]}$`),A("COMPARATORLOOSE",`^${i[f.GTLT]}\\s*(${i[f.LOOSEPLAIN]})$|^$`),A("COMPARATOR",`^${i[f.GTLT]}\\s*(${i[f.FULLPLAIN]})$|^$`),A("COMPARATORTRIM",`(\\s*)${i[f.GTLT]}\\s*(${i[f.LOOSEPLAIN]}|${i[f.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",A("HYPHENRANGE",`^\\s*(${i[f.XRANGEPLAIN]})\\s+-\\s+(${i[f.XRANGEPLAIN]})\\s*$`),A("HYPHENRANGELOOSE",`^\\s*(${i[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[f.XRANGEPLAINLOOSE]})\\s*$`),A("STAR","(<|>)?=?\\s*\\*"),A("GTE0","^\\s*>=\\s*0.0.0\\s*$"),A("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})(Rr,Rr.exports);const I1=["includePrerelease","loose","rtl"],T1=r=>r?typeof r!="object"?{loose:!0}:I1.filter(t=>r[t]).reduce((t,e)=>(t[e]=!0,t),{}):{};var Ii=T1;const Ss=/^[0-9]+$/,df=(r,t)=>{const e=Ss.test(r),n=Ss.test(t);return e&&n&&(r=+r,t=+t),r===t?0:e&&!n?-1:n&&!e?1:r<t?-1:1},N1=(r,t)=>df(t,r);var uo={compareIdentifiers:df,rcompareIdentifiers:N1};const Qn=Di,{MAX_LENGTH:Ds,MAX_SAFE_INTEGER:ti}=Si,{re:Is,t:Ts}=Rr.exports,R1=Ii,{compareIdentifiers:bn}=uo;class sr{constructor(t,e){if(e=R1(e),t instanceof sr){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Ds)throw new TypeError(`version is longer than ${Ds} characters`);Qn("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const n=t.trim().match(e.loose?Is[Ts.LOOSE]:Is[Ts.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ti||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ti||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ti||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const i=+o;if(i>=0&&i<ti)return i}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Qn("SemVer.compare",this.version,this.options,t),!(t instanceof sr)){if(typeof t=="string"&&t===this.version)return 0;t=new sr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof sr||(t=new sr(t,this.options)),bn(this.major,t.major)||bn(this.minor,t.minor)||bn(this.patch,t.patch)}comparePre(t){if(t instanceof sr||(t=new sr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const n=this.prerelease[e],o=t.prerelease[e];if(Qn("prerelease compare",e,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return bn(n,o)}while(++e)}compareBuild(t){t instanceof sr||(t=new sr(t,this.options));let e=0;do{const n=this.build[e],o=t.build[e];if(Qn("prerelease compare",e,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return bn(n,o)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}var tr=sr;const{MAX_LENGTH:U1}=Si,{re:Ns,t:Rs}=Rr.exports,Us=tr,$1=Ii,k1=(r,t)=>{if(t=$1(t),r instanceof Us)return r;if(typeof r!="string"||r.length>U1||!(t.loose?Ns[Rs.LOOSE]:Ns[Rs.FULL]).test(r))return null;try{return new Us(r,t)}catch{return null}};var sn=k1;const O1=sn,L1=(r,t)=>{const e=O1(r,t);return e?e.version:null};var P1=L1;const j1=sn,q1=(r,t)=>{const e=j1(r.trim().replace(/^[=v]+/,""),t);return e?e.version:null};var H1=q1;const W1=tr,V1=(r,t,e,n)=>{typeof e=="string"&&(n=e,e=void 0);try{return new W1(r,e).inc(t,n).version}catch{return null}};var K1=V1;const $s=tr,G1=(r,t,e)=>new $s(r,e).compare(new $s(t,e));var hr=G1;const Y1=hr,X1=(r,t,e)=>Y1(r,t,e)===0;var qo=X1;const ks=sn,z1=qo,Z1=(r,t)=>{if(z1(r,t))return null;{const e=ks(r),n=ks(t),o=e.prerelease.length||n.prerelease.length,i=o?"pre":"",f=o?"prerelease":"";for(const b in e)if((b==="major"||b==="minor"||b==="patch")&&e[b]!==n[b])return i+b;return f}};var J1=Z1;const Q1=tr,tp=(r,t)=>new Q1(r,t).major;var ep=tp;const rp=tr,np=(r,t)=>new rp(r,t).minor;var ip=np;const op=tr,sp=(r,t)=>new op(r,t).patch;var ap=sp;const fp=sn,up=(r,t)=>{const e=fp(r,t);return e&&e.prerelease.length?e.prerelease:null};var lp=up;const cp=hr,hp=(r,t,e)=>cp(t,r,e);var dp=hp;const pp=hr,vp=(r,t)=>pp(r,t,!0);var mp=vp;const Os=tr,yp=(r,t,e)=>{const n=new Os(r,e),o=new Os(t,e);return n.compare(o)||n.compareBuild(o)};var Ho=yp;const gp=Ho,wp=(r,t)=>r.sort((e,n)=>gp(e,n,t));var bp=wp;const xp=Ho,Ep=(r,t)=>r.sort((e,n)=>xp(n,e,t));var _p=Ep;const Ap=hr,Cp=(r,t,e)=>Ap(r,t,e)>0;var Ti=Cp;const Bp=hr,Mp=(r,t,e)=>Bp(r,t,e)<0;var Wo=Mp;const Fp=hr,Sp=(r,t,e)=>Fp(r,t,e)!==0;var pf=Sp;const Dp=hr,Ip=(r,t,e)=>Dp(r,t,e)>=0;var Vo=Ip;const Tp=hr,Np=(r,t,e)=>Tp(r,t,e)<=0;var Ko=Np;const Rp=qo,Up=pf,$p=Ti,kp=Vo,Op=Wo,Lp=Ko,Pp=(r,t,e,n)=>{switch(t){case"===":return typeof r=="object"&&(r=r.version),typeof e=="object"&&(e=e.version),r===e;case"!==":return typeof r=="object"&&(r=r.version),typeof e=="object"&&(e=e.version),r!==e;case"":case"=":case"==":return Rp(r,e,n);case"!=":return Up(r,e,n);case">":return $p(r,e,n);case">=":return kp(r,e,n);case"<":return Op(r,e,n);case"<=":return Lp(r,e,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var vf=Pp;const jp=tr,qp=sn,{re:ei,t:ri}=Rr.exports,Hp=(r,t)=>{if(r instanceof jp)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;t=t||{};let e=null;if(!t.rtl)e=r.match(ei[ri.COERCE]);else{let n;for(;(n=ei[ri.COERCERTL].exec(r))&&(!e||e.index+e[0].length!==r.length);)(!e||n.index+n[0].length!==e.index+e[0].length)&&(e=n),ei[ri.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;ei[ri.COERCERTL].lastIndex=-1}return e===null?null:qp(`${e[2]}.${e[3]||"0"}.${e[4]||"0"}`,t)};var Wp=Hp,Vp=De;De.Node=Hr;De.create=De;function De(r){var t=this;if(t instanceof De||(t=new De),t.tail=null,t.head=null,t.length=0,r&&typeof r.forEach=="function")r.forEach(function(o){t.push(o)});else if(arguments.length>0)for(var e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);return t}De.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var t=r.next,e=r.prev;return t&&(t.prev=e),e&&(e.next=t),r===this.head&&(this.head=t),r===this.tail&&(this.tail=e),r.list.length--,r.next=null,r.prev=null,r.list=null,t};De.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var t=this.head;r.list=this,r.next=t,t&&(t.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};De.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var t=this.tail;r.list=this,r.prev=t,t&&(t.next=r),this.tail=r,this.head||(this.head=r),this.length++}};De.prototype.push=function(){for(var r=0,t=arguments.length;r<t;r++)Gp(this,arguments[r]);return this.length};De.prototype.unshift=function(){for(var r=0,t=arguments.length;r<t;r++)Yp(this,arguments[r]);return this.length};De.prototype.pop=function(){if(!!this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};De.prototype.shift=function(){if(!!this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};De.prototype.forEach=function(r,t){t=t||this;for(var e=this.head,n=0;e!==null;n++)r.call(t,e.value,n,this),e=e.next};De.prototype.forEachReverse=function(r,t){t=t||this;for(var e=this.tail,n=this.length-1;e!==null;n--)r.call(t,e.value,n,this),e=e.prev};De.prototype.get=function(r){for(var t=0,e=this.head;e!==null&&t<r;t++)e=e.next;if(t===r&&e!==null)return e.value};De.prototype.getReverse=function(r){for(var t=0,e=this.tail;e!==null&&t<r;t++)e=e.prev;if(t===r&&e!==null)return e.value};De.prototype.map=function(r,t){t=t||this;for(var e=new De,n=this.head;n!==null;)e.push(r.call(t,n.value,this)),n=n.next;return e};De.prototype.mapReverse=function(r,t){t=t||this;for(var e=new De,n=this.tail;n!==null;)e.push(r.call(t,n.value,this)),n=n.prev;return e};De.prototype.reduce=function(r,t){var e,n=this.head;if(arguments.length>1)e=t;else if(this.head)n=this.head.next,e=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;n!==null;o++)e=r(e,n.value,o),n=n.next;return e};De.prototype.reduceReverse=function(r,t){var e,n=this.tail;if(arguments.length>1)e=t;else if(this.tail)n=this.tail.prev,e=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;n!==null;o--)e=r(e,n.value,o),n=n.prev;return e};De.prototype.toArray=function(){for(var r=new Array(this.length),t=0,e=this.head;e!==null;t++)r[t]=e.value,e=e.next;return r};De.prototype.toArrayReverse=function(){for(var r=new Array(this.length),t=0,e=this.tail;e!==null;t++)r[t]=e.value,e=e.prev;return r};De.prototype.slice=function(r,t){t=t||this.length,t<0&&(t+=this.length),r=r||0,r<0&&(r+=this.length);var e=new De;if(t<r||t<0)return e;r<0&&(r=0),t>this.length&&(t=this.length);for(var n=0,o=this.head;o!==null&&n<r;n++)o=o.next;for(;o!==null&&n<t;n++,o=o.next)e.push(o.value);return e};De.prototype.sliceReverse=function(r,t){t=t||this.length,t<0&&(t+=this.length),r=r||0,r<0&&(r+=this.length);var e=new De;if(t<r||t<0)return e;r<0&&(r=0),t>this.length&&(t=this.length);for(var n=this.length,o=this.tail;o!==null&&n>t;n--)o=o.prev;for(;o!==null&&n>r;n--,o=o.prev)e.push(o.value);return e};De.prototype.splice=function(r,t,...e){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,o=this.head;o!==null&&n<r;n++)o=o.next;for(var i=[],n=0;o&&n<t;n++)i.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var n=0;n<e.length;n++)o=Kp(this,o,e[n]);return i};De.prototype.reverse=function(){for(var r=this.head,t=this.tail,e=r;e!==null;e=e.prev){var n=e.prev;e.prev=e.next,e.next=n}return this.head=t,this.tail=r,this};function Kp(r,t,e){var n=t===r.head?new Hr(e,null,t,r):new Hr(e,t,t.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function Gp(r,t){r.tail=new Hr(t,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function Yp(r,t){r.head=new Hr(t,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Hr(r,t,e,n){if(!(this instanceof Hr))return new Hr(r,t,e,n);this.list=n,this.value=r,t?(t.next=this,this.prev=t):this.prev=null,e?(e.prev=this,this.next=e):this.next=null}try{require("./iterator.js")(De)}catch{}const Xp=Vp,Pr=Symbol("max"),Er=Symbol("length"),Gr=Symbol("lengthCalculator"),Dn=Symbol("allowStale"),jr=Symbol("maxAge"),xr=Symbol("dispose"),Ls=Symbol("noDisposeOnSet"),We=Symbol("lruList"),ar=Symbol("cache"),mf=Symbol("updateAgeOnGet"),zi=()=>1;class zp{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Pr]=t.max||1/0;const e=t.length||zi;if(this[Gr]=typeof e!="function"?zi:e,this[Dn]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[jr]=t.maxAge||0,this[xr]=t.dispose,this[Ls]=t.noDisposeOnSet||!1,this[mf]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Pr]=t||1/0,xn(this)}get max(){return this[Pr]}set allowStale(t){this[Dn]=!!t}get allowStale(){return this[Dn]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[jr]=t,xn(this)}get maxAge(){return this[jr]}set lengthCalculator(t){typeof t!="function"&&(t=zi),t!==this[Gr]&&(this[Gr]=t,this[Er]=0,this[We].forEach(e=>{e.length=this[Gr](e.value,e.key),this[Er]+=e.length})),xn(this)}get lengthCalculator(){return this[Gr]}get length(){return this[Er]}get itemCount(){return this[We].length}rforEach(t,e){e=e||this;for(let n=this[We].tail;n!==null;){const o=n.prev;Ps(this,t,n,e),n=o}}forEach(t,e){e=e||this;for(let n=this[We].head;n!==null;){const o=n.next;Ps(this,t,n,e),n=o}}keys(){return this[We].toArray().map(t=>t.key)}values(){return this[We].toArray().map(t=>t.value)}reset(){this[xr]&&this[We]&&this[We].length&&this[We].forEach(t=>this[xr](t.key,t.value)),this[ar]=new Map,this[We]=new Xp,this[Er]=0}dump(){return this[We].map(t=>gi(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[We]}set(t,e,n){if(n=n||this[jr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const o=n?Date.now():0,i=this[Gr](e,t);if(this[ar].has(t)){if(i>this[Pr])return Zr(this,this[ar].get(t)),!1;const A=this[ar].get(t).value;return this[xr]&&(this[Ls]||this[xr](t,A.value)),A.now=o,A.maxAge=n,A.value=e,this[Er]+=i-A.length,A.length=i,this.get(t),xn(this),!0}const f=new Zp(t,e,i,o,n);return f.length>this[Pr]?(this[xr]&&this[xr](t,e),!1):(this[Er]+=f.length,this[We].unshift(f),this[ar].set(t,this[We].head),xn(this),!0)}has(t){if(!this[ar].has(t))return!1;const e=this[ar].get(t).value;return!gi(this,e)}get(t){return Zi(this,t,!0)}peek(t){return Zi(this,t,!1)}pop(){const t=this[We].tail;return t?(Zr(this,t),t.value):null}del(t){Zr(this,this[ar].get(t))}load(t){this.reset();const e=Date.now();for(let n=t.length-1;n>=0;n--){const o=t[n],i=o.e||0;if(i===0)this.set(o.k,o.v);else{const f=i-e;f>0&&this.set(o.k,o.v,f)}}}prune(){this[ar].forEach((t,e)=>Zi(this,e,!1))}}const Zi=(r,t,e)=>{const n=r[ar].get(t);if(n){const o=n.value;if(gi(r,o)){if(Zr(r,n),!r[Dn])return}else e&&(r[mf]&&(n.value.now=Date.now()),r[We].unshiftNode(n));return o.value}},gi=(r,t)=>{if(!t||!t.maxAge&&!r[jr])return!1;const e=Date.now()-t.now;return t.maxAge?e>t.maxAge:r[jr]&&e>r[jr]},xn=r=>{if(r[Er]>r[Pr])for(let t=r[We].tail;r[Er]>r[Pr]&&t!==null;){const e=t.prev;Zr(r,t),t=e}},Zr=(r,t)=>{if(t){const e=t.value;r[xr]&&r[xr](e.key,e.value),r[Er]-=e.length,r[ar].delete(e.key),r[We].removeNode(t)}};class Zp{constructor(t,e,n,o,i){this.key=t,this.value=e,this.length=n,this.now=o,this.maxAge=i||0}}const Ps=(r,t,e,n)=>{let o=e.value;gi(r,o)&&(Zr(r,e),r[Dn]||(o=void 0)),o&&t.call(n,o.value,o.key,r)};var Jp=zp;class In{constructor(t,e){if(e=t2(e),t instanceof In)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new In(t.raw,e);if(t instanceof lo)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const n=this.set[0];if(this.set=this.set.filter(o=>!qs(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(const o of this.set)if(o.length===1&&o2(o[0])){this.set=[o];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const n=`parseRange:${Object.keys(this.options).join(",")}:${t}`,o=js.get(n);if(o)return o;const i=this.options.loose,f=i?Xe[Ve.HYPHENRANGELOOSE]:Xe[Ve.HYPHENRANGE];t=t.replace(f,v2(this.options.includePrerelease)),Oe("hyphen replace",t),t=t.replace(Xe[Ve.COMPARATORTRIM],r2),Oe("comparator trim",t,Xe[Ve.COMPARATORTRIM]),t=t.replace(Xe[Ve.TILDETRIM],n2),t=t.replace(Xe[Ve.CARETTRIM],i2),t=t.split(/\s+/).join(" ");const b=i?Xe[Ve.COMPARATORLOOSE]:Xe[Ve.COMPARATOR],A=t.split(" ").map(V=>s2(V,this.options)).join(" ").split(/\s+/).map(V=>p2(V,this.options)).filter(this.options.loose?V=>!!V.match(b):()=>!0).map(V=>new lo(V,this.options));A.length;const k=new Map;for(const V of A){if(qs(V))return[V];k.set(V.value,V)}k.size>1&&k.has("")&&k.delete("");const N=[...k.values()];return js.set(n,N),N}intersects(t,e){if(!(t instanceof In))throw new TypeError("a Range is required");return this.set.some(n=>Hs(n,e)&&t.set.some(o=>Hs(o,e)&&n.every(i=>o.every(f=>i.intersects(f,e)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new e2(t,this.options)}catch{return!1}for(let e=0;e<this.set.length;e++)if(m2(this.set[e],t,this.options))return!0;return!1}}var dr=In;const Qp=Jp,js=new Qp({max:1e3}),t2=Ii,lo=Ni,Oe=Di,e2=tr,{re:Xe,t:Ve,comparatorTrimReplace:r2,tildeTrimReplace:n2,caretTrimReplace:i2}=Rr.exports,qs=r=>r.value==="<0.0.0-0",o2=r=>r.value==="",Hs=(r,t)=>{let e=!0;const n=r.slice();let o=n.pop();for(;e&&n.length;)e=n.every(i=>o.intersects(i,t)),o=n.pop();return e},s2=(r,t)=>(Oe("comp",r,t),r=u2(r,t),Oe("caret",r),r=a2(r,t),Oe("tildes",r),r=c2(r,t),Oe("xrange",r),r=d2(r,t),Oe("stars",r),r),Ze=r=>!r||r.toLowerCase()==="x"||r==="*",a2=(r,t)=>r.trim().split(/\s+/).map(e=>f2(e,t)).join(" "),f2=(r,t)=>{const e=t.loose?Xe[Ve.TILDELOOSE]:Xe[Ve.TILDE];return r.replace(e,(n,o,i,f,b)=>{Oe("tilde",r,n,o,i,f,b);let A;return Ze(o)?A="":Ze(i)?A=`>=${o}.0.0 <${+o+1}.0.0-0`:Ze(f)?A=`>=${o}.${i}.0 <${o}.${+i+1}.0-0`:b?(Oe("replaceTilde pr",b),A=`>=${o}.${i}.${f}-${b} <${o}.${+i+1}.0-0`):A=`>=${o}.${i}.${f} <${o}.${+i+1}.0-0`,Oe("tilde return",A),A})},u2=(r,t)=>r.trim().split(/\s+/).map(e=>l2(e,t)).join(" "),l2=(r,t)=>{Oe("caret",r,t);const e=t.loose?Xe[Ve.CARETLOOSE]:Xe[Ve.CARET],n=t.includePrerelease?"-0":"";return r.replace(e,(o,i,f,b,A)=>{Oe("caret",r,o,i,f,b,A);let k;return Ze(i)?k="":Ze(f)?k=`>=${i}.0.0${n} <${+i+1}.0.0-0`:Ze(b)?i==="0"?k=`>=${i}.${f}.0${n} <${i}.${+f+1}.0-0`:k=`>=${i}.${f}.0${n} <${+i+1}.0.0-0`:A?(Oe("replaceCaret pr",A),i==="0"?f==="0"?k=`>=${i}.${f}.${b}-${A} <${i}.${f}.${+b+1}-0`:k=`>=${i}.${f}.${b}-${A} <${i}.${+f+1}.0-0`:k=`>=${i}.${f}.${b}-${A} <${+i+1}.0.0-0`):(Oe("no pr"),i==="0"?f==="0"?k=`>=${i}.${f}.${b}${n} <${i}.${f}.${+b+1}-0`:k=`>=${i}.${f}.${b}${n} <${i}.${+f+1}.0-0`:k=`>=${i}.${f}.${b} <${+i+1}.0.0-0`),Oe("caret return",k),k})},c2=(r,t)=>(Oe("replaceXRanges",r,t),r.split(/\s+/).map(e=>h2(e,t)).join(" ")),h2=(r,t)=>{r=r.trim();const e=t.loose?Xe[Ve.XRANGELOOSE]:Xe[Ve.XRANGE];return r.replace(e,(n,o,i,f,b,A)=>{Oe("xRange",r,n,o,i,f,b,A);const k=Ze(i),N=k||Ze(f),V=N||Ze(b),K=V;return o==="="&&K&&(o=""),A=t.includePrerelease?"-0":"",k?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&K?(N&&(f=0),b=0,o===">"?(o=">=",N?(i=+i+1,f=0,b=0):(f=+f+1,b=0)):o==="<="&&(o="<",N?i=+i+1:f=+f+1),o==="<"&&(A="-0"),n=`${o+i}.${f}.${b}${A}`):N?n=`>=${i}.0.0${A} <${+i+1}.0.0-0`:V&&(n=`>=${i}.${f}.0${A} <${i}.${+f+1}.0-0`),Oe("xRange return",n),n})},d2=(r,t)=>(Oe("replaceStars",r,t),r.trim().replace(Xe[Ve.STAR],"")),p2=(r,t)=>(Oe("replaceGTE0",r,t),r.trim().replace(Xe[t.includePrerelease?Ve.GTE0PRE:Ve.GTE0],"")),v2=r=>(t,e,n,o,i,f,b,A,k,N,V,K,Z)=>(Ze(n)?e="":Ze(o)?e=`>=${n}.0.0${r?"-0":""}`:Ze(i)?e=`>=${n}.${o}.0${r?"-0":""}`:f?e=`>=${e}`:e=`>=${e}${r?"-0":""}`,Ze(k)?A="":Ze(N)?A=`<${+k+1}.0.0-0`:Ze(V)?A=`<${k}.${+N+1}.0-0`:K?A=`<=${k}.${N}.${V}-${K}`:r?A=`<${k}.${N}.${+V+1}-0`:A=`<=${A}`,`${e} ${A}`.trim()),m2=(r,t,e)=>{for(let n=0;n<r.length;n++)if(!r[n].test(t))return!1;if(t.prerelease.length&&!e.includePrerelease){for(let n=0;n<r.length;n++)if(Oe(r[n].semver),r[n].semver!==lo.ANY&&r[n].semver.prerelease.length>0){const o=r[n].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0},En=Symbol("SemVer ANY");class wi{static get ANY(){return En}constructor(t,e){if(e=y2(e),t instanceof wi){if(t.loose===!!e.loose)return t;t=t.value}Qi("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===En?this.value="":this.value=this.operator+this.semver.version,Qi("comp",this)}parse(t){const e=this.options.loose?Ws[Vs.COMPARATORLOOSE]:Ws[Vs.COMPARATOR],n=t.match(e);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Ks(n[2],this.options.loose):this.semver=En}toString(){return this.value}test(t){if(Qi("Comparator.test",t,this.options.loose),this.semver===En||t===En)return!0;if(typeof t=="string")try{t=new Ks(t,this.options)}catch{return!1}return Ji(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof wi))throw new TypeError("a Comparator is required");if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Gs(t.value,e).test(this.value);if(t.operator==="")return t.value===""?!0:new Gs(this.value,e).test(t.semver);const n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),o=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),i=this.semver.version===t.semver.version,f=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),b=Ji(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),A=Ji(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||o||i&&f||b||A}}var Ni=wi;const y2=Ii,{re:Ws,t:Vs}=Rr.exports,Ji=vf,Qi=Di,Ks=tr,Gs=dr,g2=dr,w2=(r,t,e)=>{try{t=new g2(t,e)}catch{return!1}return t.test(r)};var Ri=w2;const b2=dr,x2=(r,t)=>new b2(r,t).set.map(e=>e.map(n=>n.value).join(" ").trim().split(" "));var E2=x2;const _2=tr,A2=dr,C2=(r,t,e)=>{let n=null,o=null,i=null;try{i=new A2(t,e)}catch{return null}return r.forEach(f=>{i.test(f)&&(!n||o.compare(f)===-1)&&(n=f,o=new _2(n,e))}),n};var B2=C2;const M2=tr,F2=dr,S2=(r,t,e)=>{let n=null,o=null,i=null;try{i=new F2(t,e)}catch{return null}return r.forEach(f=>{i.test(f)&&(!n||o.compare(f)===1)&&(n=f,o=new M2(n,e))}),n};var D2=S2;const to=tr,I2=dr,Ys=Ti,T2=(r,t)=>{r=new I2(r,t);let e=new to("0.0.0");if(r.test(e)||(e=new to("0.0.0-0"),r.test(e)))return e;e=null;for(let n=0;n<r.set.length;++n){const o=r.set[n];let i=null;o.forEach(f=>{const b=new to(f.semver.version);switch(f.operator){case">":b.prerelease.length===0?b.patch++:b.prerelease.push(0),b.raw=b.format();case"":case">=":(!i||Ys(b,i))&&(i=b);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),i&&(!e||Ys(e,i))&&(e=i)}return e&&r.test(e)?e:null};var N2=T2;const R2=dr,U2=(r,t)=>{try{return new R2(r,t).range||"*"}catch{return null}};var $2=U2;const k2=tr,yf=Ni,{ANY:O2}=yf,L2=dr,P2=Ri,Xs=Ti,zs=Wo,j2=Ko,q2=Vo,H2=(r,t,e,n)=>{r=new k2(r,n),t=new L2(t,n);let o,i,f,b,A;switch(e){case">":o=Xs,i=j2,f=zs,b=">",A=">=";break;case"<":o=zs,i=q2,f=Xs,b="<",A="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(P2(r,t,n))return!1;for(let k=0;k<t.set.length;++k){const N=t.set[k];let V=null,K=null;if(N.forEach(Z=>{Z.semver===O2&&(Z=new yf(">=0.0.0")),V=V||Z,K=K||Z,o(Z.semver,V.semver,n)?V=Z:f(Z.semver,K.semver,n)&&(K=Z)}),V.operator===b||V.operator===A||(!K.operator||K.operator===b)&&i(r,K.semver))return!1;if(K.operator===A&&f(r,K.semver))return!1}return!0};var Go=H2;const W2=Go,V2=(r,t,e)=>W2(r,t,">",e);var K2=V2;const G2=Go,Y2=(r,t,e)=>G2(r,t,"<",e);var X2=Y2;const Zs=dr,z2=(r,t,e)=>(r=new Zs(r,e),t=new Zs(t,e),r.intersects(t));var Z2=z2;const J2=Ri,Q2=hr;var tv=(r,t,e)=>{const n=[];let o=null,i=null;const f=r.sort((N,V)=>Q2(N,V,e));for(const N of f)J2(N,t,e)?(i=N,o||(o=N)):(i&&n.push([o,i]),i=null,o=null);o&&n.push([o,null]);const b=[];for(const[N,V]of n)N===V?b.push(N):!V&&N===f[0]?b.push("*"):V?N===f[0]?b.push(`<=${V}`):b.push(`${N} - ${V}`):b.push(`>=${N}`);const A=b.join(" || "),k=typeof t.raw=="string"?t.raw:String(t);return A.length<k.length?A:t};const Js=dr,si=Ni,{ANY:eo}=si,_n=Ri,Yo=hr,ev=(r,t,e={})=>{if(r===t)return!0;r=new Js(r,e),t=new Js(t,e);let n=!1;t:for(const o of r.set){for(const i of t.set){const f=rv(o,i,e);if(n=n||f!==null,f)continue t}if(n)return!1}return!0},rv=(r,t,e)=>{if(r===t)return!0;if(r.length===1&&r[0].semver===eo){if(t.length===1&&t[0].semver===eo)return!0;e.includePrerelease?r=[new si(">=0.0.0-0")]:r=[new si(">=0.0.0")]}if(t.length===1&&t[0].semver===eo){if(e.includePrerelease)return!0;t=[new si(">=0.0.0")]}const n=new Set;let o,i;for(const Z of r)Z.operator===">"||Z.operator===">="?o=Qs(o,Z,e):Z.operator==="<"||Z.operator==="<="?i=ta(i,Z,e):n.add(Z.semver);if(n.size>1)return null;let f;if(o&&i){if(f=Yo(o.semver,i.semver,e),f>0)return null;if(f===0&&(o.operator!==">="||i.operator!=="<="))return null}for(const Z of n){if(o&&!_n(Z,String(o),e)||i&&!_n(Z,String(i),e))return null;for(const xt of t)if(!_n(Z,String(xt),e))return!1;return!0}let b,A,k,N,V=i&&!e.includePrerelease&&i.semver.prerelease.length?i.semver:!1,K=o&&!e.includePrerelease&&o.semver.prerelease.length?o.semver:!1;V&&V.prerelease.length===1&&i.operator==="<"&&V.prerelease[0]===0&&(V=!1);for(const Z of t){if(N=N||Z.operator===">"||Z.operator===">=",k=k||Z.operator==="<"||Z.operator==="<=",o){if(K&&Z.semver.prerelease&&Z.semver.prerelease.length&&Z.semver.major===K.major&&Z.semver.minor===K.minor&&Z.semver.patch===K.patch&&(K=!1),Z.operator===">"||Z.operator===">="){if(b=Qs(o,Z,e),b===Z&&b!==o)return!1}else if(o.operator===">="&&!_n(o.semver,String(Z),e))return!1}if(i){if(V&&Z.semver.prerelease&&Z.semver.prerelease.length&&Z.semver.major===V.major&&Z.semver.minor===V.minor&&Z.semver.patch===V.patch&&(V=!1),Z.operator==="<"||Z.operator==="<="){if(A=ta(i,Z,e),A===Z&&A!==i)return!1}else if(i.operator==="<="&&!_n(i.semver,String(Z),e))return!1}if(!Z.operator&&(i||o)&&f!==0)return!1}return!(o&&k&&!i&&f!==0||i&&N&&!o&&f!==0||K||V)},Qs=(r,t,e)=>{if(!r)return t;const n=Yo(r.semver,t.semver,e);return n>0?r:n<0||t.operator===">"&&r.operator===">="?t:r},ta=(r,t,e)=>{if(!r)return t;const n=Yo(r.semver,t.semver,e);return n<0?r:n>0||t.operator==="<"&&r.operator==="<="?t:r};var nv=ev;const ro=Rr.exports;var ea={re:ro.re,src:ro.src,tokens:ro.t,SEMVER_SPEC_VERSION:Si.SEMVER_SPEC_VERSION,SemVer:tr,compareIdentifiers:uo.compareIdentifiers,rcompareIdentifiers:uo.rcompareIdentifiers,parse:sn,valid:P1,clean:H1,inc:K1,diff:J1,major:ep,minor:ip,patch:ap,prerelease:lp,compare:hr,rcompare:dp,compareLoose:mp,compareBuild:Ho,sort:bp,rsort:_p,gt:Ti,lt:Wo,eq:qo,neq:pf,gte:Vo,lte:Ko,cmp:vf,coerce:Wp,Comparator:Ni,Range:dr,satisfies:Ri,toComparators:E2,maxSatisfying:B2,minSatisfying:D2,minVersion:N2,validRange:$2,outside:Go,gtr:K2,ltr:X2,intersects:Z2,simplifyRange:tv,subset:nv};const co={blue:{id:"blue",productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,blockSize:4*1024,getBlockSize:r=>4*1024},nanoS:{id:"nanoS",productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,blockSize:4*1024,getBlockSize:r=>ea.lt(ea.coerce(r),"2.0.0")?4*1024:2*1024},nanoX:{id:"nanoX",productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,blockSize:4*1024,getBlockSize:r=>4*1024,bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572"}]}},ra=Object.values(co),Ui=11415,$i=r=>{const t=ra.find(o=>o.legacyUsbProductId===r);if(t)return t;const e=r>>8;return ra.find(o=>o.productIdMM===e)},gf=[],ho={};for(let r in co){const t=co[r],{bluetoothSpec:e}=t;if(e)for(let n=0;n<e.length;n++){const o=e[n];gf.push(o.serviceUuid),ho[o.serviceUuid]=ho[o.serviceUuid.replace(/-/g,"")]=fs({deviceModel:t},o)}}const iv=()=>gf,ov=r=>ho[r.toLowerCase()];let sv=0;const Fr=[],Pe=(r,t,e)=>{const n={type:r,id:String(++sv),date:new Date};t&&(n.message=t),e&&(n.data=e),av(n)},wf=r=>(Fr.push(r),()=>{const t=Fr.indexOf(r);t!==-1&&(Fr[t]=Fr[Fr.length-1],Fr.pop())});function av(r){for(let t=0;t<Fr.length;t++)try{Fr[t](r)}catch(e){console.error(e)}}typeof window!="undefined"&&(window.__ledgerLogsListen=wf);var fv=Object.freeze(Object.defineProperty({__proto__:null,log:Pe,listen:wf},Symbol.toStringTag,{value:"Module"}));const uv=[{vendorId:Ui}];async function bf(){return await navigator.usb.requestDevice({filters:uv})}async function Xo(){return(await navigator.usb.getDevices()).filter(t=>t.vendorId===Ui)}async function lv(){const r=await Xo();return r.length>0?r[0]:bf()}const cv=()=>Promise.resolve(!!navigator&&!!navigator.usb&&typeof navigator.usb.getDevices=="function"),hv=1,na=3;class Tr extends Mr{constructor(t,e){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(Math.random()*65535),this.packetSize=64,this.interfaceNumber=void 0,this._disconnectEmitted=!1,this._emitDisconnect=n=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",n))},this.exchange=n=>this.exchangeAtomicImpl(async()=>{const{channel:o,packetSize:i}=this;Pe("apdu","=> "+n.toString("hex"));const f=jo(o,i),b=f.makeBlocks(n);for(let N=0;N<b.length;N++)await this.device.transferOut(na,b[N]);let A,k;for(;!(A=f.getReducedResult(k));){const N=await this.device.transferIn(na,i),V=Buffer.from(N.data.buffer);k=f.reduceResponse(k,V)}return Pe("apdu","<= "+A.toString("hex")),A}).catch(o=>{throw o&&o.message&&o.message.includes("disconnected")?(this._emitDisconnect(o),new Lo(o.message)):o}),this.device=t,this.interfaceNumber=e,this.deviceModel=$i(t.productId)}static async request(){const t=await bf();return Tr.open(t)}static async openConnected(){const t=await Xo();return t.length===0?null:Tr.open(t[0])}static async open(t){await t.open(),t.configuration===null&&await t.selectConfiguration(hv),await ia(t);const e=t.configurations[0].interfaces.find(({alternates:f})=>f.some(b=>b.interfaceClass===255));if(!e)throw new fo("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const n=e.interfaceNumber;try{await t.claimInterface(n)}catch(f){throw await t.close(),new fo(f.message)}const o=new Tr(t,n),i=f=>{t===f.device&&(navigator.usb.removeEventListener("disconnect",i),o._emitDisconnect(new Mi))};return navigator.usb.addEventListener("disconnect",i),o}async close(){await this.exchangeBusyPromise,await this.device.releaseInterface(this.interfaceNumber),await ia(this.device),await this.device.close()}setScrambleKey(){}}Tr.isSupported=cv;Tr.list=Xo;Tr.listen=r=>{let t=!1;lv().then(n=>{if(!t){const o=$i(n.productId);r.next({type:"add",descriptor:n,deviceModel:o}),r.complete()}},n=>{window.DOMException&&n instanceof window.DOMException&&n.code===18?r.error(new lf(n.message)):r.error(new Un(n.message))});function e(){t=!0}return{unsubscribe:e}};async function ia(r){try{await r.reset()}catch(t){console.warn(t)}}var dv=Object.freeze(Object.defineProperty({__proto__:null,default:Tr},Symbol.toStringTag,{value:"Module"})),pv=Br(dv);const vv=[{vendorId:Ui}],mv=()=>Promise.resolve(!!(global.navigator&&global.navigator.hid)),bi=()=>{const{hid:r}=navigator;if(!r)throw new Ir("navigator.hid is not supported","HIDNotSupported");return r};async function xf(){const r=await bi().requestDevice({filters:vv});return Array.isArray(r)?r:[r]}async function zo(){return(await bi().getDevices()).filter(t=>t.vendorId===Ui)}async function yv(){const r=await zo();return r.length>0?r[0]:(await xf())[0]}class Nr extends Mr{constructor(t){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(Math.random()*65535),this.packetSize=64,this.inputs=[],this.inputCallback=void 0,this.read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise(e=>{this.inputCallback=e}),this.onInputReport=e=>{const n=Buffer.from(e.data.buffer);this.inputCallback?(this.inputCallback(n),this.inputCallback=null):this.inputs.push(n)},this._disconnectEmitted=!1,this._emitDisconnect=e=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",e))},this.exchange=e=>this.exchangeAtomicImpl(async()=>{const{channel:n,packetSize:o}=this;Pe("apdu","=> "+e.toString("hex"));const i=jo(n,o),f=i.makeBlocks(e);for(let k=0;k<f.length;k++)await this.device.sendReport(0,f[k]);let b,A;for(;!(b=i.getReducedResult(A));){const k=await this.read();A=i.reduceResponse(A,k)}return Pe("apdu","<= "+b.toString("hex")),b}).catch(n=>{throw n&&n.message&&n.message.includes("write")?(this._emitDisconnect(n),new Lo(n.message)):n}),this.device=t,this.deviceModel=$i(t.productId),t.addEventListener("inputreport",this.onInputReport)}static async request(){const[t]=await xf();return Nr.open(t)}static async openConnected(){const t=await zo();return t.length===0?null:Nr.open(t[0])}static async open(t){await t.open();const e=new Nr(t),n=o=>{t===o.device&&(bi().removeEventListener("disconnect",n),e._emitDisconnect(new Mi))};return bi().addEventListener("disconnect",n),e}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}}Nr.isSupported=mv;Nr.list=zo;Nr.listen=r=>{let t=!1;yv().then(n=>{if(!n)r.error(new Un("Access denied to use Ledger device"));else if(!t){const o=$i(n.productId);r.next({type:"add",descriptor:n,deviceModel:o}),r.complete()}},n=>{r.error(new Un(n.message))});function e(){t=!0}return{unsubscribe:e}};var gv=Object.freeze(Object.defineProperty({__proto__:null,default:Nr},Symbol.toStringTag,{value:"Module"})),wv=Br(gv),Zo={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var po=function(r,t){return po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])},po(r,t)};function we(r,t){po(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Qr(r){return typeof r=="function"}var oa=!1,ir={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var t=new Error;""+t.stack}oa=r},get useDeprecatedSynchronousErrorHandling(){return oa}};function Yr(r){setTimeout(function(){throw r},0)}var xi={closed:!0,next:function(r){},error:function(r){if(ir.useDeprecatedSynchronousErrorHandling)throw r;Yr(r)},complete:function(){}},or=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}();function Jo(r){return r!==null&&typeof r=="object"}var bv=function(){function r(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,n){return n+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return r.prototype=Object.create(Error.prototype),r}(),Tn=bv,qe=function(){function r(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return r.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this,n=e._parentOrParents,o=e._ctorUnsubscribe,i=e._unsubscribe,f=e._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var b=0;b<n.length;++b){var A=n[b];A.remove(this)}if(Qr(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(V){t=V instanceof Tn?sa(V.errors):[V]}}if(or(f))for(var b=-1,k=f.length;++b<k;){var N=f[b];if(Jo(N))try{N.unsubscribe()}catch(K){t=t||[],K instanceof Tn?t=t.concat(sa(K.errors)):t.push(K)}}if(t)throw new Tn(t)}},r.prototype.add=function(t){var e=t;if(!t)return r.EMPTY;switch(typeof t){case"function":e=new r(t);case"object":if(e===this||e.closed||typeof e.unsubscribe!="function")return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof r)){var n=e;e=new r,e._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=e._parentOrParents;if(o===null)e._parentOrParents=this;else if(o instanceof r){if(o===this)return e;e._parentOrParents=[o,this]}else if(o.indexOf(this)===-1)o.push(this);else return e;var i=this._subscriptions;return i===null?this._subscriptions=[e]:i.push(e),e},r.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}},r.EMPTY=function(t){return t.closed=!0,t}(new r),r}();function sa(r){return r.reduce(function(t,e){return t.concat(e instanceof Tn?e.errors:e)},[])}var Ei=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Le=function(r){we(t,r);function t(e,n,o){var i=r.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=xi;break;case 1:if(!e){i.destination=xi;break}if(typeof e=="object"){e instanceof t?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(i)):(i.syncErrorThrowable=!0,i.destination=new aa(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new aa(i,e,n,o);break}return i}return t.prototype[Ei]=function(){return this},t.create=function(e,n,o){var i=new t(e,n,o);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(qe),aa=function(r){we(t,r);function t(e,n,o,i){var f=r.call(this)||this;f._parentSubscriber=e;var b,A=f;return Qr(n)?b=n:n&&(b=n.next,o=n.error,i=n.complete,n!==xi&&(A=Object.create(n),Qr(A.unsubscribe)&&f.add(A.unsubscribe.bind(A)),A.unsubscribe=f.unsubscribe.bind(f))),f._context=A,f._next=b,f._error=o,f._complete=i,f}return t.prototype.next=function(e){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!ir.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,e):this.__tryOrSetError(n,this._next,e)&&this.unsubscribe()}},t.prototype.error=function(e){if(!this.isStopped){var n=this._parentSubscriber,o=ir.useDeprecatedSynchronousErrorHandling;if(this._error)!o||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,e),this.unsubscribe()):(this.__tryOrSetError(n,this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)o?(n.syncErrorValue=e,n.syncErrorThrown=!0):Yr(e),this.unsubscribe();else{if(this.unsubscribe(),o)throw e;Yr(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var o=function(){return e._complete.call(e._context)};!ir.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(o),this.unsubscribe()):(this.__tryOrSetError(n,o),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,n){try{e.call(this._context,n)}catch(o){if(this.unsubscribe(),ir.useDeprecatedSynchronousErrorHandling)throw o;Yr(o)}},t.prototype.__tryOrSetError=function(e,n,o){if(!ir.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,o)}catch(i){return ir.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Yr(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(Le);function Qo(r){for(;r;){var t=r,e=t.closed,n=t.destination,o=t.isStopped;if(e||o)return!1;n&&n instanceof Le?r=n:r=null}return!0}function xv(r,t,e){if(r){if(r instanceof Le)return r;if(r[Ei])return r[Ei]()}return!r&&!t&&!e?new Le(xi):new Le(r,t,e)}var an=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function tn(r){return r}function Ev(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Ef(r)}function Ef(r){return r.length===0?tn:r.length===1?r[0]:function(e){return r.reduce(function(n,o){return o(n)},e)}}var Ee=function(){function r(t){this._isScalar=!1,t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var o=this.operator,i=xv(t,e,n);if(o?i.add(o.call(i,this.source)):i.add(this.source||ir.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),ir.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){ir.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Qo(t)?t.error(e):console.warn(e)}},r.prototype.forEach=function(t,e){var n=this;return e=fa(e),new e(function(o,i){var f;f=n.subscribe(function(b){try{t(b)}catch(A){i(A),f&&f.unsubscribe()}},i,o)})},r.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},r.prototype[an]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?this:Ef(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=fa(t),new t(function(n,o){var i;e.subscribe(function(f){return i=f},function(f){return o(f)},function(){return n(i)})})},r.create=function(t){return new r(t)},r}();function fa(r){if(r||(r=ir.Promise||Promise),!r)throw new Error("no Promise impl found");return r}var _v=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}(),Sr=_v,_f=function(r){we(t,r);function t(e,n){var o=r.call(this)||this;return o.subject=e,o.subscriber=n,o.closed=!1,o}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,n=e.observers;if(this.subject=null,!(!n||n.length===0||e.isStopped||e.closed)){var o=n.indexOf(this.subscriber);o!==-1&&n.splice(o,1)}}},t}(qe),Af=function(r){we(t,r);function t(e){var n=r.call(this,e)||this;return n.destination=e,n}return t}(Le),fn=function(r){we(t,r);function t(){var e=r.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype[Ei]=function(){return new Af(this)},t.prototype.lift=function(e){var n=new ua(this,this);return n.operator=e,n},t.prototype.next=function(e){if(this.closed)throw new Sr;if(!this.isStopped)for(var n=this.observers,o=n.length,i=n.slice(),f=0;f<o;f++)i[f].next(e)},t.prototype.error=function(e){if(this.closed)throw new Sr;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var n=this.observers,o=n.length,i=n.slice(),f=0;f<o;f++)i[f].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Sr;this.isStopped=!0;for(var e=this.observers,n=e.length,o=e.slice(),i=0;i<n;i++)o[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(e){if(this.closed)throw new Sr;return r.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){if(this.closed)throw new Sr;return this.hasError?(e.error(this.thrownError),qe.EMPTY):this.isStopped?(e.complete(),qe.EMPTY):(this.observers.push(e),new _f(this,e))},t.prototype.asObservable=function(){var e=new Ee;return e.source=this,e},t.create=function(e,n){return new ua(e,n)},t}(Ee),ua=function(r){we(t,r);function t(e,n){var o=r.call(this)||this;return o.destination=e,o.source=n,o}return t.prototype.next=function(e){var n=this.destination;n&&n.next&&n.next(e)},t.prototype.error=function(e){var n=this.destination;n&&n.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var n=this.source;return n?this.source.subscribe(e):qe.EMPTY},t}(fn);function Cf(){return function(t){return t.lift(new Av(t))}}var Av=function(){function r(t){this.connectable=t}return r.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var o=new Cv(t,n),i=e.subscribe(o);return o.closed||(o.connection=n.connect()),i},r}(),Cv=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.connectable=n,o}return t.prototype._unsubscribe=function(){var e=this.connectable;if(!e){this.connection=null;return}this.connectable=null;var n=e._refCount;if(n<=0){this.connection=null;return}if(e._refCount=n-1,n>1){this.connection=null;return}var o=this.connection,i=e._connection;this.connection=null,i&&(!o||i===o)&&i.unsubscribe()},t}(Le),Bf=function(r){we(t,r);function t(e,n){var o=r.call(this)||this;return o.source=e,o.subjectFactory=n,o._refCount=0,o._isComplete=!1,o}return t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new qe,e.add(this.source.subscribe(new Mv(this.getSubject(),this))),e.closed&&(this._connection=null,e=qe.EMPTY)),e},t.prototype.refCount=function(){return Cf()(this)},t}(Ee),Bv=function(){var r=Bf.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}(),Mv=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.connectable=n,o}return t.prototype._error=function(e){this._unsubscribe(),r.prototype._error.call(this,e)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}},t}(Af),Fv=function(r){we(t,r);function t(e,n,o){var i=r.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=o,i}return t.prototype._subscribe=function(e){var n=new qe,o=this,i=o.refCountSubscription,f=o.groupSubject;return i&&!i.closed&&n.add(new Sv(i)),n.add(f.subscribe(e)),n},t}(Ee),Sv=function(r){we(t,r);function t(e){var n=r.call(this)||this;return n.parent=e,e.count++,n}return t.prototype.unsubscribe=function(){var e=this.parent;!e.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),e.count-=1,e.count===0&&e.attemptedToUnsubscribe&&e.unsubscribe())},t}(qe),Dv=function(r){we(t,r);function t(e){var n=r.call(this)||this;return n._value=e,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(e){var n=r.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Sr;return this._value},t.prototype.next=function(e){r.prototype.next.call(this,this._value=e)},t}(fn),Iv=function(r){we(t,r);function t(e,n){return r.call(this)||this}return t.prototype.schedule=function(e,n){return this},t}(qe),Pn=function(r){we(t,r);function t(e,n){var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.pending=!1,o}return t.prototype.schedule=function(e,n){if(n===void 0&&(n=0),this.closed)return this;this.state=e;var o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this},t.prototype.requestAsyncId=function(e,n,o){return o===void 0&&(o=0),setInterval(e.flush.bind(e,this),o)},t.prototype.recycleAsyncId=function(e,n,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return n;clearInterval(n)},t.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(e,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,n){var o=!1,i=void 0;try{this.work(e)}catch(f){o=!0,i=!!f&&f||new Error(f)}if(o)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,n=this.scheduler,o=n.actions,i=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null},t}(Iv),Tv=function(r){we(t,r);function t(e,n){var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o}return t.prototype.schedule=function(e,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},t.prototype.execute=function(e,n){return n>0||this.closed?r.prototype.execute.call(this,e,n):this._execute(e,n)},t.prototype.requestAsyncId=function(e,n,o){return o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0?r.prototype.requestAsyncId.call(this,e,n,o):e.flush(this)},t}(Pn),vo=function(){function r(t,e){e===void 0&&(e=r.now),this.SchedulerAction=t,this.now=e}return r.prototype.schedule=function(t,e,n){return e===void 0&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},r.now=function(){return Date.now()},r}(),jn=function(r){we(t,r);function t(e,n){n===void 0&&(n=vo.now);var o=r.call(this,e,function(){return t.delegate&&t.delegate!==o?t.delegate.now():n()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return t.prototype.schedule=function(e,n,o){return n===void 0&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,o):r.prototype.schedule.call(this,e,n,o)},t.prototype.flush=function(e){var n=this.actions;if(this.active){n.push(e);return}var o;this.active=!0;do if(o=e.execute(e.state,e.delay))break;while(e=n.shift());if(this.active=!1,o){for(;e=n.shift();)e.unsubscribe();throw o}},t}(vo),Nv=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(jn),Mf=new Nv(Tv),Ff=Mf,en=new Ee(function(r){return r.complete()});function ki(r){return r?Rv(r):en}function Rv(r){return new Ee(function(t){return r.schedule(function(){return t.complete()})})}function Ur(r){return r&&typeof r.schedule=="function"}var Sf=function(r){return function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()}};function ts(r,t){return new Ee(function(e){var n=new qe,o=0;return n.add(t.schedule(function(){if(o===r.length){e.complete();return}e.next(r[o++]),e.closed||n.add(this.schedule())})),n})}function qn(r,t){return t?ts(r,t):new Ee(Sf(r))}function es(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return Ur(e)?(r.pop(),ts(r,e)):qn(r)}function Df(r,t){return t?new Ee(function(e){return t.schedule(Uv,0,{error:r,subscriber:e})}):new Ee(function(e){return e.error(r)})}function Uv(r){var t=r.error,e=r.subscriber;e.error(t)}var mo;mo||(mo={});var ai=function(){function r(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue=t==="N"}return r.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},r.prototype.do=function(t,e,n){var o=this.kind;switch(o){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},r.prototype.accept=function(t,e,n){return t&&typeof t.next=="function"?this.observe(t):this.do(t,e,n)},r.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return es(this.value);case"E":return Df(this.error);case"C":return ki()}throw new Error("unexpected notification kind value")},r.createNext=function(t){return typeof t!="undefined"?new r("N",t):r.undefinedValueNotification},r.createError=function(t){return new r("E",void 0,t)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}(),$v=function(r){we(t,r);function t(e,n,o){o===void 0&&(o=0);var i=r.call(this,e)||this;return i.scheduler=n,i.delay=o,i}return t.dispatch=function(e){var n=e.notification,o=e.destination;n.observe(o),this.unsubscribe()},t.prototype.scheduleMessage=function(e){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new kv(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(ai.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(ai.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(ai.createComplete()),this.unsubscribe()},t}(Le),kv=function(){function r(t,e){this.notification=t,this.destination=e}return r}(),Ov=function(r){we(t,r);function t(e,n,o){e===void 0&&(e=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this)||this;return i.scheduler=o,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return t.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,e)},t.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new Lv(this._getNow(),e)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,e)},t.prototype._subscribe=function(e){var n=this._infiniteTimeWindow,o=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,f=o.length,b;if(this.closed)throw new Sr;if(this.isStopped||this.hasError?b=qe.EMPTY:(this.observers.push(e),b=new _f(this,e)),i&&e.add(e=new $v(e,i)),n)for(var A=0;A<f&&!e.closed;A++)e.next(o[A]);else for(var A=0;A<f&&!e.closed;A++)e.next(o[A].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),b},t.prototype._getNow=function(){return(this.scheduler||Ff).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),n=this._bufferSize,o=this._windowTime,i=this._events,f=i.length,b=0;b<f&&!(e-i[b].time<o);)b++;return f>n&&(b=Math.max(b,f-n)),b>0&&i.splice(0,b),i},t}(fn),Lv=function(){function r(t,e){this.time=t,this.value=e}return r}(),Hn=function(r){we(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return t.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),qe.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),qe.EMPTY):r.prototype._subscribe.call(this,e)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(e){this.hasCompleted||r.prototype.error.call(this,e)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},t}(fn),Pv=1,jv=function(){return Promise.resolve()}(),yo={};function la(r){return r in yo?(delete yo[r],!0):!1}var ca={setImmediate:function(r){var t=Pv++;return yo[t]=!0,jv.then(function(){return la(t)&&r()}),t},clearImmediate:function(r){la(r)}},qv=function(r){we(t,r);function t(e,n){var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o}return t.prototype.requestAsyncId=function(e,n,o){return o===void 0&&(o=0),o!==null&&o>0?r.prototype.requestAsyncId.call(this,e,n,o):(e.actions.push(this),e.scheduled||(e.scheduled=ca.setImmediate(e.flush.bind(e,null))))},t.prototype.recycleAsyncId=function(e,n,o){if(o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,o);e.actions.length===0&&(ca.clearImmediate(n),e.scheduled=void 0)},t}(Pn),Hv=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var n=this.actions,o,i=-1,f=n.length;e=e||n.shift();do if(o=e.execute(e.state,e.delay))break;while(++i<f&&(e=n.shift()));if(this.active=!1,o){for(;++i<f&&(e=n.shift());)e.unsubscribe();throw o}},t}(jn),If=new Hv(qv),Wv=If,Tf=new jn(Pn),_i=Tf,Vv=function(r){we(t,r);function t(e,n){var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o}return t.prototype.requestAsyncId=function(e,n,o){return o===void 0&&(o=0),o!==null&&o>0?r.prototype.requestAsyncId.call(this,e,n,o):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},t.prototype.recycleAsyncId=function(e,n,o){if(o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,o);e.actions.length===0&&(cancelAnimationFrame(n),e.scheduled=void 0)},t}(Pn),Kv=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var n=this.actions,o,i=-1,f=n.length;e=e||n.shift();do if(o=e.execute(e.state,e.delay))break;while(++i<f&&(e=n.shift()));if(this.active=!1,o){for(;++i<f&&(e=n.shift());)e.unsubscribe();throw o}},t}(jn),Nf=new Kv(Vv),Gv=Nf,Yv=function(r){we(t,r);function t(e,n){e===void 0&&(e=Rf),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this,e,function(){return o.frame})||this;return o.maxFrames=n,o.frame=0,o.index=-1,o}return t.prototype.flush=function(){for(var e=this,n=e.actions,o=e.maxFrames,i,f;(f=n[0])&&f.delay<=o&&(n.shift(),this.frame=f.delay,!(i=f.execute(f.state,f.delay))););if(i){for(;f=n.shift();)f.unsubscribe();throw i}},t.frameTimeFactor=10,t}(jn),Rf=function(r){we(t,r);function t(e,n,o){o===void 0&&(o=e.index+=1);var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=o,i.active=!0,i.index=e.index=o,i}return t.prototype.schedule=function(e,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,e,n);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(e,n)},t.prototype.requestAsyncId=function(e,n,o){o===void 0&&(o=0),this.delay=e.frame+o;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,n,o){},t.prototype._execute=function(e,n){if(this.active===!0)return r.prototype._execute.call(this,e,n)},t.sortActions=function(e,n){return e.delay===n.delay?e.index===n.index?0:e.index>n.index?1:-1:e.delay>n.delay?1:-1},t}(Pn);function vr(){}function Xv(r){return!!r&&(r instanceof Ee||typeof r.lift=="function"&&typeof r.subscribe=="function")}var zv=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}(),Uf=zv,Zv=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}(),rs=Zv,Jv=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}(),Qv=Jv;function Wr(r,t){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new tm(r,t))}}var tm=function(){function r(t,e){this.project=t,this.thisArg=e}return r.prototype.call=function(t,e){return e.subscribe(new em(t,this.project,this.thisArg))},r}(),em=function(r){we(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=o||i,i}return t.prototype._next=function(e){var n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(o){this.destination.error(o);return}this.destination.next(n)},t}(Le);function $f(r,t,e){if(t)if(Ur(t))e=t;else return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return $f(r,e).apply(void 0,n).pipe(Wr(function(i){return or(i)?t.apply(void 0,i):t(i)}))};return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=this,f,b={context:i,subject:f,callbackFunc:r,scheduler:e};return new Ee(function(A){if(e){var N={args:n,subscriber:A,params:b};return e.schedule(rm,0,N)}else{if(!f){f=new Hn;var k=function(){for(var V=[],K=0;K<arguments.length;K++)V[K]=arguments[K];f.next(V.length<=1?V[0]:V),f.complete()};try{r.apply(i,n.concat([k]))}catch(V){Qo(f)?f.error(V):console.warn(V)}}return f.subscribe(A)}})}}function rm(r){var t=this,e=r.args,n=r.subscriber,o=r.params,i=o.callbackFunc,f=o.context,b=o.scheduler,A=o.subject;if(!A){A=o.subject=new Hn;var k=function(){for(var N=[],V=0;V<arguments.length;V++)N[V]=arguments[V];var K=N.length<=1?N[0]:N;t.add(b.schedule(nm,0,{value:K,subject:A}))};try{i.apply(f,e.concat([k]))}catch(N){A.error(N)}}this.add(A.subscribe(n))}function nm(r){var t=r.value,e=r.subject;e.next(t),e.complete()}function kf(r,t,e){if(t)if(Ur(t))e=t;else return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return kf(r,e).apply(void 0,n).pipe(Wr(function(i){return or(i)?t.apply(void 0,i):t(i)}))};return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i={subject:void 0,args:n,callbackFunc:r,scheduler:e,context:this};return new Ee(function(f){var b=i.context,A=i.subject;if(e)return e.schedule(im,0,{params:i,subscriber:f,context:b});if(!A){A=i.subject=new Hn;var k=function(){for(var N=[],V=0;V<arguments.length;V++)N[V]=arguments[V];var K=N.shift();if(K){A.error(K);return}A.next(N.length<=1?N[0]:N),A.complete()};try{r.apply(b,n.concat([k]))}catch(N){Qo(A)?A.error(N):console.warn(N)}}return A.subscribe(f)})}}function im(r){var t=this,e=r.params,n=r.subscriber,o=r.context,i=e.callbackFunc,f=e.args,b=e.scheduler,A=e.subject;if(!A){A=e.subject=new Hn;var k=function(){for(var N=[],V=0;V<arguments.length;V++)N[V]=arguments[V];var K=N.shift();if(K)t.add(b.schedule(ha,0,{err:K,subject:A}));else{var Z=N.length<=1?N[0]:N;t.add(b.schedule(om,0,{value:Z,subject:A}))}};try{i.apply(o,f.concat([k]))}catch(N){this.add(b.schedule(ha,0,{err:N,subject:A}))}}this.add(A.subscribe(n))}function om(r){var t=r.value,e=r.subject;e.next(t),e.complete()}function ha(r){var t=r.err,e=r.subject;e.error(t)}var Of=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.notifyNext=function(e,n,o,i,f){this.destination.next(n)},t.prototype.notifyError=function(e,n){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Le),sm=function(r){we(t,r);function t(e,n,o){var i=r.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=o,i.index=0,i}return t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Le),am=function(r){return function(t){return r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,Yr),t}};function fm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $r=fm(),um=function(r){return function(t){var e=r[$r]();do{var n=void 0;try{n=e.next()}catch(o){return t.error(o),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}while(!0);return typeof e.return=="function"&&t.add(function(){e.return&&e.return()}),t}},lm=function(r){return function(t){var e=r[an]();if(typeof e.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)}},Lf=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function Pf(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}var $n=function(r){if(!!r&&typeof r[an]=="function")return lm(r);if(Lf(r))return Sf(r);if(Pf(r))return am(r);if(!!r&&typeof r[$r]=="function")return um(r);var t=Jo(r)?"an invalid object":"'"+r+"'",e="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(e)};function jf(r,t,e,n,o){if(o===void 0&&(o=new sm(r,e,n)),!o.closed)return t instanceof Ee?t.subscribe(o):$n(t)(o)}var da={};function cm(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=void 0,n=void 0;return Ur(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(e=r.pop()),r.length===1&&or(r[0])&&(r=r[0]),qn(r,n).lift(new hm(e))}var hm=function(){function r(t){this.resultSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new dm(t,this.resultSelector))},r}(),dm=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.resultSelector=n,o.active=0,o.values=[],o.observables=[],o}return t.prototype._next=function(e){this.values.push(da),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,n=e.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var o=0;o<n;o++){var i=e[o];this.add(jf(this,i,void 0,o))}}},t.prototype.notifyComplete=function(e){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(e,n,o){var i=this.values,f=i[o],b=this.toRespond?f===da?--this.toRespond:this.toRespond:0;i[o]=n,b===0&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},t.prototype._tryResultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(o){this.destination.error(o);return}this.destination.next(n)},t}(Of);function pm(r,t){return new Ee(function(e){var n=new qe;return n.add(t.schedule(function(){var o=r[an]();n.add(o.subscribe({next:function(i){n.add(t.schedule(function(){return e.next(i)}))},error:function(i){n.add(t.schedule(function(){return e.error(i)}))},complete:function(){n.add(t.schedule(function(){return e.complete()}))}}))})),n})}function vm(r,t){return new Ee(function(e){var n=new qe;return n.add(t.schedule(function(){return r.then(function(o){n.add(t.schedule(function(){e.next(o),n.add(t.schedule(function(){return e.complete()}))}))},function(o){n.add(t.schedule(function(){return e.error(o)}))})})),n})}function mm(r,t){if(!r)throw new Error("Iterable cannot be null");return new Ee(function(e){var n=new qe,o;return n.add(function(){o&&typeof o.return=="function"&&o.return()}),n.add(t.schedule(function(){o=r[$r](),n.add(t.schedule(function(){if(!e.closed){var i,f;try{var b=o.next();i=b.value,f=b.done}catch(A){e.error(A);return}f?e.complete():(e.next(i),this.schedule())}}))})),n})}function ym(r){return r&&typeof r[an]=="function"}function gm(r){return r&&typeof r[$r]=="function"}function qf(r,t){if(r!=null){if(ym(r))return pm(r,t);if(Pf(r))return vm(r,t);if(Lf(r))return ts(r,t);if(gm(r)||typeof r=="string")return mm(r,t)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}function Vr(r,t){return t?qf(r,t):r instanceof Ee?r:new Ee($n(r))}var Hf=function(r){we(t,r);function t(e){var n=r.call(this)||this;return n.parent=e,n}return t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(Le),Wf=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(Le);function Vf(r,t){if(!t.closed){if(r instanceof Ee)return r.subscribe(t);var e;try{e=$n(r)(t)}catch(n){t.error(n)}return e}}function Kf(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?function(n){return n.pipe(Kf(function(o,i){return Vr(r(o,i)).pipe(Wr(function(f,b){return t(o,f,i,b)}))},e))}:(typeof t=="number"&&(e=t),function(n){return n.lift(new wm(r,e))})}var wm=function(){function r(t,e){e===void 0&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return r.prototype.call=function(t,e){return e.subscribe(new bm(t,this.project,this.concurrent))},r}(),bm=function(r){we(t,r);function t(e,n,o){o===void 0&&(o=Number.POSITIVE_INFINITY);var i=r.call(this,e)||this;return i.project=n,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var n,o=this.index++;try{n=this.project(e,o)}catch(i){this.destination.error(i);return}this.active++,this._innerSub(n)},t.prototype._innerSub=function(e){var n=new Hf(this),o=this.destination;o.add(n);var i=Vf(e,n);i!==n&&o.add(i)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(Wf);function Gf(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),Kf(tn,r)}function xm(){return Gf(1)}function Em(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return xm()(es.apply(void 0,r))}function ns(r){return new Ee(function(t){var e;try{e=r()}catch(o){t.error(o);return}var n=e?Vr(e):ki();return n.subscribe(t)})}function _m(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1){var e=r[0];if(or(e))return ni(e,null);if(Jo(e)&&Object.getPrototypeOf(e)===Object.prototype){var n=Object.keys(e);return ni(n.map(function(i){return e[i]}),n)}}if(typeof r[r.length-1]=="function"){var o=r.pop();return r=r.length===1&&or(r[0])?r[0]:r,ni(r,null).pipe(Wr(function(i){return o.apply(void 0,i)}))}return ni(r,null)}function ni(r,t){return new Ee(function(e){var n=r.length;if(n===0){e.complete();return}for(var o=new Array(n),i=0,f=0,b=function(k){var N=Vr(r[k]),V=!1;e.add(N.subscribe({next:function(K){V||(V=!0,f++),o[k]=K},error:function(K){return e.error(K)},complete:function(){i++,(i===n||!V)&&(f===n&&e.next(t?t.reduce(function(K,Z,xt){return K[Z]=o[xt],K},{}):o),e.complete())}}))},A=0;A<n;A++)b(A)})}function Yf(r,t,e,n){return Qr(e)&&(n=e,e=void 0),n?Yf(r,t,e).pipe(Wr(function(o){return or(o)?n.apply(void 0,o):n(o)})):new Ee(function(o){function i(f){arguments.length>1?o.next(Array.prototype.slice.call(arguments)):o.next(f)}Xf(r,t,i,o,e)})}function Xf(r,t,e,n,o){var i;if(Bm(r)){var f=r;r.addEventListener(t,e,o),i=function(){return f.removeEventListener(t,e,o)}}else if(Cm(r)){var b=r;r.on(t,e),i=function(){return b.off(t,e)}}else if(Am(r)){var A=r;r.addListener(t,e),i=function(){return A.removeListener(t,e)}}else if(r&&r.length)for(var k=0,N=r.length;k<N;k++)Xf(r[k],t,e,n,o);else throw new TypeError("Invalid event target");n.add(i)}function Am(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function Cm(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function Bm(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}function zf(r,t,e){return e?zf(r,t).pipe(Wr(function(n){return or(n)?e.apply(void 0,n):e(n)})):new Ee(function(n){var o=function(){for(var f=[],b=0;b<arguments.length;b++)f[b]=arguments[b];return n.next(f.length===1?f[0]:f)},i;try{i=r(o)}catch(f){n.error(f);return}if(!!Qr(t))return function(){return t(o,i)}})}function Mm(r,t,e,n,o){var i,f;if(arguments.length==1){var b=r;f=b.initialState,t=b.condition,e=b.iterate,i=b.resultSelector||tn,o=b.scheduler}else n===void 0||Ur(n)?(f=r,i=tn,o=n):(f=r,i=n);return new Ee(function(A){var k=f;if(o)return o.schedule(Fm,0,{subscriber:A,iterate:e,condition:t,resultSelector:i,state:k});do{if(t){var N=void 0;try{N=t(k)}catch(K){A.error(K);return}if(!N){A.complete();break}}var V=void 0;try{V=i(k)}catch(K){A.error(K);return}if(A.next(V),A.closed)break;try{k=e(k)}catch(K){A.error(K);return}}while(!0)})}function Fm(r){var t=r.subscriber,e=r.condition;if(!t.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(i){t.error(i);return}else r.needIterate=!0;if(e){var n=void 0;try{n=e(r.state)}catch(i){t.error(i);return}if(!n){t.complete();return}if(t.closed)return}var o;try{o=r.resultSelector(r.state)}catch(i){t.error(i);return}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(r)}}function Sm(r,t,e){return t===void 0&&(t=en),e===void 0&&(e=en),ns(function(){return r()?t:e})}function go(r){return!or(r)&&r-parseFloat(r)+1>=0}function Dm(r,t){return r===void 0&&(r=0),t===void 0&&(t=_i),(!go(r)||r<0)&&(r=0),(!t||typeof t.schedule!="function")&&(t=_i),new Ee(function(e){return e.add(t.schedule(Im,r,{subscriber:e,counter:0,period:r})),e})}function Im(r){var t=r.subscriber,e=r.counter,n=r.period;t.next(e),this.schedule({subscriber:t,counter:e+1,period:n},n)}function wo(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Number.POSITIVE_INFINITY,n=null,o=r[r.length-1];return Ur(o)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(e=r.pop())):typeof o=="number"&&(e=r.pop()),n===null&&r.length===1&&r[0]instanceof Ee?r[0]:Gf(e)(qn(r,n))}var Zf=new Ee(vr);function Tm(){return Zf}function bo(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===0)return en;var e=r[0],n=r.slice(1);return r.length===1&&or(e)?bo.apply(void 0,e):new Ee(function(o){var i=function(){return o.add(bo.apply(void 0,n).subscribe(o))};return Vr(e).subscribe({next:function(f){o.next(f)},error:i,complete:i})})}function Nm(r,t){return t?new Ee(function(e){var n=Object.keys(r),o=new qe;return o.add(t.schedule(Rm,0,{keys:n,index:0,subscriber:e,subscription:o,obj:r})),o}):new Ee(function(e){for(var n=Object.keys(r),o=0;o<n.length&&!e.closed;o++){var i=n[o];r.hasOwnProperty(i)&&e.next([i,r[i]])}e.complete()})}function Rm(r){var t=r.keys,e=r.index,n=r.subscriber,o=r.subscription,i=r.obj;if(!n.closed)if(e<t.length){var f=t[e];n.next([f,i[f]]),o.add(this.schedule({keys:t,index:e+1,subscriber:n,subscription:o,obj:i}))}else n.complete()}function Um(r,t){function e(){return!e.pred.apply(e.thisArg,arguments)}return e.pred=r,e.thisArg=t,e}function xo(r,t){return function(n){return n.lift(new $m(r,t))}}var $m=function(){function r(t,e){this.predicate=t,this.thisArg=e}return r.prototype.call=function(t,e){return e.subscribe(new km(t,this.predicate,this.thisArg))},r}(),km=function(r){we(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.predicate=n,i.thisArg=o,i.count=0,i}return t.prototype._next=function(e){var n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(o){this.destination.error(o);return}n&&this.destination.next(e)},t}(Le);function Om(r,t,e){return[xo(t,e)(new Ee($n(r))),xo(Um(t,e))(new Ee($n(r)))]}function Lm(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)if(or(r[0]))r=r[0];else return r[0];return qn(r,void 0).lift(new Pm)}var Pm=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new jm(t))},r}(),jm=function(r){we(t,r);function t(e){var n=r.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,n=e.length;if(n===0)this.destination.complete();else{for(var o=0;o<n&&!this.hasFirst;o++){var i=e[o],f=jf(this,i,void 0,o);this.subscriptions&&this.subscriptions.push(f),this.add(f)}this.observables=null}},t.prototype.notifyNext=function(e,n,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==o){var f=this.subscriptions[i];f.unsubscribe(),this.remove(f)}this.subscriptions=null}this.destination.next(n)},t}(Of);function qm(r,t,e){return r===void 0&&(r=0),new Ee(function(n){t===void 0&&(t=r,r=0);var o=0,i=r;if(e)return e.schedule(Hm,0,{index:o,count:t,start:r,subscriber:n});do{if(o++>=t){n.complete();break}if(n.next(i++),n.closed)break}while(!0)})}function Hm(r){var t=r.start,e=r.index,n=r.count,o=r.subscriber;if(e>=n){o.complete();return}o.next(t),!o.closed&&(r.index=e+1,r.start=t+1,this.schedule(r))}function Wm(r,t,e){r===void 0&&(r=0);var n=-1;return go(t)?n=Number(t)<1&&1||Number(t):Ur(t)&&(e=t),Ur(e)||(e=_i),new Ee(function(o){var i=go(r)?r:+r-e.now();return e.schedule(Vm,i,{index:0,period:n,subscriber:o})})}function Vm(r){var t=r.index,e=r.period,n=r.subscriber;if(n.next(t),!n.closed){if(e===-1)return n.complete();r.index=t+1,this.schedule(r,e)}}function Km(r,t){return new Ee(function(e){var n;try{n=r()}catch(b){e.error(b);return}var o;try{o=t(n)}catch(b){e.error(b);return}var i=o?Vr(o):en,f=i.subscribe(e);return function(){f.unsubscribe(),n&&n.unsubscribe()}})}function Gm(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return typeof e=="function"&&r.pop(),qn(r,void 0).lift(new Ym(e))}var Ym=function(){function r(t){this.resultSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new Xm(t,this.resultSelector))},r}(),Xm=function(r){we(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector=typeof n=="function"?n:void 0,i}return t.prototype._next=function(e){var n=this.iterators;or(e)?n.push(new Zm(e)):typeof e[$r]=="function"?n.push(new zm(e[$r]())):n.push(new Jm(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,n=e.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var o=0;o<n;o++){var i=e[o];if(i.stillUnsubscribed){var f=this.destination;f.add(i.subscribe())}else this.active--}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,n=e.length,o=this.destination,i=0;i<n;i++){var f=e[i];if(typeof f.hasValue=="function"&&!f.hasValue())return}for(var b=!1,A=[],i=0;i<n;i++){var f=e[i],k=f.next();if(f.hasCompleted()&&(b=!0),k.done){o.complete();return}A.push(k.value)}this.resultSelector?this._tryresultSelector(A):o.next(A),b&&o.complete()},t.prototype._tryresultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(o){this.destination.error(o);return}this.destination.next(n)},t}(Le),zm=function(){function r(t){this.iterator=t,this.nextResult=t.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},r.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},r}(),Zm=function(){function r(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return r.prototype[$r]=function(){return this},r.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),Jm=function(r){we(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.parent=n,i.observable=o,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return t.prototype[$r]=function(){return this},t.prototype.next=function(){var e=this.buffer;return e.length===0&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Vf(this.observable,new Hf(this))},t}(Wf),Qm=Object.freeze(Object.defineProperty({__proto__:null,Observable:Ee,ConnectableObservable:Bf,GroupedObservable:Fv,observable:an,Subject:fn,BehaviorSubject:Dv,ReplaySubject:Ov,AsyncSubject:Hn,asap:Wv,asapScheduler:If,async:_i,asyncScheduler:Tf,queue:Ff,queueScheduler:Mf,animationFrame:Gv,animationFrameScheduler:Nf,VirtualTimeScheduler:Yv,VirtualAction:Rf,Scheduler:vo,Subscription:qe,Subscriber:Le,Notification:ai,get NotificationKind(){return mo},pipe:Ev,noop:vr,identity:tn,isObservable:Xv,ArgumentOutOfRangeError:Uf,EmptyError:rs,ObjectUnsubscribedError:Sr,UnsubscriptionError:Tn,TimeoutError:Qv,bindCallback:$f,bindNodeCallback:kf,combineLatest:cm,concat:Em,defer:ns,empty:ki,forkJoin:_m,from:Vr,fromEvent:Yf,fromEventPattern:zf,generate:Mm,iif:Sm,interval:Dm,merge:wo,never:Tm,of:es,onErrorResumeNext:bo,pairs:Nm,partition:Om,race:Lm,range:qm,throwError:Df,timer:Wm,using:Km,zip:Gm,scheduled:qf,EMPTY:en,NEVER:Zf,config:ir},Symbol.toStringTag,{value:"Module"})),Jf=Br(Qm),Qf=Br(fv);Object.defineProperty(Zo,"__esModule",{value:!0});var tu=Zo.sendAPDU=void 0,ty=Jf,pa=Qf;const ey=5;function ry(r,t){const e=[];for(let n=0,o=t(0);n<r.length;n+=o,o=t(n))e.push(r.slice(n,n+o));return e}const ny=(r,t,e)=>{const n=ry(t,o=>e-(o===0?5:3)).map((o,i)=>{const f=Buffer.alloc(i===0?5:3);return f.writeUInt8(ey,0),f.writeUInt16BE(i,1),i===0&&f.writeUInt16BE(t.length,3),Buffer.concat([f,o])});return ty.Observable.create(o=>{let i=!1;async function f(){for(const A of n){if(i)return;await r(A)}}return f().then(()=>{i=!0,o.complete()},A=>{i=!0,(0,pa.log)("ble-error","sendAPDU failure "+String(A)),o.error(A)}),()=>{i||((0,pa.log)("ble-verbose","sendAPDU interruption"),i=!0)}})};tu=Zo.sendAPDU=ny;var is={};Object.defineProperty(is,"__esModule",{value:!0});var eu=is.receiveAPDU=void 0,ii=hf,iy=Jf,oy=Qf;const sy=5,ay=r=>iy.Observable.create(t=>{let e=0,n=0,o=Buffer.alloc(0);const i=r.subscribe({complete:()=>{t.error(new ii.DisconnectedDevice),i.unsubscribe()},error:f=>{(0,oy.log)("ble-error","in receiveAPDU "+String(f)),t.error(f),i.unsubscribe()},next:f=>{const b=f.readUInt8(0),A=f.readUInt16BE(1);let k=f.slice(3);if(b!==sy){t.error(new ii.TransportError("Invalid tag "+b.toString(16),"InvalidTag"));return}if(e!==A){t.error(new ii.TransportError("BLE: Invalid sequence number. discontinued chunk. Received "+A+" but expected "+e,"InvalidSequence"));return}if(A===0&&(n=k.readUInt16BE(0),k=k.slice(2)),e++,o=Buffer.concat([o,k]),o.length>n){t.error(new ii.TransportError("BLE: received too much data. discontinued chunk. Received "+o.length+" but expected "+n,"BLETooMuchData"));return}o.length===n&&(t.next(o),t.complete(),i.unsubscribe())}});return()=>{i.unsubscribe()}});eu=is.receiveAPDU=ay;function fy(r){return r===void 0&&(r=null),function(t){return t.lift(new uy(r))}}var uy=function(){function r(t){this.defaultValue=t}return r.prototype.call=function(t,e){return e.subscribe(new ly(t,this.defaultValue))},r}(),ly=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.defaultValue=n,o.isEmpty=!0,o}return t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(Le);function cy(r){return r===void 0&&(r=py),function(t){return t.lift(new hy(r))}}var hy=function(){function r(t){this.errorFactory=t}return r.prototype.call=function(t,e){return e.subscribe(new dy(t,this.errorFactory))},r}(),dy=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.errorFactory=n,o.hasValue=!1,o}return t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)},t}(Le);function py(){return new rs}function vy(r){return function(t){return r===0?ki():t.lift(new my(r))}}var my=function(){function r(t){if(this.total=t,this.total<0)throw new Uf}return r.prototype.call=function(t,e){return e.subscribe(new yy(t,this.total))},r}(),yy=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.total=n,o.count=0,o}return t.prototype._next=function(e){var n=this.total,o=++this.count;o<=n&&(this.destination.next(e),o===n&&(this.destination.complete(),this.unsubscribe()))},t}(Le);function gy(r,t){var e=arguments.length>=2;return function(n){return n.pipe(r?xo(function(o,i){return r(o,i,n)}):tn,vy(1),e?fy(t):cy(function(){return new rs}))}}function wy(){return function(t){return t.lift(new by)}}var by=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new xy(t))},r}(),xy=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype._next=function(e){},t}(Le);function Ey(r,t){return function(n){var o;if(typeof r=="function"?o=r:o=function(){return r},typeof t=="function")return n.lift(new _y(o,t));var i=Object.create(n,Bv);return i.source=n,i.subjectFactory=o,i}}var _y=function(){function r(t,e){this.subjectFactory=t,this.selector=e}return r.prototype.call=function(t,e){var n=this.selector,o=this.subjectFactory(),i=n(o).subscribe(t);return i.add(e.subscribe(o)),i},r}();function Ay(){return new fn}function Cy(){return function(r){return Cf()(Ey(Ay)(r))}}function By(r,t,e){return function(o){return o.lift(new My(r,t,e))}}var My=function(){function r(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return r.prototype.call=function(t,e){return e.subscribe(new Fy(t,this.nextOrObserver,this.error,this.complete))},r}(),Fy=function(r){we(t,r);function t(e,n,o,i){var f=r.call(this,e)||this;return f._tapNext=vr,f._tapError=vr,f._tapComplete=vr,f._tapError=o||vr,f._tapComplete=i||vr,Qr(n)?(f._context=f,f._tapNext=n):n&&(f._context=n,f._tapNext=n.next||vr,f._tapError=n.error||vr,f._tapComplete=n.complete||vr),f}return t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(n){this.destination.error(n);return}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(n){this.destination.error(n);return}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){this.destination.error(e);return}return this.destination.complete()},t}(Le);const Sy=r=>Ee.create(t=>{Pe("ble-verbose","start monitor "+r.uuid);function e(n){const o=n.target;o.value&&t.next(Buffer.from(o.value.buffer))}return r.startNotifications().then(()=>{r.addEventListener("characteristicvaluechanged",e)}),()=>{Pe("ble-verbose","end monitor "+r.uuid),r.stopNotifications()}}),Oi=()=>{const{bluetooth:r}=navigator;if(typeof r=="undefined")throw new Error("web bluetooth not supported");return r},Dy=()=>Ee.create(r=>{const t=Oi(),e=o=>{r.next(o.value)};t.addEventListener("availabilitychanged",e);let n=!1;return t.getAvailability().then(o=>{n||r.next(o)}),()=>{n=!0,t.removeEventListener("availabilitychanged",e)}}),Cn={},ru=()=>({filters:iv().map(r=>({services:[r]}))}),Iy=async r=>{if(!r.gatt)throw new Error("bluetooth gatt not found");const[t]=await r.gatt.getPrimaryServices();if(!t)throw new Error("bluetooth service not found");const e=ov(t.uuid);if(!e)throw new Error("bluetooth service infos not found");return[t,e]};async function nu(r,t){let e;if(typeof r=="string"){if(Cn[r])return Pe("ble-verbose","Transport in cache, using that."),Cn[r];e=await Oi().requestDevice(ru())}else e=r;e.gatt.connected||(Pe("ble-verbose","not connected. connecting..."),await e.gatt.connect());const[n,o]=await Iy(e),{deviceModel:i,writeUuid:f,notifyUuid:b}=o,[A,k]=await Promise.all([n.getCharacteristic(f),n.getCharacteristic(b)]),N=Sy(k).pipe(By(Ut=>{Pe("ble-frame","<= "+Ut.toString("hex"))}),Cy()),V=N.subscribe(),K=new un(e,A,N,i);if(!e.gatt.connected)throw new Mi;Cn[K.id]=K;const Z=Ut=>{console.log("onDisconnect!",Ut),delete Cn[K.id],K.notYetDisconnected=!1,V.unsubscribe(),e.removeEventListener("gattserverdisconnected",Z),Pe("ble-verbose",`BleTransport(${K.id}) disconnected`),K.emit("disconnect",Ut)};e.addEventListener("gattserverdisconnected",Z);let xt=Date.now();try{await K.inferMTU()}finally{Date.now()-xt<1e3&&(t=!1),t&&(await e.gatt.disconnect(),await new Promise(Ct=>setTimeout(Ct,4e3)))}return t?nu(e,!1):K}class un extends Mr{static listen(t){Pe("ble-verbose","listen...");let e;Oi().requestDevice(ru()).then(async i=>{e||(t.next({type:"add",descriptor:i}),t.complete())},i=>{t.error(new Un(i.message))});function o(){e=!0}return{unsubscribe:o}}static async open(t){return nu(t,!0)}constructor(t,e,n,o){super(),this.id=void 0,this.device=void 0,this.mtuSize=20,this.writeCharacteristic=void 0,this.notifyObservable=void 0,this.notYetDisconnected=!0,this.deviceModel=void 0,this.exchange=i=>this.exchangeAtomicImpl(async()=>{try{const f=i.toString("hex");Pe("apdu",`=> ${f}`);const b=await wo(this.notifyObservable.pipe(eu),tu(this.write,i,this.mtuSize)).toPromise(),A=b.toString("hex");return Pe("apdu",`<= ${A}`),b}catch(f){throw Pe("ble-error","exchange got "+String(f)),this.notYetDisconnected&&this.device.gatt.disconnect(),f}}),this.write=async i=>{Pe("ble-frame","=> "+i.toString("hex")),await this.writeCharacteristic.writeValue(i)},this.id=t.id,this.device=t,this.writeCharacteristic=e,this.notifyObservable=n,this.deviceModel=o,Pe("ble-verbose",`BleTransport(${String(this.id)}) new instance`)}async inferMTU(){let t=23;if(await this.exchangeAtomicImpl(async()=>{try{t=await wo(this.notifyObservable.pipe(gy(e=>e.readUInt8(0)===8),Wr(e=>e.readUInt8(5))),ns(()=>Vr(this.write(Buffer.from([8,0,0,0,0])))).pipe(wy())).toPromise()+3}catch(e){throw Pe("ble-error","inferMTU got "+String(e)),this.device.gatt.disconnect(),e}}),t>23){const e=t-3;Pe("ble-verbose",`BleTransport(${String(this.id)}) mtu set to ${String(e)}`),this.mtuSize=e}return this.mtuSize}setScrambleKey(){}async close(){this.exchangeBusyPromise&&await this.exchangeBusyPromise}}un.isSupported=()=>Promise.resolve().then(Oi).then(()=>!0,()=>!1);un.observeAvailability=r=>Dy.subscribe(r);un.list=()=>Promise.resolve([]);un.disconnect=async r=>{Pe("ble-verbose",`user disconnect(${r})`);const t=Cn[r];t&&t.device.gatt.disconnect()};var Ty=Object.freeze(Object.defineProperty({__proto__:null,default:un},Symbol.toStringTag,{value:"Module"})),Ny=Br(Ty);const Ai=Qe,iu=Ai.Address,ou=He,Ry=lc,su=x0.default,{Contract:au}=cr,fu=A0.default,uu=O0.default,Uy=L0.default,va=G0.default,{BlockSubscription:lu,InMemoryBlockStorage:cu}=Dh,{SubscriptionContract:$y}=Th,ky=pv.default,Oy=wv.default,Ly=Ny.default,hu="0.0.38";class er{constructor(t){this.version=hu,this.utils=Ai,this.Address=iu,this.boc=ou,this.Contract=au,this.BlockSubscription=lu,this.InMemoryBlockStorage=cu,this.provider=t||new su,this.wallet=new fu(this.provider),this.lockupWallet=uu}async getTransactions(t,e=20,n=void 0,o=void 0,i=void 0){return this.provider.getTransactions(t.toString(),e,n,o,i)}async getBalance(t){return this.provider.getBalance(t.toString())}async sendBoc(t){return this.provider.sendBoc(Ai.bytesToBase64(t))}async call(t,e,n=[]){return this.provider.call(t.toString(),e,n)}}er.version=hu;er.utils=Ai;er.Address=iu;er.boc=ou;er.HttpProvider=su;er.Contract=au;er.Wallets=fu;er.LockupWallets=uu;er.SubscriptionContract=$y;er.BlockSubscription=lu;er.InMemoryBlockStorage=cu;er.ledger={TransportWebUSB:ky,TransportWebHID:Oy,BluetoothTransport:Ly,AppTon:Ry};er.token={nft:Uy,ft:va,jetton:va};var fr=er,ln,Je,ma,rn=0,du=[],ya=ee.__b,ga=ee.__r,wa=ee.diffed,ba=ee.__c,xa=ee.unmount;function Wn(r,t){ee.__h&&ee.__h(Je,r,rn||t),rn=0;var e=Je.__H||(Je.__H={__:[],__h:[]});return r>=e.__.length&&e.__.push({}),e.__[r]}function $e(r){return rn=1,pu(mu,r)}function pu(r,t,e){var n=Wn(ln++,2);return n.t=r,n.__c||(n.__=[e?e(t):mu(void 0,t),function(o){var i=n.t(n.__[0],o);n.__[0]!==i&&(n.__=[i,n.__[1]],n.__c.setState({}))}],n.__c=Je),n.__}function ze(r,t){var e=Wn(ln++,3);!ee.__s&&os(e.__H,t)&&(e.__=r,e.__H=t,Je.__H.__h.push(e))}function Li(r,t){var e=Wn(ln++,4);!ee.__s&&os(e.__H,t)&&(e.__=r,e.__H=t,Je.__h.push(e))}function mr(r){return rn=5,Vn(function(){return{current:r}},[])}function vu(r,t,e){rn=6,Li(function(){return typeof r=="function"?(r(t()),function(){return r(null)}):r?(r.current=t(),function(){return r.current=null}):void 0},e==null?e:e.concat(r))}function Vn(r,t){var e=Wn(ln++,7);return os(e.__H,t)&&(e.__=r(),e.__H=t,e.__h=r),e.__}function Dr(r,t){return rn=8,Vn(function(){return r},t)}function Py(r){var t=Je.context[r.__c],e=Wn(ln++,9);return e.c=r,t?(e.__==null&&(e.__=!0,t.sub(Je)),t.props.value):r.__}function jy(r,t){ee.useDebugValue&&ee.useDebugValue(t?t(r):r)}function qy(){for(var r;r=du.shift();)if(r.__P)try{r.__H.__h.forEach(fi),r.__H.__h.forEach(Eo),r.__H.__h=[]}catch(t){r.__H.__h=[],ee.__e(t,r.__v)}}ee.__b=function(r){Je=null,ya&&ya(r)},ee.__r=function(r){ga&&ga(r),ln=0;var t=(Je=r.__c).__H;t&&(t.__h.forEach(fi),t.__h.forEach(Eo),t.__h=[])},ee.diffed=function(r){wa&&wa(r);var t=r.__c;t&&t.__H&&t.__H.__h.length&&(du.push(t)!==1&&ma===ee.requestAnimationFrame||((ma=ee.requestAnimationFrame)||function(e){var n,o=function(){clearTimeout(i),Ea&&cancelAnimationFrame(n),setTimeout(e)},i=setTimeout(o,100);Ea&&(n=requestAnimationFrame(o))})(qy)),Je=null},ee.__c=function(r,t){t.some(function(e){try{e.__h.forEach(fi),e.__h=e.__h.filter(function(n){return!n.__||Eo(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ee.__e(n,e.__v)}}),ba&&ba(r,t)},ee.unmount=function(r){xa&&xa(r);var t,e=r.__c;e&&e.__H&&(e.__H.__.forEach(function(n){try{fi(n)}catch(o){t=o}}),t&&ee.__e(t,e.__v))};var Ea=typeof requestAnimationFrame=="function";function fi(r){var t=Je,e=r.__c;typeof e=="function"&&(r.__c=void 0,e()),Je=t}function Eo(r){var t=Je;r.__c=r.__(),Je=t}function os(r,t){return!r||r.length!==t.length||t.some(function(e,n){return e!==r[n]})}function mu(r,t){return typeof t=="function"?t(r):t}function yu(r,t){for(var e in t)r[e]=t[e];return r}function _o(r,t){for(var e in r)if(e!=="__source"&&!(e in t))return!0;for(var n in t)if(n!=="__source"&&r[n]!==t[n])return!0;return!1}function Ao(r){this.props=r}function Hy(r,t){function e(o){var i=this.props.ref,f=i==o.ref;return!f&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!f:_o(this.props,o)}function n(o){return this.shouldComponentUpdate=e,lr(r,o)}return n.displayName="Memo("+(r.displayName||r.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(Ao.prototype=new ur).isPureReactComponent=!0,Ao.prototype.shouldComponentUpdate=function(r,t){return _o(this.props,r)||_o(this.state,t)};var _a=ee.__b;ee.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),_a&&_a(r)};var Wy=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function gu(r){function t(e,n){var o=yu({},e);return delete o.ref,r(o,!(n=e.ref||n)||typeof n=="object"&&Object.keys(n).length===0?null:n)}return t.$$typeof=Wy,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(r.displayName||r.name)+")",t}var Aa=function(r,t){return r==null?null:gr(gr(r).map(t))},Vy={map:Aa,forEach:Aa,count:function(r){return r?gr(r).length:0},only:function(r){var t=gr(r);if(t.length!==1)throw"Children.only";return t[0]},toArray:gr},Ky=ee.__e;ee.__e=function(r,t,e,n){if(r.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=e.__e,t.__k=e.__k),o.__c(r,t)}Ky(r,t,e,n)};var Ca=ee.unmount;function ui(){this.__u=0,this.t=null,this.__b=null}function wu(r){var t=r.__.__c;return t&&t.__e&&t.__e(r)}function Gy(r){var t,e,n;function o(i){if(t||(t=r()).then(function(f){e=f.default||f},function(f){n=f}),n)throw n;if(!e)throw t;return lr(e,i)}return o.displayName="Lazy",o.__f=!0,o}function Bn(){this.u=null,this.o=null}ee.unmount=function(r){var t=r.__c;t&&t.__R&&t.__R(),t&&r.__h===!0&&(r.type=null),Ca&&Ca(r)},(ui.prototype=new ur).__c=function(r,t){var e=t.__c,n=this;n.t==null&&(n.t=[]),n.t.push(e);var o=wu(n.__v),i=!1,f=function(){i||(i=!0,e.__R=null,o?o(b):b())};e.__R=f;var b=function(){if(!--n.__u){if(n.state.__e){var k=n.state.__e;n.__v.__k[0]=function V(K,Z,xt){return K&&(K.__v=null,K.__k=K.__k&&K.__k.map(function(Ut){return V(Ut,Z,xt)}),K.__c&&K.__c.__P===Z&&(K.__e&&xt.insertBefore(K.__e,K.__d),K.__c.__e=!0,K.__c.__P=xt)),K}(k,k.__c.__P,k.__c.__O)}var N;for(n.setState({__e:n.__b=null});N=n.t.pop();)N.forceUpdate()}},A=t.__h===!0;n.__u++||A||n.setState({__e:n.__b=n.__v.__k[0]}),r.then(f,f)},ui.prototype.componentWillUnmount=function(){this.t=[]},ui.prototype.render=function(r,t){if(this.__b){if(this.__v.__k){var e=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function i(f,b,A){return f&&(f.__c&&f.__c.__H&&(f.__c.__H.__.forEach(function(k){typeof k.__c=="function"&&k.__c()}),f.__c.__H=null),(f=yu({},f)).__c!=null&&(f.__c.__P===A&&(f.__c.__P=b),f.__c=null),f.__k=f.__k&&f.__k.map(function(k){return i(k,b,A)})),f}(this.__b,e,n.__O=n.__P)}this.__b=null}var o=t.__e&&lr(Cr,null,r.fallback);return o&&(o.__h=null),[lr(Cr,null,t.__e?null:r.children),o]};var Ba=function(r,t,e){if(++e[1]===e[0]&&r.o.delete(t),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.o.size))for(e=r.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;r.u=e=e[2]}};function Yy(r){return this.getChildContext=function(){return r.context},r.children}function Xy(r){var t=this,e=r.i;t.componentWillUnmount=function(){qr(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),r.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,o){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),qr(lr(Yy,{context:t.context},r.__v),t.l)):t.l&&t.componentWillUnmount()}function zy(r,t){return lr(Xy,{__v:r,i:t})}(Bn.prototype=new ur).__e=function(r){var t=this,e=wu(t.__v),n=t.o.get(r);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),Ba(t,r,n)):o()};e?e(i):i()}},Bn.prototype.render=function(r){this.u=null,this.o=new Map;var t=gr(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return r.children},Bn.prototype.componentDidUpdate=Bn.prototype.componentDidMount=function(){var r=this;this.o.forEach(function(t,e){Ba(r,e,t)})};var bu=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Zy=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Jy=typeof document!="undefined",Qy=function(r){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(r)};function tg(r,t,e){return t.__k==null&&(t.textContent=""),qr(r,t),typeof e=="function"&&e(),r?r.__c:null}function eg(r,t,e){return Fo(r,t),typeof e=="function"&&e(),r?r.__c:null}ur.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(ur.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(t){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:t})}})});var Ma=ee.event;function rg(){}function ng(){return this.cancelBubble}function ig(){return this.defaultPrevented}ee.event=function(r){return Ma&&(r=Ma(r)),r.persist=rg,r.isPropagationStopped=ng,r.isDefaultPrevented=ig,r.nativeEvent=r};var xu,Fa={configurable:!0,get:function(){return this.class}},Sa=ee.vnode;ee.vnode=function(r){var t=r.type,e=r.props,n=e;if(typeof t=="string"){var o=t.indexOf("-")===-1;for(var i in n={},e){var f=e[i];Jy&&i==="children"&&t==="noscript"||i==="value"&&"defaultValue"in e&&f==null||(i==="defaultValue"&&"value"in e&&e.value==null?i="value":i==="download"&&f===!0?f="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!Qy(e.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&Zy.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():f===null&&(f=void 0),n[i]=f)}t=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=gr(e.children).forEach(function(b){b.props.selected=n.value.indexOf(b.props.value)!=-1})),t=="select"&&n.defaultValue!=null&&(n.value=gr(e.children).forEach(function(b){b.props.selected=n.multiple?n.defaultValue.indexOf(b.props.value)!=-1:n.defaultValue==b.props.value})),r.props=n,e.class!=e.className&&(Fa.enumerable="className"in e,e.className!=null&&(n.class=e.className),Object.defineProperty(n,"className",Fa))}r.$$typeof=bu,Sa&&Sa(r)};var Da=ee.__r;ee.__r=function(r){Da&&Da(r),xu=r.__c};var og={ReactCurrentDispatcher:{current:{readContext:function(r){return xu.__n[r.__c].props.value}}}};function sg(r){return lr.bind(null,r)}function Eu(r){return!!r&&r.$$typeof===bu}function ag(r){return Eu(r)?Za.apply(null,arguments):r}function fg(r){return!!r.__k&&(qr(null,r),!0)}function ug(r){return r&&(r.base||r.nodeType===1&&r)||null}var lg=function(r,t){return r(t)},cg=function(r,t){return r(t)},pr={useState:$e,useReducer:pu,useEffect:ze,useLayoutEffect:Li,useRef:mr,useImperativeHandle:vu,useMemo:Vn,useCallback:Dr,useContext:Py,useDebugValue:jy,version:"17.0.2",Children:Vy,render:tg,hydrate:eg,unmountComponentAtNode:fg,createPortal:zy,createElement:lr,createContext:Ja,createFactory:sg,cloneElement:ag,createRef:Ha,Fragment:Cr,isValidElement:Eu,findDOMNode:ug,Component:ur,PureComponent:Ao,memo:Hy,forwardRef:gu,flushSync:cg,unstable_batchedUpdates:lg,StrictMode:Cr,Suspense:ui,SuspenseList:Bn,lazy:Gy,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:og};function kn(){return kn=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},kn.apply(this,arguments)}typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var hg=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?Li:ze,dg=function(t){var e=mr(t);return hg(function(){e.current=t}),Dr(function(){return e.current},[e])},pg={status:"not-requested",loading:!1,result:void 0,error:void 0},_u={status:"loading",loading:!0,result:void 0,error:void 0},vg=function(t){return _u},mg=function(t,e){return{status:"success",loading:!1,result:t,error:void 0}},yg=function(t,e){return{status:"error",loading:!1,result:void 0,error:t}},Ia=function(){},gg={initialState:function(t){return t&&t.executeOnMount?_u:pg},executeOnMount:!0,executeOnUpdate:!0,setLoading:vg,setResult:mg,setError:yg,onSuccess:Ia,onError:Ia},wg=function(t){return kn({},gg,{},t)},bg=function(t){var e=$e(function(){return t.initialState(t)}),n=e[0],o=e[1],i=Dr(function(){return o(t.initialState(t))},[o,t]),f=Dr(function(){return o(t.setLoading(n))},[n,o]),b=Dr(function(N){return o(t.setResult(N,n))},[n,o]),A=Dr(function(N){return o(t.setError(N,n))},[n,o]),k=Dr(function(N){return o(kn({},n,{},N))},[n,o]);return{value:n,set:o,merge:k,reset:i,setLoading:f,setResult:b,setError:A}},xg=function(){var t=mr(!1);return ze(function(){return t.current=!0,function(){t.current=!1}},[]),function(){return t.current}},Eg=function(){var t=mr(null);return{set:function(n){return t.current=n},get:function(){return t.current},is:function(n){return t.current===n}}},_g=function(t,e,n){!e&&(e=[]);var o=wg(n),i=$e(null),f=i[0],b=i[1],A=bg(o),k=xg(),N=Eg(),V=function(Dt){return k()&&N.is(Dt)},K=function(){for(var Dt=arguments.length,Gt=new Array(Dt),ue=0;ue<Dt;ue++)Gt[ue]=arguments[ue];var le=function(){try{return Promise.resolve(t.apply(void 0,Gt))}catch($t){return Promise.reject($t)}}();return b(Gt),N.set(le),A.setLoading(),le.then(function($t){V(le)&&A.setResult($t),o.onSuccess($t,{isCurrent:function(){return N.is(le)}})},function($t){V(le)&&A.setError($t),o.onError($t,{isCurrent:function(){return N.is(le)}})}),le},Z=dg(K),xt=Dr(function(){return Z().apply(void 0,arguments)},[Z]),Ut=!k();return ze(function(){var Ct=function(){return Z().apply(void 0,e)};Ut&&o.executeOnMount&&Ct(),!Ut&&o.executeOnUpdate&&Ct()},e),kn({},A.value,{set:A.set,merge:A.merge,reset:A.reset,execute:xt,currentPromise:N.get(),currentParams:f})};function Ag(r,t,e){return _g(r,t,e)}const Au=(r=null,t=!1)=>{const e=r?`?api_key=${r}`:"",n=t?"https://testnet.toncenter.com/api/v2/jsonRPC":"https://toncenter.com/api/v2/jsonRPC";return new fr.HttpProvider(`${n}${e}`)},cn={};cn.write=async r=>{await navigator.clipboard.writeText(r)};cn.read=async()=>navigator.clipboard.readText();cn.readSync=()=>{throw new Error("`.readSync()` is not supported in browsers!")};cn.writeSync=()=>{throw new Error("`.writeSync()` is not supported in browsers!")};var Cg=Br(Yu),Cu,Bu,Mu,Co=Cg,Bg=0;function Ta(r,t,e,n,o){var i,f,b={};for(f in t)f=="ref"?i=t[f]:b[f]=t[f];var A={type:r,props:b,key:e,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Bg,__source:o,__self:n};if(typeof r=="function"&&(i=r.defaultProps))for(f in i)b[f]===void 0&&(b[f]=i[f]);return Co.options.vnode&&Co.options.vnode(A),A}Mu=Co.Fragment,Bu=Ta,Cu=Ta;const Rt=Bu,xe=Cu,Mg=Mu;function Fu(){return Rt("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 64 64",enableBackground:"new 0 0 64 64",xmlSpace:"preserve",children:xe("g",{id:"Text-files",children:[Rt("path",{d:"M53.9791489,9.1429005H50.010849c-0.0826988,0-0.1562004,0.0283995-0.2331009,0.0469999V5.0228   C49.7777481,2.253,47.4731483,0,44.6398468,0h-34.422596C7.3839517,0,5.0793519,2.253,5.0793519,5.0228v46.8432999   c0,2.7697983,2.3045998,5.0228004,5.1378999,5.0228004h6.0367002v2.2678986C16.253952,61.8274002,18.4702511,64,21.1954517,64   h32.783699c2.7252007,0,4.9414978-2.1725998,4.9414978-4.8432007V13.9861002   C58.9206467,11.3155003,56.7043495,9.1429005,53.9791489,9.1429005z M7.1110516,51.8661003V5.0228   c0-1.6487999,1.3938999-2.9909999,3.1062002-2.9909999h34.422596c1.7123032,0,3.1062012,1.3422,3.1062012,2.9909999v46.8432999   c0,1.6487999-1.393898,2.9911003-3.1062012,2.9911003h-34.422596C8.5049515,54.8572006,7.1110516,53.5149002,7.1110516,51.8661003z    M56.8888474,59.1567993c0,1.550602-1.3055,2.8115005-2.9096985,2.8115005h-32.783699   c-1.6042004,0-2.9097996-1.2608986-2.9097996-2.8115005v-2.2678986h26.3541946   c2.8333015,0,5.1379013-2.2530022,5.1379013-5.0228004V11.1275997c0.0769005,0.0186005,0.1504021,0.0469999,0.2331009,0.0469999   h3.9682999c1.6041985,0,2.9096985,1.2609005,2.9096985,2.8115005V59.1567993z"}),Rt("path",{d:"M38.6031494,13.2063999H16.253952c-0.5615005,0-1.0159006,0.4542999-1.0159006,1.0158005   c0,0.5615997,0.4544001,1.0158997,1.0159006,1.0158997h22.3491974c0.5615005,0,1.0158997-0.4542999,1.0158997-1.0158997   C39.6190491,13.6606998,39.16465,13.2063999,38.6031494,13.2063999z"}),Rt("path",{d:"M38.6031494,21.3334007H16.253952c-0.5615005,0-1.0159006,0.4542999-1.0159006,1.0157986   c0,0.5615005,0.4544001,1.0159016,1.0159006,1.0159016h22.3491974c0.5615005,0,1.0158997-0.454401,1.0158997-1.0159016   C39.6190491,21.7877007,39.16465,21.3334007,38.6031494,21.3334007z"}),Rt("path",{d:"M38.6031494,29.4603004H16.253952c-0.5615005,0-1.0159006,0.4543991-1.0159006,1.0158997   s0.4544001,1.0158997,1.0159006,1.0158997h22.3491974c0.5615005,0,1.0158997-0.4543991,1.0158997-1.0158997   S39.16465,29.4603004,38.6031494,29.4603004z"}),Rt("path",{d:"M28.4444485,37.5872993H16.253952c-0.5615005,0-1.0159006,0.4543991-1.0159006,1.0158997   s0.4544001,1.0158997,1.0159006,1.0158997h12.1904964c0.5615025,0,1.0158005-0.4543991,1.0158005-1.0158997   S29.0059509,37.5872993,28.4444485,37.5872993z"})]})})}function Su(){return Rt("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 490.4 490.4",style:"enable-background:new 0 0 490.4 490.4;",xmlSpace:"preserve",children:Rt("g",{children:xe("g",{children:[Rt("path",{d:"M245.2,490.4c135.2,0,245.2-110,245.2-245.2S380.4,0,245.2,0S0,110,0,245.2S110,490.4,245.2,490.4z M245.2,24.5    c121.7,0,220.7,99,220.7,220.7s-99,220.7-220.7,220.7s-220.7-99-220.7-220.7S123.5,24.5,245.2,24.5z"}),Rt("path",{d:"M206.5,349.6c2.3,2.3,5.4,3.6,8.7,3.6l0,0c3.2,0,6.3-1.3,8.6-3.6l147.5-146.7c2.3-2.3,3.6-5.4,3.6-8.7    c0-3.2-1.3-6.4-3.6-8.7l-44.6-44.8c-4.8-4.8-12.5-4.8-17.3-0.1l-94,93.5l-34.2-34.4c-2.3-2.3-5.4-3.6-8.7-3.6l0,0    c-3.2,0-6.3,1.3-8.6,3.6l-44.8,44.6c-2.3,2.3-3.6,5.4-3.6,8.7c0,3.2,1.3,6.4,3.6,8.7L206.5,349.6z M172.5,225.7l34.3,34.5    c4.8,4.8,12.5,4.8,17.3,0.1l94-93.5l27.3,27.4L215.3,323.6L145.1,253L172.5,225.7z"})]})})})}function li({address:r,text:t}){const[e,n]=$e(!1);return xe("div",{class:"flex justify-start items-center cursor-pointer",onClick:()=>{cn.write(r),n(!0),setTimeout(()=>{n(!1)},1e3)},children:[Rt("div",{className:"",children:t}),Rt("div",{className:"text-[12px]",children:r}),Rt("div",{className:"ml-auto",children:Rt("button",{className:"w-6 h-6",children:e?Rt(Su,{}):Rt(Fu,{})})})]})}function Nn(){return Nn=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Nn.apply(this,arguments)}var Fg=function(t,e){e===void 0&&(e=!0),ze(function(){if(!!e){var n=function(i){i.key==="Escape"&&t(i)};return document.addEventListener("keyup",n),function(){!e||document.removeEventListener("keyup",n)}}},[t,e])},Sg=function(t,e){e===void 0&&(e=!0),ze(function(){if(!!e){var n=function(){t()};return window.addEventListener("resize",n),function(){!e||window.removeEventListener("resize",n)}}},[t,e])},Dg=function(t,e,n){n===void 0&&(n=!0),ze(function(){if(!!n){var o=function(f){var b=Array.isArray(t)?t:[t],A=!1;b.forEach(function(k){if(!k.current||k.current.contains(f.target)){A=!0;return}}),f.stopPropagation(),A||e(f)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),function(){!n||(document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o))}}},[t,e,n])},Ig=function(t,e){e===void 0&&(e=!0),ze(function(){if(!!e){var n=function(i){if(i.keyCode===9){var f,b=t==null||(f=t.current)===null||f===void 0?void 0:f.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),A=Array.prototype.slice.call(b);if(A.length===1){i.preventDefault();return}var k=A[0],N=A[A.length-1];i.shiftKey&&document.activeElement===k?(i.preventDefault(),N.focus()):document.activeElement===N&&(i.preventDefault(),k.focus())}};return document.addEventListener("keydown",n),function(){!e||document.removeEventListener("keydown",n)}}},[t,e])},Tg=typeof window!="undefined"?Li:ze,An={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},Ng=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],Rg=function(t,e,n,o,i){var f=i.offsetX,b=i.offsetY,A=o?8:0,k=n.split(" "),N=t.top+t.height/2,V=t.left+t.width/2,K=e.height,Z=e.width,xt=N-K/2,Ut=V-Z/2,Ct="",Dt="0%",Gt="0%";switch(k[0]){case"top":xt-=K/2+t.height/2+A,Ct="rotate(180deg)  translateX(50%)",Dt="100%",Gt="50%";break;case"bottom":xt+=K/2+t.height/2+A,Ct="rotate(0deg) translateY(-100%) translateX(-50%)",Gt="50%";break;case"left":Ut-=Z/2+t.width/2+A,Ct=" rotate(90deg)  translateY(50%) translateX(-25%)",Gt="100%",Dt="50%";break;case"right":Ut+=Z/2+t.width/2+A,Ct="rotate(-90deg)  translateY(-150%) translateX(25%)",Dt="50%";break}switch(k[1]){case"top":xt=t.top,Dt=t.height/2+"px";break;case"bottom":xt=t.top-K+t.height,Dt=K-t.height/2+"px";break;case"left":Ut=t.left,Gt=t.width/2+"px";break;case"right":Ut=t.left-Z+t.width,Gt=Z-t.width/2+"px";break}return xt=k[0]==="top"?xt-b:xt+b,Ut=k[0]==="left"?Ut-f:Ut+f,{top:xt,left:Ut,transform:Ct,arrowLeft:Gt,arrowTop:Dt}},Ug=function(t){var e={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if(typeof t=="string"){var n=document.querySelector(t);n!==null&&(e=n.getBoundingClientRect())}return e},$g=function(t,e,n,o,i,f){var b=i.offsetX,A=i.offsetY,k={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},N=0,V=Ug(f),K=Array.isArray(n)?n:[n];for((f||Array.isArray(n))&&(K=[].concat(K,Ng));N<K.length;){k=Rg(t,e,K[N],o,{offsetX:b,offsetY:A});var Z={top:k.top,left:k.left,width:e.width,height:e.height};if(Z.top<=V.top||Z.left<=V.left||Z.top+Z.height>=V.top+V.height||Z.left+Z.width>=V.left+V.width)N++;else break}return k},kg=0,Og=function(){var t=document.getElementById("popup-root");return t===null&&(t=document.createElement("div"),t.setAttribute("id","popup-root"),document.body.appendChild(t)),t},Du=gu(function(r,t){var e=r.trigger,n=e===void 0?null:e,o=r.onOpen,i=o===void 0?function(){}:o,f=r.onClose,b=f===void 0?function(){}:f,A=r.defaultOpen,k=A===void 0?!1:A,N=r.open,V=N===void 0?void 0:N,K=r.disabled,Z=K===void 0?!1:K,xt=r.nested,Ut=xt===void 0?!1:xt,Ct=r.closeOnDocumentClick,Dt=Ct===void 0?!0:Ct,Gt=r.repositionOnResize,ue=Gt===void 0?!0:Gt,le=r.closeOnEscape,$t=le===void 0?!0:le,re=r.on,ne=re===void 0?["click"]:re,Jt=r.contentStyle,Ce=Jt===void 0?{}:Jt,S=r.arrowStyle,l=S===void 0?{}:S,c=r.overlayStyle,s=c===void 0?{}:c,u=r.className,d=u===void 0?"":u,x=r.position,_=x===void 0?"bottom center":x,E=r.modal,h=E===void 0?!1:E,w=r.lockScroll,v=w===void 0?!1:w,U=r.arrow,lt=U===void 0?!0:U,gt=r.offsetX,mt=gt===void 0?0:gt,Ht=r.offsetY,de=Ht===void 0?0:Ht,jt=r.mouseEnterDelay,oe=jt===void 0?100:jt,he=r.mouseLeaveDelay,Ft=he===void 0?100:he,ce=r.keepTooltipInside,_e=ce===void 0?!1:ce,Qt=r.children,Be=$e(V||k),me=Be[0],ie=Be[1],ye=mr(null),se=mr(null),zt=mr(null),Ae=mr(null),pe=mr("popup-"+ ++kg),Pt=h?!0:!n,be=mr(0);Tg(function(){return me?(Ae.current=document.activeElement,kt(),it(),H()):G(),function(){clearTimeout(be.current)}},[me]),ze(function(){typeof V=="boolean"&&(V?ve():Xt())},[V,Z]);var ve=function(F){me||Z||(ie(!0),setTimeout(function(){return i(F)},0))},Xt=function(F){var R;!me||Z||(ie(!1),Pt&&((R=Ae.current)===null||R===void 0||R.focus()),setTimeout(function(){return b(F)},0))},I=function(F){F==null||F.stopPropagation(),me?Xt(F):ve(F)},p=function(F){clearTimeout(be.current),be.current=setTimeout(function(){return ve(F)},oe)},g=function(F){F==null||F.preventDefault(),I()},$=function(F){clearTimeout(be.current),be.current=setTimeout(function(){return Xt(F)},Ft)},H=function(){Pt&&v&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},G=function(){Pt&&v&&(document.getElementsByTagName("body")[0].style.overflow="auto")},it=function(){var F,R=se==null||(F=se.current)===null||F===void 0?void 0:F.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),T=Array.prototype.slice.call(R)[0];T==null||T.focus()};vu(t,function(){return{open:function(){ve()},close:function(){Xt()},toggle:function(){I()}}});var kt=function(){if(!(Pt||!me)&&!(!(ye!=null&&ye.current)||!(ye!=null&&ye.current)||!(se!=null&&se.current))){var F=ye.current.getBoundingClientRect(),R=se.current.getBoundingClientRect(),T=$g(F,R,_,lt,{offsetX:mt,offsetY:de},_e);if(se.current.style.top=T.top+window.scrollY+"px",se.current.style.left=T.left+window.scrollX+"px",lt&&!!zt.current){var m,B;zt.current.style.transform=T.transform,zt.current.style.setProperty("-ms-transform",T.transform),zt.current.style.setProperty("-webkit-transform",T.transform),zt.current.style.top=((m=l.top)===null||m===void 0?void 0:m.toString())||T.arrowTop,zt.current.style.left=((B=l.left)===null||B===void 0?void 0:B.toString())||T.arrowLeft}}};Fg(Xt,$t),Ig(se,me&&Pt),Sg(kt,ue),Dg(n?[se,ye]:[se],Xt,Dt&&!Ut);var Nt=function(){for(var F={key:"T",ref:ye,"aria-describedby":pe.current},R=Array.isArray(ne)?ne:[ne],T=0,m=R.length;T<m;T++)switch(R[T]){case"click":F.onClick=I;break;case"right-click":F.onContextMenu=g;break;case"hover":F.onMouseEnter=p,F.onMouseLeave=$;break;case"focus":F.onFocus=p,F.onBlur=$;break}if(typeof n=="function"){var B=n(me);return!!n&&pr.cloneElement(B,F)}return!!n&&pr.cloneElement(n,F)},qt=function(){var F=Pt?An.popupContent.modal:An.popupContent.tooltip,R={className:"popup-content "+(d!==""?d.split(" ").map(function(T){return T+"-content"}).join(" "):""),style:Nn({},F,Ce,{pointerEvents:"auto"}),ref:se,onClick:function(m){m.stopPropagation()}};return!h&&ne.indexOf("hover")>=0&&(R.onMouseEnter=p,R.onMouseLeave=$),R},Yt=function(){return pr.createElement("div",Object.assign({},qt(),{key:"C",role:Pt?"dialog":"tooltip",id:pe.current}),lt&&!Pt&&pr.createElement("div",{ref:zt,style:An.popupArrow},pr.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(d!==""?d.split(" ").map(function(F){return F+"-arrow"}).join(" "):""),viewBox:"0 0 32 16",style:Nn({position:"absolute"},l)},pr.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),Qt&&typeof Qt=="function"?Qt(Xt,me):Qt)},St=!(ne.indexOf("hover")>=0),Me=Pt?An.overlay.modal:An.overlay.tooltip,ge=[St&&pr.createElement("div",{key:"O","data-testid":"overlay","data-popup":Pt?"modal":"tooltip",className:"popup-overlay "+(d!==""?d.split(" ").map(function(Wt){return Wt+"-overlay"}).join(" "):""),style:Nn({},Me,s,{pointerEvents:Dt&&Ut||Pt?"auto":"none"}),onClick:Dt&&Ut?Xt:void 0,tabIndex:-1},Pt&&Yt()),!Pt&&Yt()];return pr.createElement(pr.Fragment,null,Nt(),me&&pr.createPortal(ge,Og()))});function _r({onClick:r,children:t,className:e}){return Rt("button",{className:e+" bg-highlight rounded px-2 py-2 w-48 text-white",onClick:r,children:t})}function Lg({seqno:r,wallet:t,testnet:e,updateBalance:n}){const[o,i]=$e("0"),[f,b]=$e("");return ze(()=>{i("0"),b("")},[t,e]),xe("div",{className:"flex flex-col",children:[Rt("div",{className:"font-medium text-lg text-accent my-2",children:"Send TON:"}),xe("div",{className:"mt-2 flex flex-col",children:[Rt("label",{htmlFor:"toInput",children:"Recepient:"}),Rt("input",{className:"border rounded p-2",id:"toInput",type:"text",value:f,onChange:A=>b(A.target.value)})]}),xe("div",{className:"mt-2 flex flex-col",children:[Rt("label",{htmlFor:"amountInput",children:"Amount:"}),Rt("input",{className:"border rounded p-2",id:"amountInput",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:o,onChange:A=>i(A.target.value)})]}),Rt(Pg,{amount:o,recepient:f,wallet:t,seqno:r,updateBalance:n})]})}const Pg=({amount:r,recepient:t,wallet:e,seqno:n,updateBalance:o})=>{const[i,f]=$e(0),[b,A]=$e(0),[k,N]=$e(""),V=()=>{f(0),A(0),N("")},K=async(xt,Ut,Ct)=>{const Dt=await e.wallet.methods.seqno().call();if(Dt&&Dt===xt+1){f(2),Ct&&clearInterval(Ct),o();return}Ut===0&&(f(3),Ct&&clearInterval(Ct),N("Send Timeout, seqno not increased"))},Z=async()=>{const xt={amount:fr.utils.toNano(r),seqno:parseInt(n),secretKey:e.key.secretKey,toAddress:t,sendMode:3};try{const Gt=await e.wallet.methods.transfer(xt).send();if(Gt["@type"]==="error"){f(3),N(`Error occured. Code: ${Gt.code}. Message: ${Gt.message}`);return}}catch(Gt){f(3),Gt instanceof Error?N("Error occured: "+Gt.message):N("Unknown Error occured");return}let Ut=30;const Ct=parseInt(n),Dt=setInterval(()=>{A(--Ut),Ut%5===0&&K(Ct,Ut,Dt),Ut===0&&Dt&&clearInterval(Dt)},1e3);f(1),A(Ut)};return Rt(Du,{onOpen:V,onClose:V,closeOnDocumentClick:!0,trigger:Rt(_r,{className:"mt-2",children:"Send"}),modal:!0,close,children:xt=>xe("div",{className:"p-4",children:[i===0&&xe("div",{className:"flex flex-col",children:[xe("div",{children:["You will send ",r," TON to ",t,"."]}),Rt("div",{className:"mt-4",children:"Are you sure?"}),xe("div",{className:"flex mt-2",children:[Rt(_r,{onClick:()=>Z(),children:"Yes"}),Rt(_r,{onClick:()=>xt(),className:"ml-2",children:"Cancel"})]})]}),i===1&&xe("div",{children:["Sending ",b]}),i===2&&xe("div",{children:[Rt("div",{children:"Success"}),Rt(_r,{className:"mt-8",onClick:()=>xt(),children:"Close"})]}),i===3&&xe("div",{children:[xe("div",{children:["Error: ",k]}),Rt(_r,{className:"mt-8",onClick:()=>xt(),children:"Close"})]})]})})},{NftItem:jg}=fr.token.nft;function qg({seqno:r,wallet:t,testnet:e,provider:n,updateBalance:o}){const[i,f]=$e(""),[b,A]=$e(""),[k,N]=$e("");return ze(()=>{f(""),A(""),N("")},[t,e]),xe("div",{className:"flex flex-col mt-4",children:[Rt("div",{className:"font-medium text-lg text-accent my-2",children:"Transfer NFT:"}),xe("div",{className:"mt-2 flex flex-col",children:[Rt("label",{htmlFor:"nftAddressInput",children:"NFT Address:"}),Rt("input",{className:"border rounded p-2",id:"nftAddressInput",type:"text",value:i,onChange:V=>f(V.target.value)})]}),xe("div",{className:"mt-2 flex flex-col",children:[Rt("label",{htmlFor:"nftToInput",children:"Recepient:"}),Rt("input",{className:"border rounded p-2",id:"nftToInput",type:"text",value:b,onChange:V=>A(V.target.value)})]}),xe("div",{className:"mt-2 flex flex-col",children:[Rt("label",{htmlFor:"nftMessageInput",children:"Message:"}),Rt("input",{className:"border rounded p-2",id:"nftMessageInput",type:"text",value:k,onChange:V=>N(V.target.value)})]}),Rt(Hg,{nft:i,recepient:b,wallet:t,seqno:r,provider:n,nftMessage:k,updateBalance:o})]})}const Hg=({nft:r,recepient:t,wallet:e,seqno:n,provider:o,nftMessage:i,updateBalance:f})=>{const b=async A=>{const k=new fr.utils.Address(r),N=fr.utils.toNano(.05),V=new jg(o,{address:k});await e.wallet.methods.transfer({secretKey:e.key.secretKey,toAddress:k,amount:N,seqno:parseInt(n),payload:await V.createTransferBody({newOwnerAddress:new fr.utils.Address(t),forwardAmount:fr.utils.toNano(0),forwardPayload:new TextEncoder().encode(i),responseAddress:e.address}),sendMode:3}).send(),f(),A()};return Rt(Du,{trigger:Rt(_r,{className:"mt-2",children:"Send"}),modal:!0,close,children:A=>xe("div",{className:"flex flex-col p-4",children:[xe("div",{children:["You will send ",r," NFT to ",t,"."]}),Rt("div",{className:"mt-4",children:"Are you sure?"}),xe("div",{className:"flex mt-2",children:[Rt("div",{className:"bg-highlight rounded px-2 py-2 text-white cursor-pointer",onClick:()=>b(A),children:"Yes"}),Rt("div",{className:"bg-highlight rounded px-2 py-2 text-white cursor-pointer ml-8",onClick:()=>A(),children:"Cancel"})]})]})})};function Wg({wallet:r,testnet:t,apiKey:e}){const n=Vn(()=>Au(e,t),[e,t]),[o,i]=$e(""),[f,b]=$e("0"),A=async()=>{const N=await r.wallet.methods.seqno().call();b(N?N.toString():"0")},k=()=>{n.getBalance(r.address.toString(!0,!0,!0)).then(N=>i(N))};return ze(()=>{k(),A()},[r,t]),xe("div",{children:[Rt("div",{className:"font-medium text-lg text-accent my-2",children:"Wallet:"}),xe("div",{children:["Type: ",r.type]}),Rt("div",{children:Rt(li,{text:"Address:",address:r.address.toString(!0,!0,!0)})}),xe("div",{className:"flex items-center",children:[xe("div",{children:["Balance: ",o&&fr.utils.fromNano(o)]}),Rt(_r,{onClick:k,className:"ml-2 px-2 py-0 w-auto",children:"Refresh Balance"})]}),xe("div",{className:"mt-2 flex flex-col",children:[Rt("label",{htmlFor:"amountInput",children:"Seqno:"}),xe("div",{children:[Rt("input",{className:"border rounded p-2",id:"amountInput",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f,onChange:N=>b(N.target.value)}),Rt(_r,{onClick:A,className:"ml-2",children:"Get Seqno"})]})]}),Rt(Lg,{seqno:f,wallet:r,testnet:t,updateBalance:k}),Rt(qg,{seqno:f,wallet:r,testnet:t,provider:n,updateBalance:k})]})}var Mn={exports:{}};(function(r,t){(function(e,n){r.exports=n()})(self,function(){return(()=>{var e={780:(f,b,A)=>{(function(k){var N=function(F){var R,T=new Float64Array(16);if(F)for(R=0;R<F.length;R++)T[R]=F[R];return T},V=function(){throw new Error("no PRNG")},K=new Uint8Array(16),Z=new Uint8Array(32);Z[0]=9;var xt=N(),Ut=N([1]),Ct=N([56129,1]),Dt=N([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Gt=N([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),ue=N([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),le=N([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),$t=N([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function re(F,R,T,m){F[R]=T>>24&255,F[R+1]=T>>16&255,F[R+2]=T>>8&255,F[R+3]=255&T,F[R+4]=m>>24&255,F[R+5]=m>>16&255,F[R+6]=m>>8&255,F[R+7]=255&m}function ne(F,R,T,m,B){var q,W=0;for(q=0;q<B;q++)W|=F[R+q]^T[m+q];return(1&W-1>>>8)-1}function Jt(F,R,T,m){return ne(F,R,T,m,16)}function Ce(F,R,T,m){return ne(F,R,T,m,32)}function S(F,R,T,m){(function(B,q,W,at){for(var L,yt=255&at[0]|(255&at[1])<<8|(255&at[2])<<16|(255&at[3])<<24,It=255&W[0]|(255&W[1])<<8|(255&W[2])<<16|(255&W[3])<<24,y=255&W[4]|(255&W[5])<<8|(255&W[6])<<16|(255&W[7])<<24,M=255&W[8]|(255&W[9])<<8|(255&W[10])<<16|(255&W[11])<<24,C=255&W[12]|(255&W[13])<<8|(255&W[14])<<16|(255&W[15])<<24,a=255&at[4]|(255&at[5])<<8|(255&at[6])<<16|(255&at[7])<<24,D=255&q[0]|(255&q[1])<<8|(255&q[2])<<16|(255&q[3])<<24,j=255&q[4]|(255&q[5])<<8|(255&q[6])<<16|(255&q[7])<<24,P=255&q[8]|(255&q[9])<<8|(255&q[10])<<16|(255&q[11])<<24,z=255&q[12]|(255&q[13])<<8|(255&q[14])<<16|(255&q[15])<<24,J=255&at[8]|(255&at[9])<<8|(255&at[10])<<16|(255&at[11])<<24,ot=255&W[16]|(255&W[17])<<8|(255&W[18])<<16|(255&W[19])<<24,dt=255&W[20]|(255&W[21])<<8|(255&W[22])<<16|(255&W[23])<<24,Tt=255&W[24]|(255&W[25])<<8|(255&W[26])<<16|(255&W[27])<<24,ct=255&W[28]|(255&W[29])<<8|(255&W[30])<<16|(255&W[31])<<24,Q=255&at[12]|(255&at[13])<<8|(255&at[14])<<16|(255&at[15])<<24,et=yt,vt=It,ft=y,st=M,ut=C,Mt=a,wt=D,Et=j,bt=P,_t=z,At=J,ht=ot,Y=dt,X=Tt,rt=ct,tt=Q,nt=0;nt<20;nt+=2)et^=(L=(Y^=(L=(bt^=(L=(ut^=(L=et+Y|0)<<7|L>>>25)+et|0)<<9|L>>>23)+ut|0)<<13|L>>>19)+bt|0)<<18|L>>>14,Mt^=(L=(vt^=(L=(X^=(L=(_t^=(L=Mt+vt|0)<<7|L>>>25)+Mt|0)<<9|L>>>23)+_t|0)<<13|L>>>19)+X|0)<<18|L>>>14,At^=(L=(wt^=(L=(ft^=(L=(rt^=(L=At+wt|0)<<7|L>>>25)+At|0)<<9|L>>>23)+rt|0)<<13|L>>>19)+ft|0)<<18|L>>>14,tt^=(L=(ht^=(L=(Et^=(L=(st^=(L=tt+ht|0)<<7|L>>>25)+tt|0)<<9|L>>>23)+st|0)<<13|L>>>19)+Et|0)<<18|L>>>14,et^=(L=(st^=(L=(ft^=(L=(vt^=(L=et+st|0)<<7|L>>>25)+et|0)<<9|L>>>23)+vt|0)<<13|L>>>19)+ft|0)<<18|L>>>14,Mt^=(L=(ut^=(L=(Et^=(L=(wt^=(L=Mt+ut|0)<<7|L>>>25)+Mt|0)<<9|L>>>23)+wt|0)<<13|L>>>19)+Et|0)<<18|L>>>14,At^=(L=(_t^=(L=(bt^=(L=(ht^=(L=At+_t|0)<<7|L>>>25)+At|0)<<9|L>>>23)+ht|0)<<13|L>>>19)+bt|0)<<18|L>>>14,tt^=(L=(rt^=(L=(X^=(L=(Y^=(L=tt+rt|0)<<7|L>>>25)+tt|0)<<9|L>>>23)+Y|0)<<13|L>>>19)+X|0)<<18|L>>>14;et=et+yt|0,vt=vt+It|0,ft=ft+y|0,st=st+M|0,ut=ut+C|0,Mt=Mt+a|0,wt=wt+D|0,Et=Et+j|0,bt=bt+P|0,_t=_t+z|0,At=At+J|0,ht=ht+ot|0,Y=Y+dt|0,X=X+Tt|0,rt=rt+ct|0,tt=tt+Q|0,B[0]=et>>>0&255,B[1]=et>>>8&255,B[2]=et>>>16&255,B[3]=et>>>24&255,B[4]=vt>>>0&255,B[5]=vt>>>8&255,B[6]=vt>>>16&255,B[7]=vt>>>24&255,B[8]=ft>>>0&255,B[9]=ft>>>8&255,B[10]=ft>>>16&255,B[11]=ft>>>24&255,B[12]=st>>>0&255,B[13]=st>>>8&255,B[14]=st>>>16&255,B[15]=st>>>24&255,B[16]=ut>>>0&255,B[17]=ut>>>8&255,B[18]=ut>>>16&255,B[19]=ut>>>24&255,B[20]=Mt>>>0&255,B[21]=Mt>>>8&255,B[22]=Mt>>>16&255,B[23]=Mt>>>24&255,B[24]=wt>>>0&255,B[25]=wt>>>8&255,B[26]=wt>>>16&255,B[27]=wt>>>24&255,B[28]=Et>>>0&255,B[29]=Et>>>8&255,B[30]=Et>>>16&255,B[31]=Et>>>24&255,B[32]=bt>>>0&255,B[33]=bt>>>8&255,B[34]=bt>>>16&255,B[35]=bt>>>24&255,B[36]=_t>>>0&255,B[37]=_t>>>8&255,B[38]=_t>>>16&255,B[39]=_t>>>24&255,B[40]=At>>>0&255,B[41]=At>>>8&255,B[42]=At>>>16&255,B[43]=At>>>24&255,B[44]=ht>>>0&255,B[45]=ht>>>8&255,B[46]=ht>>>16&255,B[47]=ht>>>24&255,B[48]=Y>>>0&255,B[49]=Y>>>8&255,B[50]=Y>>>16&255,B[51]=Y>>>24&255,B[52]=X>>>0&255,B[53]=X>>>8&255,B[54]=X>>>16&255,B[55]=X>>>24&255,B[56]=rt>>>0&255,B[57]=rt>>>8&255,B[58]=rt>>>16&255,B[59]=rt>>>24&255,B[60]=tt>>>0&255,B[61]=tt>>>8&255,B[62]=tt>>>16&255,B[63]=tt>>>24&255})(F,R,T,m)}function l(F,R,T,m){(function(B,q,W,at){for(var L,yt=255&at[0]|(255&at[1])<<8|(255&at[2])<<16|(255&at[3])<<24,It=255&W[0]|(255&W[1])<<8|(255&W[2])<<16|(255&W[3])<<24,y=255&W[4]|(255&W[5])<<8|(255&W[6])<<16|(255&W[7])<<24,M=255&W[8]|(255&W[9])<<8|(255&W[10])<<16|(255&W[11])<<24,C=255&W[12]|(255&W[13])<<8|(255&W[14])<<16|(255&W[15])<<24,a=255&at[4]|(255&at[5])<<8|(255&at[6])<<16|(255&at[7])<<24,D=255&q[0]|(255&q[1])<<8|(255&q[2])<<16|(255&q[3])<<24,j=255&q[4]|(255&q[5])<<8|(255&q[6])<<16|(255&q[7])<<24,P=255&q[8]|(255&q[9])<<8|(255&q[10])<<16|(255&q[11])<<24,z=255&q[12]|(255&q[13])<<8|(255&q[14])<<16|(255&q[15])<<24,J=255&at[8]|(255&at[9])<<8|(255&at[10])<<16|(255&at[11])<<24,ot=255&W[16]|(255&W[17])<<8|(255&W[18])<<16|(255&W[19])<<24,dt=255&W[20]|(255&W[21])<<8|(255&W[22])<<16|(255&W[23])<<24,Tt=255&W[24]|(255&W[25])<<8|(255&W[26])<<16|(255&W[27])<<24,ct=255&W[28]|(255&W[29])<<8|(255&W[30])<<16|(255&W[31])<<24,Q=255&at[12]|(255&at[13])<<8|(255&at[14])<<16|(255&at[15])<<24,et=0;et<20;et+=2)yt^=(L=(dt^=(L=(P^=(L=(C^=(L=yt+dt|0)<<7|L>>>25)+yt|0)<<9|L>>>23)+C|0)<<13|L>>>19)+P|0)<<18|L>>>14,a^=(L=(It^=(L=(Tt^=(L=(z^=(L=a+It|0)<<7|L>>>25)+a|0)<<9|L>>>23)+z|0)<<13|L>>>19)+Tt|0)<<18|L>>>14,J^=(L=(D^=(L=(y^=(L=(ct^=(L=J+D|0)<<7|L>>>25)+J|0)<<9|L>>>23)+ct|0)<<13|L>>>19)+y|0)<<18|L>>>14,Q^=(L=(ot^=(L=(j^=(L=(M^=(L=Q+ot|0)<<7|L>>>25)+Q|0)<<9|L>>>23)+M|0)<<13|L>>>19)+j|0)<<18|L>>>14,yt^=(L=(M^=(L=(y^=(L=(It^=(L=yt+M|0)<<7|L>>>25)+yt|0)<<9|L>>>23)+It|0)<<13|L>>>19)+y|0)<<18|L>>>14,a^=(L=(C^=(L=(j^=(L=(D^=(L=a+C|0)<<7|L>>>25)+a|0)<<9|L>>>23)+D|0)<<13|L>>>19)+j|0)<<18|L>>>14,J^=(L=(z^=(L=(P^=(L=(ot^=(L=J+z|0)<<7|L>>>25)+J|0)<<9|L>>>23)+ot|0)<<13|L>>>19)+P|0)<<18|L>>>14,Q^=(L=(ct^=(L=(Tt^=(L=(dt^=(L=Q+ct|0)<<7|L>>>25)+Q|0)<<9|L>>>23)+dt|0)<<13|L>>>19)+Tt|0)<<18|L>>>14;B[0]=yt>>>0&255,B[1]=yt>>>8&255,B[2]=yt>>>16&255,B[3]=yt>>>24&255,B[4]=a>>>0&255,B[5]=a>>>8&255,B[6]=a>>>16&255,B[7]=a>>>24&255,B[8]=J>>>0&255,B[9]=J>>>8&255,B[10]=J>>>16&255,B[11]=J>>>24&255,B[12]=Q>>>0&255,B[13]=Q>>>8&255,B[14]=Q>>>16&255,B[15]=Q>>>24&255,B[16]=D>>>0&255,B[17]=D>>>8&255,B[18]=D>>>16&255,B[19]=D>>>24&255,B[20]=j>>>0&255,B[21]=j>>>8&255,B[22]=j>>>16&255,B[23]=j>>>24&255,B[24]=P>>>0&255,B[25]=P>>>8&255,B[26]=P>>>16&255,B[27]=P>>>24&255,B[28]=z>>>0&255,B[29]=z>>>8&255,B[30]=z>>>16&255,B[31]=z>>>24&255})(F,R,T,m)}var c=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function s(F,R,T,m,B,q,W){var at,L,yt=new Uint8Array(16),It=new Uint8Array(64);for(L=0;L<16;L++)yt[L]=0;for(L=0;L<8;L++)yt[L]=q[L];for(;B>=64;){for(S(It,yt,W,c),L=0;L<64;L++)F[R+L]=T[m+L]^It[L];for(at=1,L=8;L<16;L++)at=at+(255&yt[L])|0,yt[L]=255&at,at>>>=8;B-=64,R+=64,m+=64}if(B>0)for(S(It,yt,W,c),L=0;L<B;L++)F[R+L]=T[m+L]^It[L];return 0}function u(F,R,T,m,B){var q,W,at=new Uint8Array(16),L=new Uint8Array(64);for(W=0;W<16;W++)at[W]=0;for(W=0;W<8;W++)at[W]=m[W];for(;T>=64;){for(S(L,at,B,c),W=0;W<64;W++)F[R+W]=L[W];for(q=1,W=8;W<16;W++)q=q+(255&at[W])|0,at[W]=255&q,q>>>=8;T-=64,R+=64}if(T>0)for(S(L,at,B,c),W=0;W<T;W++)F[R+W]=L[W];return 0}function d(F,R,T,m,B){var q=new Uint8Array(32);l(q,m,B,c);for(var W=new Uint8Array(8),at=0;at<8;at++)W[at]=m[at+16];return u(F,R,T,W,q)}function x(F,R,T,m,B,q,W){var at=new Uint8Array(32);l(at,q,W,c);for(var L=new Uint8Array(8),yt=0;yt<8;yt++)L[yt]=q[yt+16];return s(F,R,T,m,B,L,at)}var _=function(F){var R,T,m,B,q,W,at,L;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,R=255&F[0]|(255&F[1])<<8,this.r[0]=8191&R,T=255&F[2]|(255&F[3])<<8,this.r[1]=8191&(R>>>13|T<<3),m=255&F[4]|(255&F[5])<<8,this.r[2]=7939&(T>>>10|m<<6),B=255&F[6]|(255&F[7])<<8,this.r[3]=8191&(m>>>7|B<<9),q=255&F[8]|(255&F[9])<<8,this.r[4]=255&(B>>>4|q<<12),this.r[5]=q>>>1&8190,W=255&F[10]|(255&F[11])<<8,this.r[6]=8191&(q>>>14|W<<2),at=255&F[12]|(255&F[13])<<8,this.r[7]=8065&(W>>>11|at<<5),L=255&F[14]|(255&F[15])<<8,this.r[8]=8191&(at>>>8|L<<8),this.r[9]=L>>>5&127,this.pad[0]=255&F[16]|(255&F[17])<<8,this.pad[1]=255&F[18]|(255&F[19])<<8,this.pad[2]=255&F[20]|(255&F[21])<<8,this.pad[3]=255&F[22]|(255&F[23])<<8,this.pad[4]=255&F[24]|(255&F[25])<<8,this.pad[5]=255&F[26]|(255&F[27])<<8,this.pad[6]=255&F[28]|(255&F[29])<<8,this.pad[7]=255&F[30]|(255&F[31])<<8};function E(F,R,T,m,B,q){var W=new _(q);return W.update(T,m,B),W.finish(F,R),0}function h(F,R,T,m,B,q){var W=new Uint8Array(16);return E(W,0,T,m,B,q),Jt(F,R,W,0)}function w(F,R,T,m,B){var q;if(T<32)return-1;for(x(F,0,R,0,T,m,B),E(F,16,F,32,T-32,F),q=0;q<16;q++)F[q]=0;return 0}function v(F,R,T,m,B){var q,W=new Uint8Array(32);if(T<32||(d(W,0,32,m,B),h(R,16,R,32,T-32,W)!==0))return-1;for(x(F,0,R,0,T,m,B),q=0;q<32;q++)F[q]=0;return 0}function U(F,R){var T;for(T=0;T<16;T++)F[T]=0|R[T]}function lt(F){var R,T,m=1;for(R=0;R<16;R++)T=F[R]+m+65535,m=Math.floor(T/65536),F[R]=T-65536*m;F[0]+=m-1+37*(m-1)}function gt(F,R,T){for(var m,B=~(T-1),q=0;q<16;q++)m=B&(F[q]^R[q]),F[q]^=m,R[q]^=m}function mt(F,R){var T,m,B,q=N(),W=N();for(T=0;T<16;T++)W[T]=R[T];for(lt(W),lt(W),lt(W),m=0;m<2;m++){for(q[0]=W[0]-65517,T=1;T<15;T++)q[T]=W[T]-65535-(q[T-1]>>16&1),q[T-1]&=65535;q[15]=W[15]-32767-(q[14]>>16&1),B=q[15]>>16&1,q[14]&=65535,gt(W,q,1-B)}for(T=0;T<16;T++)F[2*T]=255&W[T],F[2*T+1]=W[T]>>8}function Ht(F,R){var T=new Uint8Array(32),m=new Uint8Array(32);return mt(T,F),mt(m,R),Ce(T,0,m,0)}function de(F){var R=new Uint8Array(32);return mt(R,F),1&R[0]}function jt(F,R){var T;for(T=0;T<16;T++)F[T]=R[2*T]+(R[2*T+1]<<8);F[15]&=32767}function oe(F,R,T){for(var m=0;m<16;m++)F[m]=R[m]+T[m]}function he(F,R,T){for(var m=0;m<16;m++)F[m]=R[m]-T[m]}function Ft(F,R,T){var m,B,q=0,W=0,at=0,L=0,yt=0,It=0,y=0,M=0,C=0,a=0,D=0,j=0,P=0,z=0,J=0,ot=0,dt=0,Tt=0,ct=0,Q=0,et=0,vt=0,ft=0,st=0,ut=0,Mt=0,wt=0,Et=0,bt=0,_t=0,At=0,ht=T[0],Y=T[1],X=T[2],rt=T[3],tt=T[4],nt=T[5],pt=T[6],Ot=T[7],Lt=T[8],Kt=T[9],Vt=T[10],O=T[11],Zt=T[12],ae=T[13],fe=T[14],te=T[15];q+=(m=R[0])*ht,W+=m*Y,at+=m*X,L+=m*rt,yt+=m*tt,It+=m*nt,y+=m*pt,M+=m*Ot,C+=m*Lt,a+=m*Kt,D+=m*Vt,j+=m*O,P+=m*Zt,z+=m*ae,J+=m*fe,ot+=m*te,W+=(m=R[1])*ht,at+=m*Y,L+=m*X,yt+=m*rt,It+=m*tt,y+=m*nt,M+=m*pt,C+=m*Ot,a+=m*Lt,D+=m*Kt,j+=m*Vt,P+=m*O,z+=m*Zt,J+=m*ae,ot+=m*fe,dt+=m*te,at+=(m=R[2])*ht,L+=m*Y,yt+=m*X,It+=m*rt,y+=m*tt,M+=m*nt,C+=m*pt,a+=m*Ot,D+=m*Lt,j+=m*Kt,P+=m*Vt,z+=m*O,J+=m*Zt,ot+=m*ae,dt+=m*fe,Tt+=m*te,L+=(m=R[3])*ht,yt+=m*Y,It+=m*X,y+=m*rt,M+=m*tt,C+=m*nt,a+=m*pt,D+=m*Ot,j+=m*Lt,P+=m*Kt,z+=m*Vt,J+=m*O,ot+=m*Zt,dt+=m*ae,Tt+=m*fe,ct+=m*te,yt+=(m=R[4])*ht,It+=m*Y,y+=m*X,M+=m*rt,C+=m*tt,a+=m*nt,D+=m*pt,j+=m*Ot,P+=m*Lt,z+=m*Kt,J+=m*Vt,ot+=m*O,dt+=m*Zt,Tt+=m*ae,ct+=m*fe,Q+=m*te,It+=(m=R[5])*ht,y+=m*Y,M+=m*X,C+=m*rt,a+=m*tt,D+=m*nt,j+=m*pt,P+=m*Ot,z+=m*Lt,J+=m*Kt,ot+=m*Vt,dt+=m*O,Tt+=m*Zt,ct+=m*ae,Q+=m*fe,et+=m*te,y+=(m=R[6])*ht,M+=m*Y,C+=m*X,a+=m*rt,D+=m*tt,j+=m*nt,P+=m*pt,z+=m*Ot,J+=m*Lt,ot+=m*Kt,dt+=m*Vt,Tt+=m*O,ct+=m*Zt,Q+=m*ae,et+=m*fe,vt+=m*te,M+=(m=R[7])*ht,C+=m*Y,a+=m*X,D+=m*rt,j+=m*tt,P+=m*nt,z+=m*pt,J+=m*Ot,ot+=m*Lt,dt+=m*Kt,Tt+=m*Vt,ct+=m*O,Q+=m*Zt,et+=m*ae,vt+=m*fe,ft+=m*te,C+=(m=R[8])*ht,a+=m*Y,D+=m*X,j+=m*rt,P+=m*tt,z+=m*nt,J+=m*pt,ot+=m*Ot,dt+=m*Lt,Tt+=m*Kt,ct+=m*Vt,Q+=m*O,et+=m*Zt,vt+=m*ae,ft+=m*fe,st+=m*te,a+=(m=R[9])*ht,D+=m*Y,j+=m*X,P+=m*rt,z+=m*tt,J+=m*nt,ot+=m*pt,dt+=m*Ot,Tt+=m*Lt,ct+=m*Kt,Q+=m*Vt,et+=m*O,vt+=m*Zt,ft+=m*ae,st+=m*fe,ut+=m*te,D+=(m=R[10])*ht,j+=m*Y,P+=m*X,z+=m*rt,J+=m*tt,ot+=m*nt,dt+=m*pt,Tt+=m*Ot,ct+=m*Lt,Q+=m*Kt,et+=m*Vt,vt+=m*O,ft+=m*Zt,st+=m*ae,ut+=m*fe,Mt+=m*te,j+=(m=R[11])*ht,P+=m*Y,z+=m*X,J+=m*rt,ot+=m*tt,dt+=m*nt,Tt+=m*pt,ct+=m*Ot,Q+=m*Lt,et+=m*Kt,vt+=m*Vt,ft+=m*O,st+=m*Zt,ut+=m*ae,Mt+=m*fe,wt+=m*te,P+=(m=R[12])*ht,z+=m*Y,J+=m*X,ot+=m*rt,dt+=m*tt,Tt+=m*nt,ct+=m*pt,Q+=m*Ot,et+=m*Lt,vt+=m*Kt,ft+=m*Vt,st+=m*O,ut+=m*Zt,Mt+=m*ae,wt+=m*fe,Et+=m*te,z+=(m=R[13])*ht,J+=m*Y,ot+=m*X,dt+=m*rt,Tt+=m*tt,ct+=m*nt,Q+=m*pt,et+=m*Ot,vt+=m*Lt,ft+=m*Kt,st+=m*Vt,ut+=m*O,Mt+=m*Zt,wt+=m*ae,Et+=m*fe,bt+=m*te,J+=(m=R[14])*ht,ot+=m*Y,dt+=m*X,Tt+=m*rt,ct+=m*tt,Q+=m*nt,et+=m*pt,vt+=m*Ot,ft+=m*Lt,st+=m*Kt,ut+=m*Vt,Mt+=m*O,wt+=m*Zt,Et+=m*ae,bt+=m*fe,_t+=m*te,ot+=(m=R[15])*ht,W+=38*(Tt+=m*X),at+=38*(ct+=m*rt),L+=38*(Q+=m*tt),yt+=38*(et+=m*nt),It+=38*(vt+=m*pt),y+=38*(ft+=m*Ot),M+=38*(st+=m*Lt),C+=38*(ut+=m*Kt),a+=38*(Mt+=m*Vt),D+=38*(wt+=m*O),j+=38*(Et+=m*Zt),P+=38*(bt+=m*ae),z+=38*(_t+=m*fe),J+=38*(At+=m*te),q=(m=(q+=38*(dt+=m*Y))+(B=1)+65535)-65536*(B=Math.floor(m/65536)),W=(m=W+B+65535)-65536*(B=Math.floor(m/65536)),at=(m=at+B+65535)-65536*(B=Math.floor(m/65536)),L=(m=L+B+65535)-65536*(B=Math.floor(m/65536)),yt=(m=yt+B+65535)-65536*(B=Math.floor(m/65536)),It=(m=It+B+65535)-65536*(B=Math.floor(m/65536)),y=(m=y+B+65535)-65536*(B=Math.floor(m/65536)),M=(m=M+B+65535)-65536*(B=Math.floor(m/65536)),C=(m=C+B+65535)-65536*(B=Math.floor(m/65536)),a=(m=a+B+65535)-65536*(B=Math.floor(m/65536)),D=(m=D+B+65535)-65536*(B=Math.floor(m/65536)),j=(m=j+B+65535)-65536*(B=Math.floor(m/65536)),P=(m=P+B+65535)-65536*(B=Math.floor(m/65536)),z=(m=z+B+65535)-65536*(B=Math.floor(m/65536)),J=(m=J+B+65535)-65536*(B=Math.floor(m/65536)),ot=(m=ot+B+65535)-65536*(B=Math.floor(m/65536)),q=(m=(q+=B-1+37*(B-1))+(B=1)+65535)-65536*(B=Math.floor(m/65536)),W=(m=W+B+65535)-65536*(B=Math.floor(m/65536)),at=(m=at+B+65535)-65536*(B=Math.floor(m/65536)),L=(m=L+B+65535)-65536*(B=Math.floor(m/65536)),yt=(m=yt+B+65535)-65536*(B=Math.floor(m/65536)),It=(m=It+B+65535)-65536*(B=Math.floor(m/65536)),y=(m=y+B+65535)-65536*(B=Math.floor(m/65536)),M=(m=M+B+65535)-65536*(B=Math.floor(m/65536)),C=(m=C+B+65535)-65536*(B=Math.floor(m/65536)),a=(m=a+B+65535)-65536*(B=Math.floor(m/65536)),D=(m=D+B+65535)-65536*(B=Math.floor(m/65536)),j=(m=j+B+65535)-65536*(B=Math.floor(m/65536)),P=(m=P+B+65535)-65536*(B=Math.floor(m/65536)),z=(m=z+B+65535)-65536*(B=Math.floor(m/65536)),J=(m=J+B+65535)-65536*(B=Math.floor(m/65536)),ot=(m=ot+B+65535)-65536*(B=Math.floor(m/65536)),q+=B-1+37*(B-1),F[0]=q,F[1]=W,F[2]=at,F[3]=L,F[4]=yt,F[5]=It,F[6]=y,F[7]=M,F[8]=C,F[9]=a,F[10]=D,F[11]=j,F[12]=P,F[13]=z,F[14]=J,F[15]=ot}function ce(F,R){Ft(F,R,R)}function _e(F,R){var T,m=N();for(T=0;T<16;T++)m[T]=R[T];for(T=253;T>=0;T--)ce(m,m),T!==2&&T!==4&&Ft(m,m,R);for(T=0;T<16;T++)F[T]=m[T]}function Qt(F,R){var T,m=N();for(T=0;T<16;T++)m[T]=R[T];for(T=250;T>=0;T--)ce(m,m),T!==1&&Ft(m,m,R);for(T=0;T<16;T++)F[T]=m[T]}function Be(F,R,T){var m,B,q=new Uint8Array(32),W=new Float64Array(80),at=N(),L=N(),yt=N(),It=N(),y=N(),M=N();for(B=0;B<31;B++)q[B]=R[B];for(q[31]=127&R[31]|64,q[0]&=248,jt(W,T),B=0;B<16;B++)L[B]=W[B],It[B]=at[B]=yt[B]=0;for(at[0]=It[0]=1,B=254;B>=0;--B)gt(at,L,m=q[B>>>3]>>>(7&B)&1),gt(yt,It,m),oe(y,at,yt),he(at,at,yt),oe(yt,L,It),he(L,L,It),ce(It,y),ce(M,at),Ft(at,yt,at),Ft(yt,L,y),oe(y,at,yt),he(at,at,yt),ce(L,at),he(yt,It,M),Ft(at,yt,Ct),oe(at,at,It),Ft(yt,yt,at),Ft(at,It,M),Ft(It,L,W),ce(L,y),gt(at,L,m),gt(yt,It,m);for(B=0;B<16;B++)W[B+16]=at[B],W[B+32]=yt[B],W[B+48]=L[B],W[B+64]=It[B];var C=W.subarray(32),a=W.subarray(16);return _e(C,C),Ft(a,a,C),mt(F,a),0}function me(F,R){return Be(F,R,Z)}function ie(F,R){return V(R,32),me(F,R)}function ye(F,R,T){var m=new Uint8Array(32);return Be(m,T,R),l(F,K,m,c)}_.prototype.blocks=function(F,R,T){for(var m,B,q,W,at,L,yt,It,y,M,C,a,D,j,P,z,J,ot,dt,Tt=this.fin?0:2048,ct=this.h[0],Q=this.h[1],et=this.h[2],vt=this.h[3],ft=this.h[4],st=this.h[5],ut=this.h[6],Mt=this.h[7],wt=this.h[8],Et=this.h[9],bt=this.r[0],_t=this.r[1],At=this.r[2],ht=this.r[3],Y=this.r[4],X=this.r[5],rt=this.r[6],tt=this.r[7],nt=this.r[8],pt=this.r[9];T>=16;)M=y=0,M+=(ct+=8191&(m=255&F[R+0]|(255&F[R+1])<<8))*bt,M+=(Q+=8191&(m>>>13|(B=255&F[R+2]|(255&F[R+3])<<8)<<3))*(5*pt),M+=(et+=8191&(B>>>10|(q=255&F[R+4]|(255&F[R+5])<<8)<<6))*(5*nt),M+=(vt+=8191&(q>>>7|(W=255&F[R+6]|(255&F[R+7])<<8)<<9))*(5*tt),y=(M+=(ft+=8191&(W>>>4|(at=255&F[R+8]|(255&F[R+9])<<8)<<12))*(5*rt))>>>13,M&=8191,M+=(st+=at>>>1&8191)*(5*X),M+=(ut+=8191&(at>>>14|(L=255&F[R+10]|(255&F[R+11])<<8)<<2))*(5*Y),M+=(Mt+=8191&(L>>>11|(yt=255&F[R+12]|(255&F[R+13])<<8)<<5))*(5*ht),M+=(wt+=8191&(yt>>>8|(It=255&F[R+14]|(255&F[R+15])<<8)<<8))*(5*At),C=y+=(M+=(Et+=It>>>5|Tt)*(5*_t))>>>13,C+=ct*_t,C+=Q*bt,C+=et*(5*pt),C+=vt*(5*nt),y=(C+=ft*(5*tt))>>>13,C&=8191,C+=st*(5*rt),C+=ut*(5*X),C+=Mt*(5*Y),C+=wt*(5*ht),y+=(C+=Et*(5*At))>>>13,C&=8191,a=y,a+=ct*At,a+=Q*_t,a+=et*bt,a+=vt*(5*pt),y=(a+=ft*(5*nt))>>>13,a&=8191,a+=st*(5*tt),a+=ut*(5*rt),a+=Mt*(5*X),a+=wt*(5*Y),D=y+=(a+=Et*(5*ht))>>>13,D+=ct*ht,D+=Q*At,D+=et*_t,D+=vt*bt,y=(D+=ft*(5*pt))>>>13,D&=8191,D+=st*(5*nt),D+=ut*(5*tt),D+=Mt*(5*rt),D+=wt*(5*X),j=y+=(D+=Et*(5*Y))>>>13,j+=ct*Y,j+=Q*ht,j+=et*At,j+=vt*_t,y=(j+=ft*bt)>>>13,j&=8191,j+=st*(5*pt),j+=ut*(5*nt),j+=Mt*(5*tt),j+=wt*(5*rt),P=y+=(j+=Et*(5*X))>>>13,P+=ct*X,P+=Q*Y,P+=et*ht,P+=vt*At,y=(P+=ft*_t)>>>13,P&=8191,P+=st*bt,P+=ut*(5*pt),P+=Mt*(5*nt),P+=wt*(5*tt),z=y+=(P+=Et*(5*rt))>>>13,z+=ct*rt,z+=Q*X,z+=et*Y,z+=vt*ht,y=(z+=ft*At)>>>13,z&=8191,z+=st*_t,z+=ut*bt,z+=Mt*(5*pt),z+=wt*(5*nt),J=y+=(z+=Et*(5*tt))>>>13,J+=ct*tt,J+=Q*rt,J+=et*X,J+=vt*Y,y=(J+=ft*ht)>>>13,J&=8191,J+=st*At,J+=ut*_t,J+=Mt*bt,J+=wt*(5*pt),ot=y+=(J+=Et*(5*nt))>>>13,ot+=ct*nt,ot+=Q*tt,ot+=et*rt,ot+=vt*X,y=(ot+=ft*Y)>>>13,ot&=8191,ot+=st*ht,ot+=ut*At,ot+=Mt*_t,ot+=wt*bt,dt=y+=(ot+=Et*(5*pt))>>>13,dt+=ct*pt,dt+=Q*nt,dt+=et*tt,dt+=vt*rt,y=(dt+=ft*X)>>>13,dt&=8191,dt+=st*Y,dt+=ut*ht,dt+=Mt*At,dt+=wt*_t,ct=M=8191&(y=(y=((y+=(dt+=Et*bt)>>>13)<<2)+y|0)+(M&=8191)|0),Q=C+=y>>>=13,et=a&=8191,vt=D&=8191,ft=j&=8191,st=P&=8191,ut=z&=8191,Mt=J&=8191,wt=ot&=8191,Et=dt&=8191,R+=16,T-=16;this.h[0]=ct,this.h[1]=Q,this.h[2]=et,this.h[3]=vt,this.h[4]=ft,this.h[5]=st,this.h[6]=ut,this.h[7]=Mt,this.h[8]=wt,this.h[9]=Et},_.prototype.finish=function(F,R){var T,m,B,q,W=new Uint16Array(10);if(this.leftover){for(q=this.leftover,this.buffer[q++]=1;q<16;q++)this.buffer[q]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(T=this.h[1]>>>13,this.h[1]&=8191,q=2;q<10;q++)this.h[q]+=T,T=this.h[q]>>>13,this.h[q]&=8191;for(this.h[0]+=5*T,T=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=T,T=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=T,W[0]=this.h[0]+5,T=W[0]>>>13,W[0]&=8191,q=1;q<10;q++)W[q]=this.h[q]+T,T=W[q]>>>13,W[q]&=8191;for(W[9]-=8192,m=(1^T)-1,q=0;q<10;q++)W[q]&=m;for(m=~m,q=0;q<10;q++)this.h[q]=this.h[q]&m|W[q];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),B=this.h[0]+this.pad[0],this.h[0]=65535&B,q=1;q<8;q++)B=(this.h[q]+this.pad[q]|0)+(B>>>16)|0,this.h[q]=65535&B;F[R+0]=this.h[0]>>>0&255,F[R+1]=this.h[0]>>>8&255,F[R+2]=this.h[1]>>>0&255,F[R+3]=this.h[1]>>>8&255,F[R+4]=this.h[2]>>>0&255,F[R+5]=this.h[2]>>>8&255,F[R+6]=this.h[3]>>>0&255,F[R+7]=this.h[3]>>>8&255,F[R+8]=this.h[4]>>>0&255,F[R+9]=this.h[4]>>>8&255,F[R+10]=this.h[5]>>>0&255,F[R+11]=this.h[5]>>>8&255,F[R+12]=this.h[6]>>>0&255,F[R+13]=this.h[6]>>>8&255,F[R+14]=this.h[7]>>>0&255,F[R+15]=this.h[7]>>>8&255},_.prototype.update=function(F,R,T){var m,B;if(this.leftover){for((B=16-this.leftover)>T&&(B=T),m=0;m<B;m++)this.buffer[this.leftover+m]=F[R+m];if(T-=B,R+=B,this.leftover+=B,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(T>=16&&(B=T-T%16,this.blocks(F,R,B),R+=B,T-=B),T){for(m=0;m<T;m++)this.buffer[this.leftover+m]=F[R+m];this.leftover+=T}};var se=w,zt=v,Ae=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function pe(F,R,T,m){for(var B,q,W,at,L,yt,It,y,M,C,a,D,j,P,z,J,ot,dt,Tt,ct,Q,et,vt,ft,st,ut,Mt=new Int32Array(16),wt=new Int32Array(16),Et=F[0],bt=F[1],_t=F[2],At=F[3],ht=F[4],Y=F[5],X=F[6],rt=F[7],tt=R[0],nt=R[1],pt=R[2],Ot=R[3],Lt=R[4],Kt=R[5],Vt=R[6],O=R[7],Zt=0;m>=128;){for(Tt=0;Tt<16;Tt++)ct=8*Tt+Zt,Mt[Tt]=T[ct+0]<<24|T[ct+1]<<16|T[ct+2]<<8|T[ct+3],wt[Tt]=T[ct+4]<<24|T[ct+5]<<16|T[ct+6]<<8|T[ct+7];for(Tt=0;Tt<80;Tt++)if(B=Et,q=bt,W=_t,at=At,L=ht,yt=Y,It=X,M=tt,C=nt,a=pt,D=Ot,j=Lt,P=Kt,z=Vt,vt=65535&(et=O),ft=et>>>16,st=65535&(Q=rt),ut=Q>>>16,vt+=65535&(et=(Lt>>>14|ht<<18)^(Lt>>>18|ht<<14)^(ht>>>9|Lt<<23)),ft+=et>>>16,st+=65535&(Q=(ht>>>14|Lt<<18)^(ht>>>18|Lt<<14)^(Lt>>>9|ht<<23)),ut+=Q>>>16,vt+=65535&(et=Lt&Kt^~Lt&Vt),ft+=et>>>16,st+=65535&(Q=ht&Y^~ht&X),ut+=Q>>>16,vt+=65535&(et=Ae[2*Tt+1]),ft+=et>>>16,st+=65535&(Q=Ae[2*Tt]),ut+=Q>>>16,Q=Mt[Tt%16],ft+=(et=wt[Tt%16])>>>16,st+=65535&Q,ut+=Q>>>16,st+=(ft+=(vt+=65535&et)>>>16)>>>16,vt=65535&(et=dt=65535&vt|ft<<16),ft=et>>>16,st=65535&(Q=ot=65535&st|(ut+=st>>>16)<<16),ut=Q>>>16,vt+=65535&(et=(tt>>>28|Et<<4)^(Et>>>2|tt<<30)^(Et>>>7|tt<<25)),ft+=et>>>16,st+=65535&(Q=(Et>>>28|tt<<4)^(tt>>>2|Et<<30)^(tt>>>7|Et<<25)),ut+=Q>>>16,ft+=(et=tt&nt^tt&pt^nt&pt)>>>16,st+=65535&(Q=Et&bt^Et&_t^bt&_t),ut+=Q>>>16,y=65535&(st+=(ft+=(vt+=65535&et)>>>16)>>>16)|(ut+=st>>>16)<<16,J=65535&vt|ft<<16,vt=65535&(et=D),ft=et>>>16,st=65535&(Q=at),ut=Q>>>16,ft+=(et=dt)>>>16,st+=65535&(Q=ot),ut+=Q>>>16,bt=B,_t=q,At=W,ht=at=65535&(st+=(ft+=(vt+=65535&et)>>>16)>>>16)|(ut+=st>>>16)<<16,Y=L,X=yt,rt=It,Et=y,nt=M,pt=C,Ot=a,Lt=D=65535&vt|ft<<16,Kt=j,Vt=P,O=z,tt=J,Tt%16==15)for(ct=0;ct<16;ct++)Q=Mt[ct],vt=65535&(et=wt[ct]),ft=et>>>16,st=65535&Q,ut=Q>>>16,Q=Mt[(ct+9)%16],vt+=65535&(et=wt[(ct+9)%16]),ft+=et>>>16,st+=65535&Q,ut+=Q>>>16,ot=Mt[(ct+1)%16],vt+=65535&(et=((dt=wt[(ct+1)%16])>>>1|ot<<31)^(dt>>>8|ot<<24)^(dt>>>7|ot<<25)),ft+=et>>>16,st+=65535&(Q=(ot>>>1|dt<<31)^(ot>>>8|dt<<24)^ot>>>7),ut+=Q>>>16,ot=Mt[(ct+14)%16],ft+=(et=((dt=wt[(ct+14)%16])>>>19|ot<<13)^(ot>>>29|dt<<3)^(dt>>>6|ot<<26))>>>16,st+=65535&(Q=(ot>>>19|dt<<13)^(dt>>>29|ot<<3)^ot>>>6),ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,Mt[ct]=65535&st|ut<<16,wt[ct]=65535&vt|ft<<16;vt=65535&(et=tt),ft=et>>>16,st=65535&(Q=Et),ut=Q>>>16,Q=F[0],ft+=(et=R[0])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[0]=Et=65535&st|ut<<16,R[0]=tt=65535&vt|ft<<16,vt=65535&(et=nt),ft=et>>>16,st=65535&(Q=bt),ut=Q>>>16,Q=F[1],ft+=(et=R[1])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[1]=bt=65535&st|ut<<16,R[1]=nt=65535&vt|ft<<16,vt=65535&(et=pt),ft=et>>>16,st=65535&(Q=_t),ut=Q>>>16,Q=F[2],ft+=(et=R[2])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[2]=_t=65535&st|ut<<16,R[2]=pt=65535&vt|ft<<16,vt=65535&(et=Ot),ft=et>>>16,st=65535&(Q=At),ut=Q>>>16,Q=F[3],ft+=(et=R[3])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[3]=At=65535&st|ut<<16,R[3]=Ot=65535&vt|ft<<16,vt=65535&(et=Lt),ft=et>>>16,st=65535&(Q=ht),ut=Q>>>16,Q=F[4],ft+=(et=R[4])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[4]=ht=65535&st|ut<<16,R[4]=Lt=65535&vt|ft<<16,vt=65535&(et=Kt),ft=et>>>16,st=65535&(Q=Y),ut=Q>>>16,Q=F[5],ft+=(et=R[5])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[5]=Y=65535&st|ut<<16,R[5]=Kt=65535&vt|ft<<16,vt=65535&(et=Vt),ft=et>>>16,st=65535&(Q=X),ut=Q>>>16,Q=F[6],ft+=(et=R[6])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[6]=X=65535&st|ut<<16,R[6]=Vt=65535&vt|ft<<16,vt=65535&(et=O),ft=et>>>16,st=65535&(Q=rt),ut=Q>>>16,Q=F[7],ft+=(et=R[7])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[7]=rt=65535&st|ut<<16,R[7]=O=65535&vt|ft<<16,Zt+=128,m-=128}return m}function Pt(F,R,T){var m,B=new Int32Array(8),q=new Int32Array(8),W=new Uint8Array(256),at=T;for(B[0]=1779033703,B[1]=3144134277,B[2]=1013904242,B[3]=2773480762,B[4]=1359893119,B[5]=2600822924,B[6]=528734635,B[7]=1541459225,q[0]=4089235720,q[1]=2227873595,q[2]=4271175723,q[3]=1595750129,q[4]=2917565137,q[5]=725511199,q[6]=4215389547,q[7]=327033209,pe(B,q,R,T),T%=128,m=0;m<T;m++)W[m]=R[at-T+m];for(W[T]=128,W[(T=256-128*(T<112?1:0))-9]=0,re(W,T-8,at/536870912|0,at<<3),pe(B,q,W,T),m=0;m<8;m++)re(F,8*m,B[m],q[m]);return 0}function be(F,R){var T=N(),m=N(),B=N(),q=N(),W=N(),at=N(),L=N(),yt=N(),It=N();he(T,F[1],F[0]),he(It,R[1],R[0]),Ft(T,T,It),oe(m,F[0],F[1]),oe(It,R[0],R[1]),Ft(m,m,It),Ft(B,F[3],R[3]),Ft(B,B,Gt),Ft(q,F[2],R[2]),oe(q,q,q),he(W,m,T),he(at,q,B),oe(L,q,B),oe(yt,m,T),Ft(F[0],W,at),Ft(F[1],yt,L),Ft(F[2],L,at),Ft(F[3],W,yt)}function ve(F,R,T){var m;for(m=0;m<4;m++)gt(F[m],R[m],T)}function Xt(F,R){var T=N(),m=N(),B=N();_e(B,R[2]),Ft(T,R[0],B),Ft(m,R[1],B),mt(F,m),F[31]^=de(T)<<7}function I(F,R,T){var m,B;for(U(F[0],xt),U(F[1],Ut),U(F[2],Ut),U(F[3],xt),B=255;B>=0;--B)ve(F,R,m=T[B/8|0]>>(7&B)&1),be(R,F),be(F,F),ve(F,R,m)}function p(F,R){var T=[N(),N(),N(),N()];U(T[0],ue),U(T[1],le),U(T[2],Ut),Ft(T[3],ue,le),I(F,T,R)}function g(F,R,T){var m,B=new Uint8Array(64),q=[N(),N(),N(),N()];for(T||V(R,32),Pt(B,R,32),B[0]&=248,B[31]&=127,B[31]|=64,p(q,B),Xt(F,q),m=0;m<32;m++)R[m+32]=F[m];return 0}var $=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function H(F,R){var T,m,B,q;for(m=63;m>=32;--m){for(T=0,B=m-32,q=m-12;B<q;++B)R[B]+=T-16*R[m]*$[B-(m-32)],T=Math.floor((R[B]+128)/256),R[B]-=256*T;R[B]+=T,R[m]=0}for(T=0,B=0;B<32;B++)R[B]+=T-(R[31]>>4)*$[B],T=R[B]>>8,R[B]&=255;for(B=0;B<32;B++)R[B]-=T*$[B];for(m=0;m<32;m++)R[m+1]+=R[m]>>8,F[m]=255&R[m]}function G(F){var R,T=new Float64Array(64);for(R=0;R<64;R++)T[R]=F[R];for(R=0;R<64;R++)F[R]=0;H(F,T)}function it(F,R,T,m){var B,q,W=new Uint8Array(64),at=new Uint8Array(64),L=new Uint8Array(64),yt=new Float64Array(64),It=[N(),N(),N(),N()];Pt(W,m,32),W[0]&=248,W[31]&=127,W[31]|=64;var y=T+64;for(B=0;B<T;B++)F[64+B]=R[B];for(B=0;B<32;B++)F[32+B]=W[32+B];for(Pt(L,F.subarray(32),T+32),G(L),p(It,L),Xt(F,It),B=32;B<64;B++)F[B]=m[B];for(Pt(at,F,T+64),G(at),B=0;B<64;B++)yt[B]=0;for(B=0;B<32;B++)yt[B]=L[B];for(B=0;B<32;B++)for(q=0;q<32;q++)yt[B+q]+=at[B]*W[q];return H(F.subarray(32),yt),y}function kt(F,R,T,m){var B,q=new Uint8Array(32),W=new Uint8Array(64),at=[N(),N(),N(),N()],L=[N(),N(),N(),N()];if(T<64||function(yt,It){var y=N(),M=N(),C=N(),a=N(),D=N(),j=N(),P=N();return U(yt[2],Ut),jt(yt[1],It),ce(C,yt[1]),Ft(a,C,Dt),he(C,C,yt[2]),oe(a,yt[2],a),ce(D,a),ce(j,D),Ft(P,j,D),Ft(y,P,C),Ft(y,y,a),Qt(y,y),Ft(y,y,C),Ft(y,y,a),Ft(y,y,a),Ft(yt[0],y,a),ce(M,yt[0]),Ft(M,M,a),Ht(M,C)&&Ft(yt[0],yt[0],$t),ce(M,yt[0]),Ft(M,M,a),Ht(M,C)?-1:(de(yt[0])===It[31]>>7&&he(yt[0],xt,yt[0]),Ft(yt[3],yt[0],yt[1]),0)}(L,m))return-1;for(B=0;B<T;B++)F[B]=R[B];for(B=0;B<32;B++)F[B+32]=m[B];if(Pt(W,F,T),G(W),I(at,L,W),p(L,R.subarray(32)),be(at,L),Xt(q,at),T-=64,Ce(R,0,q,0)){for(B=0;B<T;B++)F[B]=0;return-1}for(B=0;B<T;B++)F[B]=R[B+64];return T}var Nt,qt=64,Yt=32,St=64;function Me(F,R){if(F.length!==32)throw new Error("bad key size");if(R.length!==24)throw new Error("bad nonce size")}function ge(){for(var F=0;F<arguments.length;F++)if(!(arguments[F]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Wt(F){for(var R=0;R<F.length;R++)F[R]=0}k.lowlevel={crypto_core_hsalsa20:l,crypto_stream_xor:x,crypto_stream:d,crypto_stream_salsa20_xor:s,crypto_stream_salsa20:u,crypto_onetimeauth:E,crypto_onetimeauth_verify:h,crypto_verify_16:Jt,crypto_verify_32:Ce,crypto_secretbox:w,crypto_secretbox_open:v,crypto_scalarmult:Be,crypto_scalarmult_base:me,crypto_box_beforenm:ye,crypto_box_afternm:se,crypto_box:function(F,R,T,m,B,q){var W=new Uint8Array(32);return ye(W,B,q),se(F,R,T,m,W)},crypto_box_open:function(F,R,T,m,B,q){var W=new Uint8Array(32);return ye(W,B,q),zt(F,R,T,m,W)},crypto_box_keypair:ie,crypto_hash:Pt,crypto_sign:it,crypto_sign_keypair:g,crypto_sign_open:kt,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:qt,crypto_sign_PUBLICKEYBYTES:Yt,crypto_sign_SECRETKEYBYTES:St,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:N,D:Dt,L:$,pack25519:mt,unpack25519:jt,M:Ft,A:oe,S:ce,Z:he,pow2523:Qt,add:be,set25519:U,modL:H,scalarmult:I,scalarbase:p},k.randomBytes=function(F){var R=new Uint8Array(F);return V(R,F),R},k.secretbox=function(F,R,T){ge(F,R,T),Me(T,R);for(var m=new Uint8Array(32+F.length),B=new Uint8Array(m.length),q=0;q<F.length;q++)m[q+32]=F[q];return w(B,m,m.length,R,T),B.subarray(16)},k.secretbox.open=function(F,R,T){ge(F,R,T),Me(T,R);for(var m=new Uint8Array(16+F.length),B=new Uint8Array(m.length),q=0;q<F.length;q++)m[q+16]=F[q];return m.length<32||v(B,m,m.length,R,T)!==0?null:B.subarray(32)},k.secretbox.keyLength=32,k.secretbox.nonceLength=24,k.secretbox.overheadLength=16,k.scalarMult=function(F,R){if(ge(F,R),F.length!==32)throw new Error("bad n size");if(R.length!==32)throw new Error("bad p size");var T=new Uint8Array(32);return Be(T,F,R),T},k.scalarMult.base=function(F){if(ge(F),F.length!==32)throw new Error("bad n size");var R=new Uint8Array(32);return me(R,F),R},k.scalarMult.scalarLength=32,k.scalarMult.groupElementLength=32,k.box=function(F,R,T,m){var B=k.box.before(T,m);return k.secretbox(F,R,B)},k.box.before=function(F,R){ge(F,R),function(m,B){if(m.length!==32)throw new Error("bad public key size");if(B.length!==32)throw new Error("bad secret key size")}(F,R);var T=new Uint8Array(32);return ye(T,F,R),T},k.box.after=k.secretbox,k.box.open=function(F,R,T,m){var B=k.box.before(T,m);return k.secretbox.open(F,R,B)},k.box.open.after=k.secretbox.open,k.box.keyPair=function(){var F=new Uint8Array(32),R=new Uint8Array(32);return ie(F,R),{publicKey:F,secretKey:R}},k.box.keyPair.fromSecretKey=function(F){if(ge(F),F.length!==32)throw new Error("bad secret key size");var R=new Uint8Array(32);return me(R,F),{publicKey:R,secretKey:new Uint8Array(F)}},k.box.publicKeyLength=32,k.box.secretKeyLength=32,k.box.sharedKeyLength=32,k.box.nonceLength=24,k.box.overheadLength=k.secretbox.overheadLength,k.sign=function(F,R){if(ge(F,R),R.length!==St)throw new Error("bad secret key size");var T=new Uint8Array(qt+F.length);return it(T,F,F.length,R),T},k.sign.open=function(F,R){if(ge(F,R),R.length!==Yt)throw new Error("bad public key size");var T=new Uint8Array(F.length),m=kt(T,F,F.length,R);if(m<0)return null;for(var B=new Uint8Array(m),q=0;q<B.length;q++)B[q]=T[q];return B},k.sign.detached=function(F,R){for(var T=k.sign(F,R),m=new Uint8Array(qt),B=0;B<m.length;B++)m[B]=T[B];return m},k.sign.detached.verify=function(F,R,T){if(ge(F,R,T),R.length!==qt)throw new Error("bad signature size");if(T.length!==Yt)throw new Error("bad public key size");var m,B=new Uint8Array(qt+F.length),q=new Uint8Array(qt+F.length);for(m=0;m<qt;m++)B[m]=R[m];for(m=0;m<F.length;m++)B[m+qt]=F[m];return kt(q,B,B.length,T)>=0},k.sign.keyPair=function(){var F=new Uint8Array(Yt),R=new Uint8Array(St);return g(F,R),{publicKey:F,secretKey:R}},k.sign.keyPair.fromSecretKey=function(F){if(ge(F),F.length!==St)throw new Error("bad secret key size");for(var R=new Uint8Array(Yt),T=0;T<R.length;T++)R[T]=F[32+T];return{publicKey:R,secretKey:new Uint8Array(F)}},k.sign.keyPair.fromSeed=function(F){if(ge(F),F.length!==32)throw new Error("bad seed size");for(var R=new Uint8Array(Yt),T=new Uint8Array(St),m=0;m<32;m++)T[m]=F[m];return g(R,T,!0),{publicKey:R,secretKey:T}},k.sign.publicKeyLength=Yt,k.sign.secretKeyLength=St,k.sign.seedLength=32,k.sign.signatureLength=qt,k.hash=function(F){ge(F);var R=new Uint8Array(64);return Pt(R,F,F.length),R},k.hash.hashLength=64,k.verify=function(F,R){return ge(F,R),F.length!==0&&R.length!==0&&F.length===R.length&&ne(F,0,R,0,F.length)===0},k.setPRNG=function(F){V=F},(Nt=typeof self!="undefined"?self.crypto||self.msCrypto:null)&&Nt.getRandomValues?k.setPRNG(function(F,R){var T,m=new Uint8Array(R);for(T=0;T<R;T+=65536)Nt.getRandomValues(m.subarray(T,T+Math.min(R-T,65536)));for(T=0;T<R;T++)F[T]=m[T];Wt(m)}):(Nt=A(24))&&Nt.randomBytes&&k.setPRNG(function(F,R){var T,m=Nt.randomBytes(R);for(T=0;T<R;T++)F[T]=m[T];Wt(m)})})(f.exports?f.exports:self.nacl=self.nacl||{})},24:()=>{}},n={};function o(f){var b=n[f];if(b!==void 0)return b.exports;var A=n[f]={exports:{}};return e[f](A,A.exports,o),A.exports}o.n=f=>{var b=f&&f.__esModule?()=>f.default:()=>f;return o.d(b,{a:b}),b},o.d=(f,b)=>{for(var A in b)o.o(b,A)&&!o.o(f,A)&&Object.defineProperty(f,A,{enumerable:!0,get:b[A]})},o.o=(f,b)=>Object.prototype.hasOwnProperty.call(f,b),o.r=f=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var i={};return(()=>{o.r(i),o.d(i,{KeyPair:()=>f.KeyPair,generateMnemonic:()=>Ut,isPasswordNeeded:()=>xt,mnemonicToKeyPair:()=>ue,mnemonicToSeed:()=>Gt,validateMnemonic:()=>le,wordlists:()=>b});var f={};o.r(f),o.d(f,{I:()=>ue});var b={};o.r(b),o.d(b,{EN:()=>k,default:()=>k,english:()=>k});const A=self.crypto,k=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];async function N($t){return(await K($t,"TON seed version",Math.max(1,Math.floor(390.625))))[0]==0}async function V($t,re=""){const ne=$t.join(" ");return await async function(Jt,Ce){const S=Z(Jt).buffer,l=Ce.length?Z(Ce).buffer:new ArrayBuffer(0),c={name:"HMAC",hash:"SHA-512"},s=await A.subtle.importKey("raw",S,c,!1,["sign"]);return await A.subtle.sign(c,s,l)}(ne,re)}async function K($t,re,ne){const Jt=Z(re).buffer,Ce=await A.subtle.importKey("raw",$t,{name:"PBKDF2"},!1,["deriveBits"]),S=await A.subtle.deriveBits({name:"PBKDF2",hash:"SHA-512",salt:Jt,iterations:ne},Ce,512);return new Uint8Array(S)}function Z($t,re=1){let ne,Jt;switch(re){case 1:ne=new ArrayBuffer($t.length),Jt=new Uint8Array(ne);break;case 2:ne=new ArrayBuffer(2*$t.length),Jt=new Uint16Array(ne);break;case 4:ne=new ArrayBuffer(4*$t.length),Jt=new Uint32Array(ne);break;default:throw new Error(`Incorrect size specified: ${re}`)}for(let Ce=0,S=$t.length;Ce<S;Ce++)Jt[Ce]=$t.charCodeAt(Ce);return new Uint8Array(Jt.buffer)}async function xt($t){const re=await V($t,"");return await async function(ne){return(await K(ne,"TON fast seed version",1))[0]==1}(re)&&!await N(re)}async function Ut($t=24,re="",ne=k){let Jt=[];for(;;){Jt=[];const Ce=A.getRandomValues(new Uint16Array($t));for(let S=0;S<$t;S++)Jt.push(ne[2047&Ce[S]]);if((!(re.length>0)||await xt(Jt))&&await N(await V(Jt,re)))break}return Jt}var Ct=o(780),Dt=o.n(Ct);async function Gt($t,re=""){const ne=await V($t,re);return(await K(ne,"TON default seed",1e5)).slice(0,32)}async function ue($t,re=""){const ne=await Gt($t,re);return Dt().sign.keyPair.fromSeed(ne)}async function le($t,re="",ne=k){for(let Jt of $t)if(ne.indexOf(Jt)===-1)return!1;return!(re.length>0&&!await xt($t))&&await N(await V($t,re))}})(),i})()})})(Mn);function Vg({text:r,className:t="w-6 h-6"}){const[e,n]=$e(!1);return Rt("button",{className:t,onClick:()=>{cn.write(r),n(!0),setTimeout(()=>{n(!1)},1e3)},children:e?Rt(Su,{}):Rt(Fu,{})})}function Kg({words:r,setWords:t,setWallet:e,setKeyPair:n}){const o=async()=>{const f=await Mn.exports.generateMnemonic(),b=await Mn.exports.mnemonicToKeyPair(f);t(f),n(b),e(void 0)},i=async f=>{const b=f.target.value.split(" ");await Mn.exports.validateMnemonic(b)?n(await Mn.exports.mnemonicToKeyPair(b)):n(void 0),t(b),e(void 0)};return ze(()=>{r.length===0&&o()},[]),xe("div",{children:[Rt("div",{className:"my-2",children:xe("form",{children:[xe("label",{htmlFor:"wordsInput",className:"text-accent text-lg font-medium my-2 flex items-center",children:["Words",Rt(Vg,{className:"w-6 h-6 ml-2",text:r.join(" ")})]}),Rt("textarea",{className:"w-full h-24 outline-none",id:"wordsInput",type:"text",onChange:i,value:r.join(" ")})]})}),Rt(_r,{onClick:o,children:"Generate new words"})]})}function Gg({walletsToShow:r,testnet:t,currentWallet:e,setWallet:n}){return xe(Mg,{children:[Rt("div",{className:"font-medium text-lg text-accent my-2",children:"Wallets:"}),r==null?void 0:r.map(o=>xe("div",{className:"my-2 flex flex-col border",children:[xe("div",{class:"flex justify-between border-b px-1",children:[xe("div",{className:"",children:["Wallet ",o.type,Rt("a",{href:Yg(o.address.toString(!0,!0,!0),t),target:"_blank",rel:"noopener noreferrer",className:"ml-2",children:"Link"})]}),e&&e.address.toString()===o.address.toString()?Rt("div",{children:"Selected"}):Rt("div",{className:"cursor-pointer text-highlight",onClick:()=>n(o),children:"Use this wallet"})]}),xe("div",{className:"px-2 my-2",children:[Rt(li,{text:"Bouncable:",address:o.address.toString(!0,!0,!0)}),Rt(li,{text:"UnBouncable:",address:o.address.toString(!0,!0,!1)}),Rt(li,{text:"Raw:",address:o.address.toString(!1)})]})]},o.address.toString(!0,!0,!0)))]})}function Yg(r,t){return`https://${t?"testnet.":""}tonscan.org/address/${r}`}function Xg({testnet:r,setTestnet:t,apiKey:e,setApiKey:n}){const[o,i]=$e(!1);return ze(()=>{if(setTimeout(()=>i(!0),128),window.localStorage){const f=window.localStorage.getItem("tonwallgen_testnet"),b=window.localStorage.getItem("tonwallgen_apikey");f&&t(f==="true"),b&&n(b)}},[]),ze(()=>{!o||window.localStorage&&(window.localStorage.setItem("tonwallgen_testnet",r.toString()),window.localStorage.setItem("tonwallgen_apikey",e))},[e,r]),xe("div",{className:"flex my-2 items-center",children:[xe("div",{children:[Rt("label",{htmlFor:"testnetCheckbox",children:"Testnet: "}),Rt("input",{type:"checkbox",id:"testnetCheckbox",checked:r,onChange:()=>t(!r)})]}),xe("div",{className:"ml-2",children:[Rt("label",{htmlFor:"apiKeyInput",children:"ApiKey: "}),Rt("input",{type:"text",id:"apiKeyInput",className:"border rounded px-2",value:e,onChange:f=>n(f.target.value)})]})]})}function zg(){const[r,t]=$e([]),[e,n]=$e(void 0),[o,i]=$e(void 0),[f,b]=$e(!0),[A,k]=$e(""),N=Vn(()=>Au(A,f),[A,f]),K=Ag(async()=>{if(!o)return[];const Z=new fr.Wallets.all.v3R1(N,{publicKey:o.publicKey}),xt=await Z.getAddress(),Ut=new fr.Wallets.all.v3R2(N,{publicKey:o.publicKey}),Ct=await Ut.getAddress(),Dt=new fr.Wallets.all.v4R2(N,{publicKey:o.publicKey}),Gt=await Dt.getAddress();return[{type:"v4R2",address:Gt,balance:"0",wallet:Dt,key:o},{type:"v3R2",address:Ct,balance:"0",wallet:Ut,key:o},{type:"v3R1",address:xt,balance:"0",wallet:Z,key:o}]},[o]).result;return xe("div",{className:"flex justify-center flex-col md:flex-row",children:[xe("div",{className:"md:max-w-xl w-full px-4 flex flex-col mt-8",children:[Rt("h1",{className:"font-bold text-xl text-accent",children:"TON Wallet"}),Rt(Xg,{testnet:f,apiKey:A,setTestnet:b,setApiKey:k}),Rt(Kg,{words:r,setWords:t,setWallet:n,setKeyPair:i}),Rt(Gg,{currentWallet:e,walletsToShow:K,testnet:f,setWallet:n})]}),Rt("div",{className:"md:max-w-xl w-full px-4 flex flex-col mt-16",children:e?Rt(Wg,{wallet:e,testnet:f,apiKey:A}):Rt("div",{children:"Click 'Use this wallet' on wallet you want to use"})})]})}qr(Rt(zg,{}),document.getElementById("app"))});export default Zg();
