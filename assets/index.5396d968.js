var Du=Object.defineProperty;var os=Object.getOwnPropertySymbols;var Iu=Object.prototype.hasOwnProperty,Tu=Object.prototype.propertyIsEnumerable;var ss=(r,t,e)=>t in r?Du(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,as=(r,t)=>{for(var e in t||(t={}))Iu.call(t,e)&&ss(r,e,t[e]);if(os)for(var e of os(t))Tu.call(t,e)&&ss(r,e,t[e]);return r};var Nu=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var qg=Nu((c5,li)=>{const Ru=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}};Ru();var Na=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Cr(r){if(r.__esModule)return r;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(e){var n=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:function(){return r[e]}})}),t}function Ra(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ua={},Ai={};Ai.byteLength=ku;Ai.toByteArray=Lu;Ai.fromByteArray=Hu;var yr=[],nr=[],Uu=typeof Uint8Array!="undefined"?Uint8Array:Array,Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Vr=0,$u=Li.length;Vr<$u;++Vr)yr[Vr]=Li[Vr],nr[Li.charCodeAt(Vr)]=Vr;nr["-".charCodeAt(0)]=62;nr["_".charCodeAt(0)]=63;function $a(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function ku(r){var t=$a(r),e=t[0],n=t[1];return(e+n)*3/4-n}function Ou(r,t,e){return(t+e)*3/4-e}function Lu(r){var t,e=$a(r),n=e[0],o=e[1],i=new Uu(Ou(r,n,o)),c=0,x=o>0?n-4:n,C;for(C=0;C<x;C+=4)t=nr[r.charCodeAt(C)]<<18|nr[r.charCodeAt(C+1)]<<12|nr[r.charCodeAt(C+2)]<<6|nr[r.charCodeAt(C+3)],i[c++]=t>>16&255,i[c++]=t>>8&255,i[c++]=t&255;return o===2&&(t=nr[r.charCodeAt(C)]<<2|nr[r.charCodeAt(C+1)]>>4,i[c++]=t&255),o===1&&(t=nr[r.charCodeAt(C)]<<10|nr[r.charCodeAt(C+1)]<<4|nr[r.charCodeAt(C+2)]>>2,i[c++]=t>>8&255,i[c++]=t&255),i}function Pu(r){return yr[r>>18&63]+yr[r>>12&63]+yr[r>>6&63]+yr[r&63]}function ju(r,t,e){for(var n,o=[],i=t;i<e;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),o.push(Pu(n));return o.join("")}function Hu(r){for(var t,e=r.length,n=e%3,o=[],i=16383,c=0,x=e-n;c<x;c+=i)o.push(ju(r,c,c+i>x?x:c+i));return n===1?(t=r[e-1],o.push(yr[t>>2]+yr[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],o.push(yr[t>>10]+yr[t>>4&63]+yr[t<<2&63]+"=")),o.join("")}var Co={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Co.read=function(r,t,e,n,o){var i,c,x=o*8-n-1,C=(1<<x)-1,k=C>>1,R=-7,K=e?o-1:0,V=e?-1:1,Z=r[t+K];for(K+=V,i=Z&(1<<-R)-1,Z>>=-R,R+=x;R>0;i=i*256+r[t+K],K+=V,R-=8);for(c=i&(1<<-R)-1,i>>=-R,R+=n;R>0;c=c*256+r[t+K],K+=V,R-=8);if(i===0)i=1-k;else{if(i===C)return c?NaN:(Z?-1:1)*(1/0);c=c+Math.pow(2,n),i=i-k}return(Z?-1:1)*c*Math.pow(2,i-n)};Co.write=function(r,t,e,n,o,i){var c,x,C,k=i*8-o-1,R=(1<<k)-1,K=R>>1,V=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,Z=n?0:i-1,Et=n?1:-1,Pt=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(x=isNaN(t)?1:0,c=R):(c=Math.floor(Math.log(t)/Math.LN2),t*(C=Math.pow(2,-c))<1&&(c--,C*=2),c+K>=1?t+=V/C:t+=V*Math.pow(2,1-K),t*C>=2&&(c++,C/=2),c+K>=R?(x=0,c=R):c+K>=1?(x=(t*C-1)*Math.pow(2,o),c=c+K):(x=t*Math.pow(2,K-1)*Math.pow(2,o),c=0));o>=8;r[e+Z]=x&255,Z+=Et,x/=256,o-=8);for(c=c<<o|x,k+=o;k>0;r[e+Z]=c&255,Z+=Et,c/=256,k-=8);r[e+Z-Et]|=Pt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=Ai,e=Co,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=x,r.SlowBuffer=Ot,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,x.TYPED_ARRAY_SUPPORT=i(),!x.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const I=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(I,p),I.foo()===42}catch{return!1}}Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(!!x.isBuffer(this))return this.buffer}}),Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(!!x.isBuffer(this))return this.byteOffset}});function c(I){if(I>o)throw new RangeError('The value "'+I+'" is invalid for option "size"');const p=new Uint8Array(I);return Object.setPrototypeOf(p,x.prototype),p}function x(I,p,g){if(typeof I=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return K(I)}return C(I,p,g)}x.poolSize=8192;function C(I,p,g){if(typeof I=="string")return V(I,p);if(ArrayBuffer.isView(I))return Et(I);if(I==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(pe(I,ArrayBuffer)||I&&pe(I.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(pe(I,SharedArrayBuffer)||I&&pe(I.buffer,SharedArrayBuffer)))return Pt(I,p,g);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=I.valueOf&&I.valueOf();if($!=null&&$!==I)return x.from($,p,g);const q=wt(I);if(q)return q;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return x.from(I[Symbol.toPrimitive]("string"),p,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}x.from=function(I,p,g){return C(I,p,g)},Object.setPrototypeOf(x.prototype,Uint8Array.prototype),Object.setPrototypeOf(x,Uint8Array);function k(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function R(I,p,g){return k(I),I<=0?c(I):p!==void 0?typeof g=="string"?c(I).fill(p,g):c(I).fill(p):c(I)}x.alloc=function(I,p,g){return R(I,p,g)};function K(I){return k(I),c(I<0?0:Nt(I)|0)}x.allocUnsafe=function(I){return K(I)},x.allocUnsafeSlow=function(I){return K(I)};function V(I,p){if((typeof p!="string"||p==="")&&(p="utf8"),!x.isEncoding(p))throw new TypeError("Unknown encoding: "+p);const g=se(I,p)|0;let $=c(g);const q=$.write(I,p);return q!==g&&($=$.slice(0,q)),$}function Z(I){const p=I.length<0?0:Nt(I.length)|0,g=c(p);for(let $=0;$<p;$+=1)g[$]=I[$]&255;return g}function Et(I){if(pe(I,Uint8Array)){const p=new Uint8Array(I);return Pt(p.buffer,p.byteOffset,p.byteLength)}return Z(I)}function Pt(I,p,g){if(p<0||I.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<p+(g||0))throw new RangeError('"length" is outside of buffer bounds');let $;return p===void 0&&g===void 0?$=new Uint8Array(I):g===void 0?$=new Uint8Array(I,p):$=new Uint8Array(I,p,g),Object.setPrototypeOf($,x.prototype),$}function wt(I){if(x.isBuffer(I)){const p=Nt(I.length)|0,g=c(p);return g.length===0||I.copy(g,0,0,p),g}if(I.length!==void 0)return typeof I.length!="number"||Lt(I.length)?c(0):Z(I);if(I.type==="Buffer"&&Array.isArray(I.data))return Z(I.data)}function Nt(I){if(I>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return I|0}function Ot(I){return+I!=I&&(I=0),x.alloc(+I)}x.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==x.prototype},x.compare=function(p,g){if(pe(p,Uint8Array)&&(p=x.from(p,p.offset,p.byteLength)),pe(g,Uint8Array)&&(g=x.from(g,g.offset,g.byteLength)),!x.isBuffer(p)||!x.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===g)return 0;let $=p.length,q=g.length;for(let G=0,it=Math.min($,q);G<it;++G)if(p[G]!==g[G]){$=p[G],q=g[G];break}return $<q?-1:q<$?1:0},x.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(p,g){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return x.alloc(0);let $;if(g===void 0)for(g=0,$=0;$<p.length;++$)g+=p[$].length;const q=x.allocUnsafe(g);let G=0;for($=0;$<p.length;++$){let it=p[$];if(pe(it,Uint8Array))G+it.length>q.length?(x.isBuffer(it)||(it=x.from(it)),it.copy(q,G)):Uint8Array.prototype.set.call(q,it,G);else if(x.isBuffer(it))it.copy(q,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=it.length}return q};function se(I,p){if(x.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||pe(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);const g=I.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&g===0)return 0;let q=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return ie(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return zt(I).length;default:if(q)return $?-1:ie(I).length;p=(""+p).toLowerCase(),q=!0}}x.byteLength=se;function oe(I,p,g){let $=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,p>>>=0,g<=p))return"";for(I||(I="utf8");;)switch(I){case"hex":return h(this,p,g);case"utf8":case"utf-8":return f(this,p,g);case"ascii":return _(this,p,g);case"latin1":case"binary":return E(this,p,g);case"base64":return s(this,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,p,g);default:if($)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),$=!0}}x.prototype._isBuffer=!0;function Rt(I,p,g){const $=I[p];I[p]=I[g],I[g]=$}x.prototype.swap16=function(){const p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<p;g+=2)Rt(this,g,g+1);return this},x.prototype.swap32=function(){const p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<p;g+=4)Rt(this,g,g+3),Rt(this,g+1,g+2);return this},x.prototype.swap64=function(){const p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<p;g+=8)Rt(this,g,g+7),Rt(this,g+1,g+6),Rt(this,g+2,g+5),Rt(this,g+3,g+4);return this},x.prototype.toString=function(){const p=this.length;return p===0?"":arguments.length===0?f(this,0,p):oe.apply(this,arguments)},x.prototype.toLocaleString=x.prototype.toString,x.prototype.equals=function(p){if(!x.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:x.compare(this,p)===0},x.prototype.inspect=function(){let p="";const g=r.INSPECT_MAX_BYTES;return p=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(p+=" ... "),"<Buffer "+p+">"},n&&(x.prototype[n]=x.prototype.inspect),x.prototype.compare=function(p,g,$,q,G){if(pe(p,Uint8Array)&&(p=x.from(p,p.offset,p.byteLength)),!x.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(g===void 0&&(g=0),$===void 0&&($=p?p.length:0),q===void 0&&(q=0),G===void 0&&(G=this.length),g<0||$>p.length||q<0||G>this.length)throw new RangeError("out of range index");if(q>=G&&g>=$)return 0;if(q>=G)return-1;if(g>=$)return 1;if(g>>>=0,$>>>=0,q>>>=0,G>>>=0,this===p)return 0;let it=G-q,Ut=$-g;const Tt=Math.min(it,Ut),qt=this.slice(q,G),Yt=p.slice(g,$);for(let St=0;St<Tt;++St)if(qt[St]!==Yt[St]){it=qt[St],Ut=Yt[St];break}return it<Ut?-1:Ut<it?1:0};function re(I,p,g,$,q){if(I.length===0)return-1;if(typeof g=="string"?($=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,Lt(g)&&(g=q?0:I.length-1),g<0&&(g=I.length+g),g>=I.length){if(q)return-1;g=I.length-1}else if(g<0)if(q)g=0;else return-1;if(typeof p=="string"&&(p=x.from(p,$)),x.isBuffer(p))return p.length===0?-1:ne(I,p,g,$,q);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(I,p,g):Uint8Array.prototype.lastIndexOf.call(I,p,g):ne(I,[p],g,$,q);throw new TypeError("val must be string, number or Buffer")}function ne(I,p,g,$,q){let G=1,it=I.length,Ut=p.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(I.length<2||p.length<2)return-1;G=2,it/=2,Ut/=2,g/=2}function Tt(Yt,St){return G===1?Yt[St]:Yt.readUInt16BE(St*G)}let qt;if(q){let Yt=-1;for(qt=g;qt<it;qt++)if(Tt(I,qt)===Tt(p,Yt===-1?0:qt-Yt)){if(Yt===-1&&(Yt=qt),qt-Yt+1===Ut)return Yt*G}else Yt!==-1&&(qt-=qt-Yt),Yt=-1}else for(g+Ut>it&&(g=it-Ut),qt=g;qt>=0;qt--){let Yt=!0;for(let St=0;St<Ut;St++)if(Tt(I,qt+St)!==Tt(p,St)){Yt=!1;break}if(Yt)return qt}return-1}x.prototype.includes=function(p,g,$){return this.indexOf(p,g,$)!==-1},x.prototype.indexOf=function(p,g,$){return re(this,p,g,$,!0)},x.prototype.lastIndexOf=function(p,g,$){return re(this,p,g,$,!1)};function Jt(I,p,g,$){g=Number(g)||0;const q=I.length-g;$?($=Number($),$>q&&($=q)):$=q;const G=p.length;$>G/2&&($=G/2);let it;for(it=0;it<$;++it){const Ut=parseInt(p.substr(it*2,2),16);if(Lt(Ut))return it;I[g+it]=Ut}return it}function Ae(I,p,g,$){return _e(ie(p,I.length-g),I,g,$)}function S(I,p,g,$){return _e(ye(p),I,g,$)}function u(I,p,g,$){return _e(zt(p),I,g,$)}function l(I,p,g,$){return _e(fe(p,I.length-g),I,g,$)}x.prototype.write=function(p,g,$,q){if(g===void 0)q="utf8",$=this.length,g=0;else if($===void 0&&typeof g=="string")q=g,$=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite($)?($=$>>>0,q===void 0&&(q="utf8")):(q=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const G=this.length-g;if(($===void 0||$>G)&&($=G),p.length>0&&($<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let it=!1;for(;;)switch(q){case"hex":return Jt(this,p,g,$);case"utf8":case"utf-8":return Ae(this,p,g,$);case"ascii":case"latin1":case"binary":return S(this,p,g,$);case"base64":return u(this,p,g,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,p,g,$);default:if(it)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),it=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function s(I,p,g){return p===0&&g===I.length?t.fromByteArray(I):t.fromByteArray(I.slice(p,g))}function f(I,p,g){g=Math.min(I.length,g);const $=[];let q=p;for(;q<g;){const G=I[q];let it=null,Ut=G>239?4:G>223?3:G>191?2:1;if(q+Ut<=g){let Tt,qt,Yt,St;switch(Ut){case 1:G<128&&(it=G);break;case 2:Tt=I[q+1],(Tt&192)===128&&(St=(G&31)<<6|Tt&63,St>127&&(it=St));break;case 3:Tt=I[q+1],qt=I[q+2],(Tt&192)===128&&(qt&192)===128&&(St=(G&15)<<12|(Tt&63)<<6|qt&63,St>2047&&(St<55296||St>57343)&&(it=St));break;case 4:Tt=I[q+1],qt=I[q+2],Yt=I[q+3],(Tt&192)===128&&(qt&192)===128&&(Yt&192)===128&&(St=(G&15)<<18|(Tt&63)<<12|(qt&63)<<6|Yt&63,St>65535&&St<1114112&&(it=St))}}it===null?(it=65533,Ut=1):it>65535&&(it-=65536,$.push(it>>>10&1023|55296),it=56320|it&1023),$.push(it),q+=Ut}return b($)}const d=4096;function b(I){const p=I.length;if(p<=d)return String.fromCharCode.apply(String,I);let g="",$=0;for(;$<p;)g+=String.fromCharCode.apply(String,I.slice($,$+=d));return g}function _(I,p,g){let $="";g=Math.min(I.length,g);for(let q=p;q<g;++q)$+=String.fromCharCode(I[q]&127);return $}function E(I,p,g){let $="";g=Math.min(I.length,g);for(let q=p;q<g;++q)$+=String.fromCharCode(I[q]);return $}function h(I,p,g){const $=I.length;(!p||p<0)&&(p=0),(!g||g<0||g>$)&&(g=$);let q="";for(let G=p;G<g;++G)q+=be[I[G]];return q}function w(I,p,g){const $=I.slice(p,g);let q="";for(let G=0;G<$.length-1;G+=2)q+=String.fromCharCode($[G]+$[G+1]*256);return q}x.prototype.slice=function(p,g){const $=this.length;p=~~p,g=g===void 0?$:~~g,p<0?(p+=$,p<0&&(p=0)):p>$&&(p=$),g<0?(g+=$,g<0&&(g=0)):g>$&&(g=$),g<p&&(g=p);const q=this.subarray(p,g);return Object.setPrototypeOf(q,x.prototype),q};function v(I,p,g){if(I%1!==0||I<0)throw new RangeError("offset is not uint");if(I+p>g)throw new RangeError("Trying to access beyond buffer length")}x.prototype.readUintLE=x.prototype.readUIntLE=function(p,g,$){p=p>>>0,g=g>>>0,$||v(p,g,this.length);let q=this[p],G=1,it=0;for(;++it<g&&(G*=256);)q+=this[p+it]*G;return q},x.prototype.readUintBE=x.prototype.readUIntBE=function(p,g,$){p=p>>>0,g=g>>>0,$||v(p,g,this.length);let q=this[p+--g],G=1;for(;g>0&&(G*=256);)q+=this[p+--g]*G;return q},x.prototype.readUint8=x.prototype.readUInt8=function(p,g){return p=p>>>0,g||v(p,1,this.length),this[p]},x.prototype.readUint16LE=x.prototype.readUInt16LE=function(p,g){return p=p>>>0,g||v(p,2,this.length),this[p]|this[p+1]<<8},x.prototype.readUint16BE=x.prototype.readUInt16BE=function(p,g){return p=p>>>0,g||v(p,2,this.length),this[p]<<8|this[p+1]},x.prototype.readUint32LE=x.prototype.readUInt32LE=function(p,g){return p=p>>>0,g||v(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},x.prototype.readUint32BE=x.prototype.readUInt32BE=function(p,g){return p=p>>>0,g||v(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},x.prototype.readBigUInt64LE=ve(function(p){p=p>>>0,Ee(p,"offset");const g=this[p],$=this[p+7];(g===void 0||$===void 0)&&Qt(p,this.length-8);const q=g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,G=this[++p]+this[++p]*2**8+this[++p]*2**16+$*2**24;return BigInt(q)+(BigInt(G)<<BigInt(32))}),x.prototype.readBigUInt64BE=ve(function(p){p=p>>>0,Ee(p,"offset");const g=this[p],$=this[p+7];(g===void 0||$===void 0)&&Qt(p,this.length-8);const q=g*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],G=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+$;return(BigInt(q)<<BigInt(32))+BigInt(G)}),x.prototype.readIntLE=function(p,g,$){p=p>>>0,g=g>>>0,$||v(p,g,this.length);let q=this[p],G=1,it=0;for(;++it<g&&(G*=256);)q+=this[p+it]*G;return G*=128,q>=G&&(q-=Math.pow(2,8*g)),q},x.prototype.readIntBE=function(p,g,$){p=p>>>0,g=g>>>0,$||v(p,g,this.length);let q=g,G=1,it=this[p+--q];for(;q>0&&(G*=256);)it+=this[p+--q]*G;return G*=128,it>=G&&(it-=Math.pow(2,8*g)),it},x.prototype.readInt8=function(p,g){return p=p>>>0,g||v(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},x.prototype.readInt16LE=function(p,g){p=p>>>0,g||v(p,2,this.length);const $=this[p]|this[p+1]<<8;return $&32768?$|4294901760:$},x.prototype.readInt16BE=function(p,g){p=p>>>0,g||v(p,2,this.length);const $=this[p+1]|this[p]<<8;return $&32768?$|4294901760:$},x.prototype.readInt32LE=function(p,g){return p=p>>>0,g||v(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},x.prototype.readInt32BE=function(p,g){return p=p>>>0,g||v(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},x.prototype.readBigInt64LE=ve(function(p){p=p>>>0,Ee(p,"offset");const g=this[p],$=this[p+7];(g===void 0||$===void 0)&&Qt(p,this.length-8);const q=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+($<<24);return(BigInt(q)<<BigInt(32))+BigInt(g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),x.prototype.readBigInt64BE=ve(function(p){p=p>>>0,Ee(p,"offset");const g=this[p],$=this[p+7];(g===void 0||$===void 0)&&Qt(p,this.length-8);const q=(g<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(q)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+$)}),x.prototype.readFloatLE=function(p,g){return p=p>>>0,g||v(p,4,this.length),e.read(this,p,!0,23,4)},x.prototype.readFloatBE=function(p,g){return p=p>>>0,g||v(p,4,this.length),e.read(this,p,!1,23,4)},x.prototype.readDoubleLE=function(p,g){return p=p>>>0,g||v(p,8,this.length),e.read(this,p,!0,52,8)},x.prototype.readDoubleBE=function(p,g){return p=p>>>0,g||v(p,8,this.length),e.read(this,p,!1,52,8)};function U(I,p,g,$,q,G){if(!x.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>q||p<G)throw new RangeError('"value" argument is out of bounds');if(g+$>I.length)throw new RangeError("Index out of range")}x.prototype.writeUintLE=x.prototype.writeUIntLE=function(p,g,$,q){if(p=+p,g=g>>>0,$=$>>>0,!q){const Ut=Math.pow(2,8*$)-1;U(this,p,g,$,Ut,0)}let G=1,it=0;for(this[g]=p&255;++it<$&&(G*=256);)this[g+it]=p/G&255;return g+$},x.prototype.writeUintBE=x.prototype.writeUIntBE=function(p,g,$,q){if(p=+p,g=g>>>0,$=$>>>0,!q){const Ut=Math.pow(2,8*$)-1;U(this,p,g,$,Ut,0)}let G=$-1,it=1;for(this[g+G]=p&255;--G>=0&&(it*=256);)this[g+G]=p/it&255;return g+$},x.prototype.writeUint8=x.prototype.writeUInt8=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,1,255,0),this[g]=p&255,g+1},x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,2,65535,0),this[g]=p&255,this[g+1]=p>>>8,g+2},x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,2,65535,0),this[g]=p>>>8,this[g+1]=p&255,g+2},x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,4,4294967295,0),this[g+3]=p>>>24,this[g+2]=p>>>16,this[g+1]=p>>>8,this[g]=p&255,g+4},x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,4,4294967295,0),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4};function lt(I,p,g,$,q){ce(p,$,q,I,g,7);let G=Number(p&BigInt(4294967295));I[g++]=G,G=G>>8,I[g++]=G,G=G>>8,I[g++]=G,G=G>>8,I[g++]=G;let it=Number(p>>BigInt(32)&BigInt(4294967295));return I[g++]=it,it=it>>8,I[g++]=it,it=it>>8,I[g++]=it,it=it>>8,I[g++]=it,g}function gt(I,p,g,$,q){ce(p,$,q,I,g,7);let G=Number(p&BigInt(4294967295));I[g+7]=G,G=G>>8,I[g+6]=G,G=G>>8,I[g+5]=G,G=G>>8,I[g+4]=G;let it=Number(p>>BigInt(32)&BigInt(4294967295));return I[g+3]=it,it=it>>8,I[g+2]=it,it=it>>8,I[g+1]=it,it=it>>8,I[g]=it,g+8}x.prototype.writeBigUInt64LE=ve(function(p,g=0){return lt(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeBigUInt64BE=ve(function(p,g=0){return gt(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeIntLE=function(p,g,$,q){if(p=+p,g=g>>>0,!q){const Tt=Math.pow(2,8*$-1);U(this,p,g,$,Tt-1,-Tt)}let G=0,it=1,Ut=0;for(this[g]=p&255;++G<$&&(it*=256);)p<0&&Ut===0&&this[g+G-1]!==0&&(Ut=1),this[g+G]=(p/it>>0)-Ut&255;return g+$},x.prototype.writeIntBE=function(p,g,$,q){if(p=+p,g=g>>>0,!q){const Tt=Math.pow(2,8*$-1);U(this,p,g,$,Tt-1,-Tt)}let G=$-1,it=1,Ut=0;for(this[g+G]=p&255;--G>=0&&(it*=256);)p<0&&Ut===0&&this[g+G+1]!==0&&(Ut=1),this[g+G]=(p/it>>0)-Ut&255;return g+$},x.prototype.writeInt8=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,1,127,-128),p<0&&(p=255+p+1),this[g]=p&255,g+1},x.prototype.writeInt16LE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,2,32767,-32768),this[g]=p&255,this[g+1]=p>>>8,g+2},x.prototype.writeInt16BE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,2,32767,-32768),this[g]=p>>>8,this[g+1]=p&255,g+2},x.prototype.writeInt32LE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,4,2147483647,-2147483648),this[g]=p&255,this[g+1]=p>>>8,this[g+2]=p>>>16,this[g+3]=p>>>24,g+4},x.prototype.writeInt32BE=function(p,g,$){return p=+p,g=g>>>0,$||U(this,p,g,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4},x.prototype.writeBigInt64LE=ve(function(p,g=0){return lt(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),x.prototype.writeBigInt64BE=ve(function(p,g=0){return gt(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function mt(I,p,g,$,q,G){if(g+$>I.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Wt(I,p,g,$,q){return p=+p,g=g>>>0,q||mt(I,p,g,4),e.write(I,p,g,$,23,4),g+4}x.prototype.writeFloatLE=function(p,g,$){return Wt(this,p,g,!0,$)},x.prototype.writeFloatBE=function(p,g,$){return Wt(this,p,g,!1,$)};function de(I,p,g,$,q){return p=+p,g=g>>>0,q||mt(I,p,g,8),e.write(I,p,g,$,52,8),g+8}x.prototype.writeDoubleLE=function(p,g,$){return de(this,p,g,!0,$)},x.prototype.writeDoubleBE=function(p,g,$){return de(this,p,g,!1,$)},x.prototype.copy=function(p,g,$,q){if(!x.isBuffer(p))throw new TypeError("argument should be a Buffer");if($||($=0),!q&&q!==0&&(q=this.length),g>=p.length&&(g=p.length),g||(g=0),q>0&&q<$&&(q=$),q===$||p.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),p.length-g<q-$&&(q=p.length-g+$);const G=q-$;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,$,q):Uint8Array.prototype.set.call(p,this.subarray($,q),g),G},x.prototype.fill=function(p,g,$,q){if(typeof p=="string"){if(typeof g=="string"?(q=g,g=0,$=this.length):typeof $=="string"&&(q=$,$=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!x.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(p.length===1){const it=p.charCodeAt(0);(q==="utf8"&&it<128||q==="latin1")&&(p=it)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(g<0||this.length<g||this.length<$)throw new RangeError("Out of range index");if($<=g)return this;g=g>>>0,$=$===void 0?this.length:$>>>0,p||(p=0);let G;if(typeof p=="number")for(G=g;G<$;++G)this[G]=p;else{const it=x.isBuffer(p)?p:x.from(p,q),Ut=it.length;if(Ut===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(G=0;G<$-g;++G)this[G+g]=it[G%Ut]}return this};const jt={};function ae(I,p,g){jt[I]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${I}]`,this.stack,delete this.name}get code(){return I}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${I}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(I){return I?`${I} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(I,p){return`The "${I}" argument must be of type number. Received type ${typeof p}`},TypeError),ae("ERR_OUT_OF_RANGE",function(I,p,g){let $=`The value of "${I}" is out of range.`,q=g;return Number.isInteger(g)&&Math.abs(g)>2**32?q=he(String(g)):typeof g=="bigint"&&(q=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(q=he(q)),q+="n"),$+=` It must be ${p}. Received ${q}`,$},RangeError);function he(I){let p="",g=I.length;const $=I[0]==="-"?1:0;for(;g>=$+4;g-=3)p=`_${I.slice(g-3,g)}${p}`;return`${I.slice(0,g)}${p}`}function Ft(I,p,g){Ee(p,"offset"),(I[p]===void 0||I[p+g]===void 0)&&Qt(p,I.length-(g+1))}function ce(I,p,g,$,q,G){if(I>g||I<p){const it=typeof p=="bigint"?"n":"";let Ut;throw G>3?p===0||p===BigInt(0)?Ut=`>= 0${it} and < 2${it} ** ${(G+1)*8}${it}`:Ut=`>= -(2${it} ** ${(G+1)*8-1}${it}) and < 2 ** ${(G+1)*8-1}${it}`:Ut=`>= ${p}${it} and <= ${g}${it}`,new jt.ERR_OUT_OF_RANGE("value",Ut,I)}Ft($,q,G)}function Ee(I,p){if(typeof I!="number")throw new jt.ERR_INVALID_ARG_TYPE(p,"number",I)}function Qt(I,p,g){throw Math.floor(I)!==I?(Ee(I,g),new jt.ERR_OUT_OF_RANGE(g||"offset","an integer",I)):p<0?new jt.ERR_BUFFER_OUT_OF_BOUNDS:new jt.ERR_OUT_OF_RANGE(g||"offset",`>= ${g?1:0} and <= ${p}`,I)}const Ce=/[^+/0-9A-Za-z-_]/g;function me(I){if(I=I.split("=")[0],I=I.trim().replace(Ce,""),I.length<2)return"";for(;I.length%4!==0;)I=I+"=";return I}function ie(I,p){p=p||1/0;let g;const $=I.length;let q=null;const G=[];for(let it=0;it<$;++it){if(g=I.charCodeAt(it),g>55295&&g<57344){if(!q){if(g>56319){(p-=3)>-1&&G.push(239,191,189);continue}else if(it+1===$){(p-=3)>-1&&G.push(239,191,189);continue}q=g;continue}if(g<56320){(p-=3)>-1&&G.push(239,191,189),q=g;continue}g=(q-55296<<10|g-56320)+65536}else q&&(p-=3)>-1&&G.push(239,191,189);if(q=null,g<128){if((p-=1)<0)break;G.push(g)}else if(g<2048){if((p-=2)<0)break;G.push(g>>6|192,g&63|128)}else if(g<65536){if((p-=3)<0)break;G.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((p-=4)<0)break;G.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return G}function ye(I){const p=[];for(let g=0;g<I.length;++g)p.push(I.charCodeAt(g)&255);return p}function fe(I,p){let g,$,q;const G=[];for(let it=0;it<I.length&&!((p-=2)<0);++it)g=I.charCodeAt(it),$=g>>8,q=g%256,G.push(q),G.push($);return G}function zt(I){return t.toByteArray(me(I))}function _e(I,p,g,$){let q;for(q=0;q<$&&!(q+g>=p.length||q>=I.length);++q)p[q+g]=I[q];return q}function pe(I,p){return I instanceof p||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===p.name}function Lt(I){return I!==I}const be=function(){const I="0123456789abcdef",p=new Array(256);for(let g=0;g<16;++g){const $=g*16;for(let q=0;q<16;++q)p[$+q]=I[g]+I[q]}return p}();function ve(I){return typeof BigInt=="undefined"?Xt:I}function Xt(){throw new Error("BigInt not supported")}})(Ua);window.Buffer=Ua.Buffer;var $n,ee,ka,Oa,Bn,La,fs,Pa,ci={},ja=[],qu=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _r(r,t){for(var e in t)r[e]=t[e];return r}function Ha(r){var t=r.parentNode;t&&t.removeChild(r)}function lr(r,t,e){var n,o,i,c={};for(i in t)i=="key"?n=t[i]:i=="ref"?o=t[i]:c[i]=t[i];if(arguments.length>2&&(c.children=arguments.length>3?$n.call(arguments,2):e),typeof r=="function"&&r.defaultProps!=null)for(i in r.defaultProps)c[i]===void 0&&(c[i]=r.defaultProps[i]);return Mn(r,c,n,o,null)}function Mn(r,t,e,n,o){var i={type:r,props:t,key:e,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o==null?++ka:o};return o==null&&ee.vnode!=null&&ee.vnode(i),i}function qa(){return{current:null}}function Ar(r){return r.children}function ur(r,t){this.props=r,this.context=t}function Zr(r,t){if(t==null)return r.__?Zr(r.__,r.__.__k.indexOf(r)+1):null;for(var e;t<r.__k.length;t++)if((e=r.__k[t])!=null&&e.__e!=null)return e.__e;return typeof r.type=="function"?Zr(r):null}function Wa(r){var t,e;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,t=0;t<r.__k.length;t++)if((e=r.__k[t])!=null&&e.__e!=null){r.__e=r.__c.base=e.__e;break}return Wa(r)}}function ro(r){(!r.__d&&(r.__d=!0)&&Bn.push(r)&&!hi.__r++||fs!==ee.debounceRendering)&&((fs=ee.debounceRendering)||La)(hi)}function hi(){for(var r;hi.__r=Bn.length;)r=Bn.sort(function(t,e){return t.__v.__b-e.__v.__b}),Bn=[],r.some(function(t){var e,n,o,i,c,x;t.__d&&(c=(i=(e=t).__v).__e,(x=e.__P)&&(n=[],(o=_r({},i)).__v=i.__v+1,Bo(x,i,o,e.__n,x.ownerSVGElement!==void 0,i.__h!=null?[c]:null,n,c==null?Zr(i):c,i.__h),Ya(n,i),i.__e!=c&&Wa(i)))})}function Va(r,t,e,n,o,i,c,x,C,k){var R,K,V,Z,Et,Pt,wt,Nt=n&&n.__k||ja,Ot=Nt.length;for(e.__k=[],R=0;R<t.length;R++)if((Z=e.__k[R]=(Z=t[R])==null||typeof Z=="boolean"?null:typeof Z=="string"||typeof Z=="number"||typeof Z=="bigint"?Mn(null,Z,null,null,Z):Array.isArray(Z)?Mn(Ar,{children:Z},null,null,null):Z.__b>0?Mn(Z.type,Z.props,Z.key,null,Z.__v):Z)!=null){if(Z.__=e,Z.__b=e.__b+1,(V=Nt[R])===null||V&&Z.key==V.key&&Z.type===V.type)Nt[R]=void 0;else for(K=0;K<Ot;K++){if((V=Nt[K])&&Z.key==V.key&&Z.type===V.type){Nt[K]=void 0;break}V=null}Bo(r,Z,V=V||ci,o,i,c,x,C,k),Et=Z.__e,(K=Z.ref)&&V.ref!=K&&(wt||(wt=[]),V.ref&&wt.push(V.ref,null,Z),wt.push(K,Z.__c||Et,Z)),Et!=null?(Pt==null&&(Pt=Et),typeof Z.type=="function"&&Z.__k===V.__k?Z.__d=C=Ka(Z,C,r):C=Ga(r,Z,V,Nt,Et,C),typeof e.type=="function"&&(e.__d=C)):C&&V.__e==C&&C.parentNode!=r&&(C=Zr(V))}for(e.__e=Pt,R=Ot;R--;)Nt[R]!=null&&(typeof e.type=="function"&&Nt[R].__e!=null&&Nt[R].__e==e.__d&&(e.__d=Zr(n,R+1)),za(Nt[R],Nt[R]));if(wt)for(R=0;R<wt.length;R++)Xa(wt[R],wt[++R],wt[++R])}function Ka(r,t,e){for(var n,o=r.__k,i=0;o&&i<o.length;i++)(n=o[i])&&(n.__=r,t=typeof n.type=="function"?Ka(n,t,e):Ga(e,n,n,o,n.__e,t));return t}function gr(r,t){return t=t||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(e){gr(e,t)}):t.push(r)),t}function Ga(r,t,e,n,o,i){var c,x,C;if(t.__d!==void 0)c=t.__d,t.__d=void 0;else if(e==null||o!=i||o.parentNode==null)t:if(i==null||i.parentNode!==r)r.appendChild(o),c=null;else{for(x=i,C=0;(x=x.nextSibling)&&C<n.length;C+=2)if(x==o)break t;r.insertBefore(o,i),c=i}return c!==void 0?c:o.nextSibling}function Wu(r,t,e,n,o){var i;for(i in e)i==="children"||i==="key"||i in t||di(r,i,null,e[i],n);for(i in t)o&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||e[i]===t[i]||di(r,i,t[i],e[i],n)}function us(r,t,e){t[0]==="-"?r.setProperty(t,e):r[t]=e==null?"":typeof e!="number"||qu.test(t)?e:e+"px"}function di(r,t,e,n,o){var i;t:if(t==="style")if(typeof e=="string")r.style.cssText=e;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(t in n)e&&t in e||us(r.style,t,"");if(e)for(t in e)n&&e[t]===n[t]||us(r.style,t,e[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in r?t.toLowerCase().slice(2):t.slice(2),r.l||(r.l={}),r.l[t+i]=e,e?n||r.addEventListener(t,i?cs:ls,i):r.removeEventListener(t,i?cs:ls,i);else if(t!=="dangerouslySetInnerHTML"){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in r)try{r[t]=e==null?"":e;break t}catch{}typeof e=="function"||(e!=null&&(e!==!1||t[0]==="a"&&t[1]==="r")?r.setAttribute(t,e):r.removeAttribute(t))}}function ls(r){this.l[r.type+!1](ee.event?ee.event(r):r)}function cs(r){this.l[r.type+!0](ee.event?ee.event(r):r)}function Bo(r,t,e,n,o,i,c,x,C){var k,R,K,V,Z,Et,Pt,wt,Nt,Ot,se,oe=t.type;if(t.constructor!==void 0)return null;e.__h!=null&&(C=e.__h,x=t.__e=e.__e,t.__h=null,i=[x]),(k=ee.__b)&&k(t);try{t:if(typeof oe=="function"){if(wt=t.props,Nt=(k=oe.contextType)&&n[k.__c],Ot=k?Nt?Nt.props.value:k.__:n,e.__c?Pt=(R=t.__c=e.__c).__=R.__E:("prototype"in oe&&oe.prototype.render?t.__c=R=new oe(wt,Ot):(t.__c=R=new ur(wt,Ot),R.constructor=oe,R.render=Ku),Nt&&Nt.sub(R),R.props=wt,R.state||(R.state={}),R.context=Ot,R.__n=n,K=R.__d=!0,R.__h=[]),R.__s==null&&(R.__s=R.state),oe.getDerivedStateFromProps!=null&&(R.__s==R.state&&(R.__s=_r({},R.__s)),_r(R.__s,oe.getDerivedStateFromProps(wt,R.__s))),V=R.props,Z=R.state,K)oe.getDerivedStateFromProps==null&&R.componentWillMount!=null&&R.componentWillMount(),R.componentDidMount!=null&&R.__h.push(R.componentDidMount);else{if(oe.getDerivedStateFromProps==null&&wt!==V&&R.componentWillReceiveProps!=null&&R.componentWillReceiveProps(wt,Ot),!R.__e&&R.shouldComponentUpdate!=null&&R.shouldComponentUpdate(wt,R.__s,Ot)===!1||t.__v===e.__v){R.props=wt,R.state=R.__s,t.__v!==e.__v&&(R.__d=!1),R.__v=t,t.__e=e.__e,t.__k=e.__k,t.__k.forEach(function(Rt){Rt&&(Rt.__=t)}),R.__h.length&&c.push(R);break t}R.componentWillUpdate!=null&&R.componentWillUpdate(wt,R.__s,Ot),R.componentDidUpdate!=null&&R.__h.push(function(){R.componentDidUpdate(V,Z,Et)})}R.context=Ot,R.props=wt,R.state=R.__s,(k=ee.__r)&&k(t),R.__d=!1,R.__v=t,R.__P=r,k=R.render(R.props,R.state,R.context),R.state=R.__s,R.getChildContext!=null&&(n=_r(_r({},n),R.getChildContext())),K||R.getSnapshotBeforeUpdate==null||(Et=R.getSnapshotBeforeUpdate(V,Z)),se=k!=null&&k.type===Ar&&k.key==null?k.props.children:k,Va(r,Array.isArray(se)?se:[se],t,e,n,o,i,c,x,C),R.base=t.__e,t.__h=null,R.__h.length&&c.push(R),Pt&&(R.__E=R.__=null),R.__e=!1}else i==null&&t.__v===e.__v?(t.__k=e.__k,t.__e=e.__e):t.__e=Vu(e.__e,t,e,n,o,i,c,C);(k=ee.diffed)&&k(t)}catch(Rt){t.__v=null,(C||i!=null)&&(t.__e=x,t.__h=!!C,i[i.indexOf(x)]=null),ee.__e(Rt,t,e)}}function Ya(r,t){ee.__c&&ee.__c(t,r),r.some(function(e){try{r=e.__h,e.__h=[],r.some(function(n){n.call(e)})}catch(n){ee.__e(n,e.__v)}})}function Vu(r,t,e,n,o,i,c,x){var C,k,R,K=e.props,V=t.props,Z=t.type,Et=0;if(Z==="svg"&&(o=!0),i!=null){for(;Et<i.length;Et++)if((C=i[Et])&&"setAttribute"in C==!!Z&&(Z?C.localName===Z:C.nodeType===3)){r=C,i[Et]=null;break}}if(r==null){if(Z===null)return document.createTextNode(V);r=o?document.createElementNS("http://www.w3.org/2000/svg",Z):document.createElement(Z,V.is&&V),i=null,x=!1}if(Z===null)K===V||x&&r.data===V||(r.data=V);else{if(i=i&&$n.call(r.childNodes),k=(K=e.props||ci).dangerouslySetInnerHTML,R=V.dangerouslySetInnerHTML,!x){if(i!=null)for(K={},Et=0;Et<r.attributes.length;Et++)K[r.attributes[Et].name]=r.attributes[Et].value;(R||k)&&(R&&(k&&R.__html==k.__html||R.__html===r.innerHTML)||(r.innerHTML=R&&R.__html||""))}if(Wu(r,V,K,o,x),R)t.__k=[];else if(Et=t.props.children,Va(r,Array.isArray(Et)?Et:[Et],t,e,n,o&&Z!=="foreignObject",i,c,i?i[0]:e.__k&&Zr(e,0),x),i!=null)for(Et=i.length;Et--;)i[Et]!=null&&Ha(i[Et]);x||("value"in V&&(Et=V.value)!==void 0&&(Et!==r.value||Z==="progress"&&!Et||Z==="option"&&Et!==K.value)&&di(r,"value",Et,K.value,!1),"checked"in V&&(Et=V.checked)!==void 0&&Et!==r.checked&&di(r,"checked",Et,K.checked,!1))}return r}function Xa(r,t,e){try{typeof r=="function"?r(t):r.current=t}catch(n){ee.__e(n,e)}}function za(r,t,e){var n,o;if(ee.unmount&&ee.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||Xa(n,null,t)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){ee.__e(i,t)}n.base=n.__P=null}if(n=r.__k)for(o=0;o<n.length;o++)n[o]&&za(n[o],t,typeof r.type!="function");e||r.__e==null||Ha(r.__e),r.__e=r.__d=void 0}function Ku(r,t,e){return this.constructor(r,e)}function jr(r,t,e){var n,o,i;ee.__&&ee.__(r,t),o=(n=typeof e=="function")?null:e&&e.__k||t.__k,i=[],Bo(t,r=(!n&&e||t).__k=lr(Ar,null,[r]),o||ci,ci,t.ownerSVGElement!==void 0,!n&&e?[e]:o?null:t.firstChild?$n.call(t.childNodes):null,i,!n&&e?e:o?o.__e:t.firstChild,n),Ya(i,r)}function Mo(r,t){jr(r,t,Mo)}function Za(r,t,e){var n,o,i,c=_r({},r.props);for(i in t)i=="key"?n=t[i]:i=="ref"?o=t[i]:c[i]=t[i];return arguments.length>2&&(c.children=arguments.length>3?$n.call(arguments,2):e),Mn(r.type,c,n||r.key,o||r.ref,null)}function Ja(r,t){var e={__c:t="__cC"+Pa++,__:r,Consumer:function(n,o){return n.children(o)},Provider:function(n){var o,i;return this.getChildContext||(o=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&o.some(ro)},this.sub=function(c){o.push(c);var x=c.componentWillUnmount;c.componentWillUnmount=function(){o.splice(o.indexOf(c),1),x&&x.call(c)}}),n.children}};return e.Provider.__=e.Consumer.contextType=e}$n=ja.slice,ee={__e:function(r,t,e,n){for(var o,i,c;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(r)),c=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(r,n||{}),c=o.__d),c)return o.__E=o}catch(x){r=x}throw r}},ka=0,Oa=function(r){return r!=null&&r.constructor===void 0},ur.prototype.setState=function(r,t){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_r({},this.state),typeof r=="function"&&(r=r(_r({},e),this.props)),r&&_r(e,r),r!=null&&this.__v&&(t&&this.__h.push(t),ro(this))},ur.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),ro(this))},ur.prototype.render=Ar,Bn=[],La=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,hi.__r=0,Pa=0;var Gu=Object.freeze(Object.defineProperty({__proto__:null,render:jr,hydrate:Mo,createElement:lr,h:lr,Fragment:Ar,createRef:qa,get isValidElement(){return Oa},Component:ur,cloneElement:Za,createContext:Ja,toChildArray:gr,get options(){return ee}},Symbol.toStringTag,{value:"Module"})),Qa={exports:{}};(function(r){(function(t,e){function n(l,s){if(!l)throw new Error(s||"Assertion failed")}function o(l,s){l.super_=s;var f=function(){};f.prototype=s.prototype,l.prototype=new f,l.prototype.constructor=l}function i(l,s,f){if(i.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((s==="le"||s==="be")&&(f=s,s=10),this._init(l||0,s||10,f||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var c;try{c=require("buffer").Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,f){return s.cmp(f)>0?s:f},i.min=function(s,f){return s.cmp(f)<0?s:f},i.prototype._init=function(s,f,d){if(typeof s=="number")return this._initNumber(s,f,d);if(typeof s=="object")return this._initArray(s,f,d);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),s=s.toString().replace(/\s+/g,"");var b=0;s[0]==="-"&&b++,f===16?this._parseHex(s,b):this._parseBase(s,f,b),s[0]==="-"&&(this.negative=1),this._strip(),d==="le"&&this._initArray(this.toArray(),f,d)},i.prototype._initNumber=function(s,f,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),f,d)},i.prototype._initArray=function(s,f,d){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var _,E,h=0;if(d==="be")for(b=s.length-1,_=0;b>=0;b-=3)E=s[b]|s[b-1]<<8|s[b-2]<<16,this.words[_]|=E<<h&67108863,this.words[_+1]=E>>>26-h&67108863,h+=24,h>=26&&(h-=26,_++);else if(d==="le")for(b=0,_=0;b<s.length;b+=3)E=s[b]|s[b+1]<<8|s[b+2]<<16,this.words[_]|=E<<h&67108863,this.words[_+1]=E>>>26-h&67108863,h+=24,h>=26&&(h-=26,_++);return this._strip()};function x(l,s,f){for(var d=0,b=Math.min(l.length,f),_=0,E=s;E<b;E++){var h=l.charCodeAt(E)-48;d<<=4;var w;h>=49&&h<=54?w=h-49+10:h>=17&&h<=22?w=h-17+10:w=h,d|=w,_|=w}return n(!(_&240),"Invalid character in "+l),d}i.prototype._parseHex=function(s,f){this.length=Math.ceil((s.length-f)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var b,_,E=0;for(d=s.length-6,b=0;d>=f;d-=6)_=x(s,d,d+6),this.words[b]|=_<<E&67108863,this.words[b+1]|=_>>>26-E&4194303,E+=24,E>=26&&(E-=26,b++);d+6!==f&&(_=x(s,f,d+6),this.words[b]|=_<<E&67108863,this.words[b+1]|=_>>>26-E&4194303),this._strip()};function C(l,s,f,d){for(var b=0,_=0,E=Math.min(l.length,f),h=s;h<E;h++){var w=l.charCodeAt(h)-48;b*=d,w>=49?_=w-49+10:w>=17?_=w-17+10:_=w,n(w>=0&&_<d,"Invalid character"),b+=_}return b}i.prototype._parseBase=function(s,f,d){this.words=[0],this.length=1;for(var b=0,_=1;_<=67108863;_*=f)b++;b--,_=_/f|0;for(var E=s.length-d,h=E%b,w=Math.min(E,E-h)+d,v=0,U=d;U<w;U+=b)v=C(s,U,U+b,f),this.imuln(_),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(h!==0){var lt=1;for(v=C(s,U,s.length,f),U=0;U<h;U++)lt*=f;this.imuln(lt),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}},i.prototype.copy=function(s){s.words=new Array(this.length);for(var f=0;f<this.length;f++)s.words[f]=this.words[f];s.length=this.length,s.negative=this.negative,s.red=this.red};function k(l,s){l.words=s.words,l.length=s.length,l.negative=s.negative,l.red=s.red}i.prototype._move=function(s){k(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function"?i.prototype[Symbol.for("nodejs.util.inspect.custom")]=R:i.prototype.inspect=R;function R(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var K=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],V=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,f){s=s||10,f=f|0||1;var d;if(s===16||s==="hex"){d="";for(var b=0,_=0,E=0;E<this.length;E++){var h=this.words[E],w=((h<<b|_)&16777215).toString(16);_=h>>>24-b&16777215,_!==0||E!==this.length-1?d=K[6-w.length]+w+d:d=w+d,b+=2,b>=26&&(b-=26,E--)}for(_!==0&&(d=_.toString(16)+d);d.length%f!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var v=V[s],U=Z[s];d="";var lt=this.clone();for(lt.negative=0;!lt.isZero();){var gt=lt.modrn(U).toString(s);lt=lt.idivn(U),lt.isZero()?d=gt+d:d=K[v-gt.length]+gt+d}for(this.isZero()&&(d="0"+d);d.length%f!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(s,f){return this.toArrayLike(c,s,f)}),i.prototype.toArray=function(s,f){return this.toArrayLike(Array,s,f)};var Et=function(s,f){return s.allocUnsafe?s.allocUnsafe(f):new s(f)};i.prototype.toArrayLike=function(s,f,d){this._strip();var b=this.byteLength(),_=d||Math.max(1,b);n(b<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0");var E=Et(s,_),h=f==="le"?"LE":"BE";return this["_toArrayLike"+h](E,b),E},i.prototype._toArrayLikeLE=function(s,f){for(var d=0,b=0,_=0,E=0;_<this.length;_++){var h=this.words[_]<<E|b;s[d++]=h&255,d<s.length&&(s[d++]=h>>8&255),d<s.length&&(s[d++]=h>>16&255),E===6?(d<s.length&&(s[d++]=h>>24&255),b=0,E=0):(b=h>>>24,E+=2)}if(d<s.length)for(s[d++]=b;d<s.length;)s[d++]=0},i.prototype._toArrayLikeBE=function(s,f){for(var d=s.length-1,b=0,_=0,E=0;_<this.length;_++){var h=this.words[_]<<E|b;s[d--]=h&255,d>=0&&(s[d--]=h>>8&255),d>=0&&(s[d--]=h>>16&255),E===6?(d>=0&&(s[d--]=h>>24&255),b=0,E=0):(b=h>>>24,E+=2)}if(d>=0)for(s[d--]=b;d>=0;)s[d--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var f=s,d=0;return f>=4096&&(d+=13,f>>>=13),f>=64&&(d+=7,f>>>=7),f>=8&&(d+=4,f>>>=4),f>=2&&(d+=2,f>>>=2),d+f},i.prototype._zeroBits=function(s){if(s===0)return 26;var f=s,d=0;return(f&8191)===0&&(d+=13,f>>>=13),(f&127)===0&&(d+=7,f>>>=7),(f&15)===0&&(d+=4,f>>>=4),(f&3)===0&&(d+=2,f>>>=2),(f&1)===0&&d++,d},i.prototype.bitLength=function(){var s=this.words[this.length-1],f=this._countBits(s);return(this.length-1)*26+f};function Pt(l){for(var s=new Array(l.bitLength()),f=0;f<s.length;f++){var d=f/26|0,b=f%26;s[f]=l.words[d]>>>b&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,f=0;f<this.length;f++){var d=this._zeroBits(this.words[f]);if(s+=d,d!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var f=0;f<s.length;f++)this.words[f]=this.words[f]|s.words[f];return this._strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var f;this.length>s.length?f=s:f=this;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=f.length,this._strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var f,d;this.length>s.length?(f=this,d=s):(f=s,d=this);for(var b=0;b<d.length;b++)this.words[b]=f.words[b]^d.words[b];if(this!==f)for(;b<f.length;b++)this.words[b]=f.words[b];return this.length=f.length,this._strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var f=Math.ceil(s/26)|0,d=s%26;this._expand(f),d>0&&f--;for(var b=0;b<f;b++)this.words[b]=~this.words[b]&67108863;return d>0&&(this.words[b]=~this.words[b]&67108863>>26-d),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,f){n(typeof s=="number"&&s>=0);var d=s/26|0,b=s%26;return this._expand(d+1),f?this.words[d]=this.words[d]|1<<b:this.words[d]=this.words[d]&~(1<<b),this._strip()},i.prototype.iadd=function(s){var f;if(this.negative!==0&&s.negative===0)return this.negative=0,f=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,f=this.isub(s),s.negative=1,f._normSign();var d,b;this.length>s.length?(d=this,b=s):(d=s,b=this);for(var _=0,E=0;E<b.length;E++)f=(d.words[E]|0)+(b.words[E]|0)+_,this.words[E]=f&67108863,_=f>>>26;for(;_!==0&&E<d.length;E++)f=(d.words[E]|0)+_,this.words[E]=f&67108863,_=f>>>26;if(this.length=d.length,_!==0)this.words[this.length]=_,this.length++;else if(d!==this)for(;E<d.length;E++)this.words[E]=d.words[E];return this},i.prototype.add=function(s){var f;return s.negative!==0&&this.negative===0?(s.negative=0,f=this.sub(s),s.negative^=1,f):s.negative===0&&this.negative!==0?(this.negative=0,f=s.sub(this),this.negative=1,f):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var f=this.iadd(s);return s.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,_;d>0?(b=this,_=s):(b=s,_=this);for(var E=0,h=0;h<_.length;h++)f=(b.words[h]|0)-(_.words[h]|0)+E,E=f>>26,this.words[h]=f&67108863;for(;E!==0&&h<b.length;h++)f=(b.words[h]|0)+E,E=f>>26,this.words[h]=f&67108863;if(E===0&&h<b.length&&b!==this)for(;h<b.length;h++)this.words[h]=b.words[h];return this.length=Math.max(this.length,h),b!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function wt(l,s,f){f.negative=s.negative^l.negative;var d=l.length+s.length|0;f.length=d,d=d-1|0;var b=l.words[0]|0,_=s.words[0]|0,E=b*_,h=E&67108863,w=E/67108864|0;f.words[0]=h;for(var v=1;v<d;v++){for(var U=w>>>26,lt=w&67108863,gt=Math.min(v,s.length-1),mt=Math.max(0,v-l.length+1);mt<=gt;mt++){var Wt=v-mt|0;b=l.words[Wt]|0,_=s.words[mt]|0,E=b*_+lt,U+=E/67108864|0,lt=E&67108863}f.words[v]=lt|0,w=U|0}return w!==0?f.words[v]=w|0:f.length--,f._strip()}var Nt=function(s,f,d){var b=s.words,_=f.words,E=d.words,h=0,w,v,U,lt=b[0]|0,gt=lt&8191,mt=lt>>>13,Wt=b[1]|0,de=Wt&8191,jt=Wt>>>13,ae=b[2]|0,he=ae&8191,Ft=ae>>>13,ce=b[3]|0,Ee=ce&8191,Qt=ce>>>13,Ce=b[4]|0,me=Ce&8191,ie=Ce>>>13,ye=b[5]|0,fe=ye&8191,zt=ye>>>13,_e=b[6]|0,pe=_e&8191,Lt=_e>>>13,be=b[7]|0,ve=be&8191,Xt=be>>>13,I=b[8]|0,p=I&8191,g=I>>>13,$=b[9]|0,q=$&8191,G=$>>>13,it=_[0]|0,Ut=it&8191,Tt=it>>>13,qt=_[1]|0,Yt=qt&8191,St=qt>>>13,Be=_[2]|0,ge=Be&8191,Vt=Be>>>13,F=_[3]|0,N=F&8191,T=F>>>13,m=_[4]|0,B=m&8191,H=m>>>13,W=_[5]|0,at=W&8191,L=W>>>13,yt=_[6]|0,Dt=yt&8191,y=yt>>>13,M=_[7]|0,A=M&8191,a=M>>>13,D=_[8]|0,j=D&8191,P=D>>>13,z=_[9]|0,J=z&8191,ot=z>>>13;d.negative=s.negative^f.negative,d.length=19,w=Math.imul(gt,Ut),v=Math.imul(gt,Tt),v=v+Math.imul(mt,Ut)|0,U=Math.imul(mt,Tt);var dt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(de,Ut),v=Math.imul(de,Tt),v=v+Math.imul(jt,Ut)|0,U=Math.imul(jt,Tt),w=w+Math.imul(gt,Yt)|0,v=v+Math.imul(gt,St)|0,v=v+Math.imul(mt,Yt)|0,U=U+Math.imul(mt,St)|0;var It=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(It>>>26)|0,It&=67108863,w=Math.imul(he,Ut),v=Math.imul(he,Tt),v=v+Math.imul(Ft,Ut)|0,U=Math.imul(Ft,Tt),w=w+Math.imul(de,Yt)|0,v=v+Math.imul(de,St)|0,v=v+Math.imul(jt,Yt)|0,U=U+Math.imul(jt,St)|0,w=w+Math.imul(gt,ge)|0,v=v+Math.imul(gt,Vt)|0,v=v+Math.imul(mt,ge)|0,U=U+Math.imul(mt,Vt)|0;var ct=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(Ee,Ut),v=Math.imul(Ee,Tt),v=v+Math.imul(Qt,Ut)|0,U=Math.imul(Qt,Tt),w=w+Math.imul(he,Yt)|0,v=v+Math.imul(he,St)|0,v=v+Math.imul(Ft,Yt)|0,U=U+Math.imul(Ft,St)|0,w=w+Math.imul(de,ge)|0,v=v+Math.imul(de,Vt)|0,v=v+Math.imul(jt,ge)|0,U=U+Math.imul(jt,Vt)|0,w=w+Math.imul(gt,N)|0,v=v+Math.imul(gt,T)|0,v=v+Math.imul(mt,N)|0,U=U+Math.imul(mt,T)|0;var Q=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(Q>>>26)|0,Q&=67108863,w=Math.imul(me,Ut),v=Math.imul(me,Tt),v=v+Math.imul(ie,Ut)|0,U=Math.imul(ie,Tt),w=w+Math.imul(Ee,Yt)|0,v=v+Math.imul(Ee,St)|0,v=v+Math.imul(Qt,Yt)|0,U=U+Math.imul(Qt,St)|0,w=w+Math.imul(he,ge)|0,v=v+Math.imul(he,Vt)|0,v=v+Math.imul(Ft,ge)|0,U=U+Math.imul(Ft,Vt)|0,w=w+Math.imul(de,N)|0,v=v+Math.imul(de,T)|0,v=v+Math.imul(jt,N)|0,U=U+Math.imul(jt,T)|0,w=w+Math.imul(gt,B)|0,v=v+Math.imul(gt,H)|0,v=v+Math.imul(mt,B)|0,U=U+Math.imul(mt,H)|0;var et=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(et>>>26)|0,et&=67108863,w=Math.imul(fe,Ut),v=Math.imul(fe,Tt),v=v+Math.imul(zt,Ut)|0,U=Math.imul(zt,Tt),w=w+Math.imul(me,Yt)|0,v=v+Math.imul(me,St)|0,v=v+Math.imul(ie,Yt)|0,U=U+Math.imul(ie,St)|0,w=w+Math.imul(Ee,ge)|0,v=v+Math.imul(Ee,Vt)|0,v=v+Math.imul(Qt,ge)|0,U=U+Math.imul(Qt,Vt)|0,w=w+Math.imul(he,N)|0,v=v+Math.imul(he,T)|0,v=v+Math.imul(Ft,N)|0,U=U+Math.imul(Ft,T)|0,w=w+Math.imul(de,B)|0,v=v+Math.imul(de,H)|0,v=v+Math.imul(jt,B)|0,U=U+Math.imul(jt,H)|0,w=w+Math.imul(gt,at)|0,v=v+Math.imul(gt,L)|0,v=v+Math.imul(mt,at)|0,U=U+Math.imul(mt,L)|0;var vt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(vt>>>26)|0,vt&=67108863,w=Math.imul(pe,Ut),v=Math.imul(pe,Tt),v=v+Math.imul(Lt,Ut)|0,U=Math.imul(Lt,Tt),w=w+Math.imul(fe,Yt)|0,v=v+Math.imul(fe,St)|0,v=v+Math.imul(zt,Yt)|0,U=U+Math.imul(zt,St)|0,w=w+Math.imul(me,ge)|0,v=v+Math.imul(me,Vt)|0,v=v+Math.imul(ie,ge)|0,U=U+Math.imul(ie,Vt)|0,w=w+Math.imul(Ee,N)|0,v=v+Math.imul(Ee,T)|0,v=v+Math.imul(Qt,N)|0,U=U+Math.imul(Qt,T)|0,w=w+Math.imul(he,B)|0,v=v+Math.imul(he,H)|0,v=v+Math.imul(Ft,B)|0,U=U+Math.imul(Ft,H)|0,w=w+Math.imul(de,at)|0,v=v+Math.imul(de,L)|0,v=v+Math.imul(jt,at)|0,U=U+Math.imul(jt,L)|0,w=w+Math.imul(gt,Dt)|0,v=v+Math.imul(gt,y)|0,v=v+Math.imul(mt,Dt)|0,U=U+Math.imul(mt,y)|0;var ft=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(ve,Ut),v=Math.imul(ve,Tt),v=v+Math.imul(Xt,Ut)|0,U=Math.imul(Xt,Tt),w=w+Math.imul(pe,Yt)|0,v=v+Math.imul(pe,St)|0,v=v+Math.imul(Lt,Yt)|0,U=U+Math.imul(Lt,St)|0,w=w+Math.imul(fe,ge)|0,v=v+Math.imul(fe,Vt)|0,v=v+Math.imul(zt,ge)|0,U=U+Math.imul(zt,Vt)|0,w=w+Math.imul(me,N)|0,v=v+Math.imul(me,T)|0,v=v+Math.imul(ie,N)|0,U=U+Math.imul(ie,T)|0,w=w+Math.imul(Ee,B)|0,v=v+Math.imul(Ee,H)|0,v=v+Math.imul(Qt,B)|0,U=U+Math.imul(Qt,H)|0,w=w+Math.imul(he,at)|0,v=v+Math.imul(he,L)|0,v=v+Math.imul(Ft,at)|0,U=U+Math.imul(Ft,L)|0,w=w+Math.imul(de,Dt)|0,v=v+Math.imul(de,y)|0,v=v+Math.imul(jt,Dt)|0,U=U+Math.imul(jt,y)|0,w=w+Math.imul(gt,A)|0,v=v+Math.imul(gt,a)|0,v=v+Math.imul(mt,A)|0,U=U+Math.imul(mt,a)|0;var st=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(p,Ut),v=Math.imul(p,Tt),v=v+Math.imul(g,Ut)|0,U=Math.imul(g,Tt),w=w+Math.imul(ve,Yt)|0,v=v+Math.imul(ve,St)|0,v=v+Math.imul(Xt,Yt)|0,U=U+Math.imul(Xt,St)|0,w=w+Math.imul(pe,ge)|0,v=v+Math.imul(pe,Vt)|0,v=v+Math.imul(Lt,ge)|0,U=U+Math.imul(Lt,Vt)|0,w=w+Math.imul(fe,N)|0,v=v+Math.imul(fe,T)|0,v=v+Math.imul(zt,N)|0,U=U+Math.imul(zt,T)|0,w=w+Math.imul(me,B)|0,v=v+Math.imul(me,H)|0,v=v+Math.imul(ie,B)|0,U=U+Math.imul(ie,H)|0,w=w+Math.imul(Ee,at)|0,v=v+Math.imul(Ee,L)|0,v=v+Math.imul(Qt,at)|0,U=U+Math.imul(Qt,L)|0,w=w+Math.imul(he,Dt)|0,v=v+Math.imul(he,y)|0,v=v+Math.imul(Ft,Dt)|0,U=U+Math.imul(Ft,y)|0,w=w+Math.imul(de,A)|0,v=v+Math.imul(de,a)|0,v=v+Math.imul(jt,A)|0,U=U+Math.imul(jt,a)|0,w=w+Math.imul(gt,j)|0,v=v+Math.imul(gt,P)|0,v=v+Math.imul(mt,j)|0,U=U+Math.imul(mt,P)|0;var ut=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(q,Ut),v=Math.imul(q,Tt),v=v+Math.imul(G,Ut)|0,U=Math.imul(G,Tt),w=w+Math.imul(p,Yt)|0,v=v+Math.imul(p,St)|0,v=v+Math.imul(g,Yt)|0,U=U+Math.imul(g,St)|0,w=w+Math.imul(ve,ge)|0,v=v+Math.imul(ve,Vt)|0,v=v+Math.imul(Xt,ge)|0,U=U+Math.imul(Xt,Vt)|0,w=w+Math.imul(pe,N)|0,v=v+Math.imul(pe,T)|0,v=v+Math.imul(Lt,N)|0,U=U+Math.imul(Lt,T)|0,w=w+Math.imul(fe,B)|0,v=v+Math.imul(fe,H)|0,v=v+Math.imul(zt,B)|0,U=U+Math.imul(zt,H)|0,w=w+Math.imul(me,at)|0,v=v+Math.imul(me,L)|0,v=v+Math.imul(ie,at)|0,U=U+Math.imul(ie,L)|0,w=w+Math.imul(Ee,Dt)|0,v=v+Math.imul(Ee,y)|0,v=v+Math.imul(Qt,Dt)|0,U=U+Math.imul(Qt,y)|0,w=w+Math.imul(he,A)|0,v=v+Math.imul(he,a)|0,v=v+Math.imul(Ft,A)|0,U=U+Math.imul(Ft,a)|0,w=w+Math.imul(de,j)|0,v=v+Math.imul(de,P)|0,v=v+Math.imul(jt,j)|0,U=U+Math.imul(jt,P)|0,w=w+Math.imul(gt,J)|0,v=v+Math.imul(gt,ot)|0,v=v+Math.imul(mt,J)|0,U=U+Math.imul(mt,ot)|0;var Mt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,w=Math.imul(q,Yt),v=Math.imul(q,St),v=v+Math.imul(G,Yt)|0,U=Math.imul(G,St),w=w+Math.imul(p,ge)|0,v=v+Math.imul(p,Vt)|0,v=v+Math.imul(g,ge)|0,U=U+Math.imul(g,Vt)|0,w=w+Math.imul(ve,N)|0,v=v+Math.imul(ve,T)|0,v=v+Math.imul(Xt,N)|0,U=U+Math.imul(Xt,T)|0,w=w+Math.imul(pe,B)|0,v=v+Math.imul(pe,H)|0,v=v+Math.imul(Lt,B)|0,U=U+Math.imul(Lt,H)|0,w=w+Math.imul(fe,at)|0,v=v+Math.imul(fe,L)|0,v=v+Math.imul(zt,at)|0,U=U+Math.imul(zt,L)|0,w=w+Math.imul(me,Dt)|0,v=v+Math.imul(me,y)|0,v=v+Math.imul(ie,Dt)|0,U=U+Math.imul(ie,y)|0,w=w+Math.imul(Ee,A)|0,v=v+Math.imul(Ee,a)|0,v=v+Math.imul(Qt,A)|0,U=U+Math.imul(Qt,a)|0,w=w+Math.imul(he,j)|0,v=v+Math.imul(he,P)|0,v=v+Math.imul(Ft,j)|0,U=U+Math.imul(Ft,P)|0,w=w+Math.imul(de,J)|0,v=v+Math.imul(de,ot)|0,v=v+Math.imul(jt,J)|0,U=U+Math.imul(jt,ot)|0;var bt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(q,ge),v=Math.imul(q,Vt),v=v+Math.imul(G,ge)|0,U=Math.imul(G,Vt),w=w+Math.imul(p,N)|0,v=v+Math.imul(p,T)|0,v=v+Math.imul(g,N)|0,U=U+Math.imul(g,T)|0,w=w+Math.imul(ve,B)|0,v=v+Math.imul(ve,H)|0,v=v+Math.imul(Xt,B)|0,U=U+Math.imul(Xt,H)|0,w=w+Math.imul(pe,at)|0,v=v+Math.imul(pe,L)|0,v=v+Math.imul(Lt,at)|0,U=U+Math.imul(Lt,L)|0,w=w+Math.imul(fe,Dt)|0,v=v+Math.imul(fe,y)|0,v=v+Math.imul(zt,Dt)|0,U=U+Math.imul(zt,y)|0,w=w+Math.imul(me,A)|0,v=v+Math.imul(me,a)|0,v=v+Math.imul(ie,A)|0,U=U+Math.imul(ie,a)|0,w=w+Math.imul(Ee,j)|0,v=v+Math.imul(Ee,P)|0,v=v+Math.imul(Qt,j)|0,U=U+Math.imul(Qt,P)|0,w=w+Math.imul(he,J)|0,v=v+Math.imul(he,ot)|0,v=v+Math.imul(Ft,J)|0,U=U+Math.imul(Ft,ot)|0;var _t=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(_t>>>26)|0,_t&=67108863,w=Math.imul(q,N),v=Math.imul(q,T),v=v+Math.imul(G,N)|0,U=Math.imul(G,T),w=w+Math.imul(p,B)|0,v=v+Math.imul(p,H)|0,v=v+Math.imul(g,B)|0,U=U+Math.imul(g,H)|0,w=w+Math.imul(ve,at)|0,v=v+Math.imul(ve,L)|0,v=v+Math.imul(Xt,at)|0,U=U+Math.imul(Xt,L)|0,w=w+Math.imul(pe,Dt)|0,v=v+Math.imul(pe,y)|0,v=v+Math.imul(Lt,Dt)|0,U=U+Math.imul(Lt,y)|0,w=w+Math.imul(fe,A)|0,v=v+Math.imul(fe,a)|0,v=v+Math.imul(zt,A)|0,U=U+Math.imul(zt,a)|0,w=w+Math.imul(me,j)|0,v=v+Math.imul(me,P)|0,v=v+Math.imul(ie,j)|0,U=U+Math.imul(ie,P)|0,w=w+Math.imul(Ee,J)|0,v=v+Math.imul(Ee,ot)|0,v=v+Math.imul(Qt,J)|0,U=U+Math.imul(Qt,ot)|0;var xt=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(xt>>>26)|0,xt&=67108863,w=Math.imul(q,B),v=Math.imul(q,H),v=v+Math.imul(G,B)|0,U=Math.imul(G,H),w=w+Math.imul(p,at)|0,v=v+Math.imul(p,L)|0,v=v+Math.imul(g,at)|0,U=U+Math.imul(g,L)|0,w=w+Math.imul(ve,Dt)|0,v=v+Math.imul(ve,y)|0,v=v+Math.imul(Xt,Dt)|0,U=U+Math.imul(Xt,y)|0,w=w+Math.imul(pe,A)|0,v=v+Math.imul(pe,a)|0,v=v+Math.imul(Lt,A)|0,U=U+Math.imul(Lt,a)|0,w=w+Math.imul(fe,j)|0,v=v+Math.imul(fe,P)|0,v=v+Math.imul(zt,j)|0,U=U+Math.imul(zt,P)|0,w=w+Math.imul(me,J)|0,v=v+Math.imul(me,ot)|0,v=v+Math.imul(ie,J)|0,U=U+Math.imul(ie,ot)|0;var At=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(q,at),v=Math.imul(q,L),v=v+Math.imul(G,at)|0,U=Math.imul(G,L),w=w+Math.imul(p,Dt)|0,v=v+Math.imul(p,y)|0,v=v+Math.imul(g,Dt)|0,U=U+Math.imul(g,y)|0,w=w+Math.imul(ve,A)|0,v=v+Math.imul(ve,a)|0,v=v+Math.imul(Xt,A)|0,U=U+Math.imul(Xt,a)|0,w=w+Math.imul(pe,j)|0,v=v+Math.imul(pe,P)|0,v=v+Math.imul(Lt,j)|0,U=U+Math.imul(Lt,P)|0,w=w+Math.imul(fe,J)|0,v=v+Math.imul(fe,ot)|0,v=v+Math.imul(zt,J)|0,U=U+Math.imul(zt,ot)|0;var Ct=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(q,Dt),v=Math.imul(q,y),v=v+Math.imul(G,Dt)|0,U=Math.imul(G,y),w=w+Math.imul(p,A)|0,v=v+Math.imul(p,a)|0,v=v+Math.imul(g,A)|0,U=U+Math.imul(g,a)|0,w=w+Math.imul(ve,j)|0,v=v+Math.imul(ve,P)|0,v=v+Math.imul(Xt,j)|0,U=U+Math.imul(Xt,P)|0,w=w+Math.imul(pe,J)|0,v=v+Math.imul(pe,ot)|0,v=v+Math.imul(Lt,J)|0,U=U+Math.imul(Lt,ot)|0;var ht=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(ht>>>26)|0,ht&=67108863,w=Math.imul(q,A),v=Math.imul(q,a),v=v+Math.imul(G,A)|0,U=Math.imul(G,a),w=w+Math.imul(p,j)|0,v=v+Math.imul(p,P)|0,v=v+Math.imul(g,j)|0,U=U+Math.imul(g,P)|0,w=w+Math.imul(ve,J)|0,v=v+Math.imul(ve,ot)|0,v=v+Math.imul(Xt,J)|0,U=U+Math.imul(Xt,ot)|0;var Y=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(Y>>>26)|0,Y&=67108863,w=Math.imul(q,j),v=Math.imul(q,P),v=v+Math.imul(G,j)|0,U=Math.imul(G,P),w=w+Math.imul(p,J)|0,v=v+Math.imul(p,ot)|0,v=v+Math.imul(g,J)|0,U=U+Math.imul(g,ot)|0;var X=(h+w|0)+((v&8191)<<13)|0;h=(U+(v>>>13)|0)+(X>>>26)|0,X&=67108863,w=Math.imul(q,J),v=Math.imul(q,ot),v=v+Math.imul(G,J)|0,U=Math.imul(G,ot);var rt=(h+w|0)+((v&8191)<<13)|0;return h=(U+(v>>>13)|0)+(rt>>>26)|0,rt&=67108863,E[0]=dt,E[1]=It,E[2]=ct,E[3]=Q,E[4]=et,E[5]=vt,E[6]=ft,E[7]=st,E[8]=ut,E[9]=Mt,E[10]=bt,E[11]=_t,E[12]=xt,E[13]=At,E[14]=Ct,E[15]=ht,E[16]=Y,E[17]=X,E[18]=rt,h!==0&&(E[19]=h,d.length++),d};Math.imul||(Nt=wt);function Ot(l,s,f){f.negative=s.negative^l.negative,f.length=l.length+s.length;for(var d=0,b=0,_=0;_<f.length-1;_++){var E=b;b=0;for(var h=d&67108863,w=Math.min(_,s.length-1),v=Math.max(0,_-l.length+1);v<=w;v++){var U=_-v,lt=l.words[U]|0,gt=s.words[v]|0,mt=lt*gt,Wt=mt&67108863;E=E+(mt/67108864|0)|0,Wt=Wt+h|0,h=Wt&67108863,E=E+(Wt>>>26)|0,b+=E>>>26,E&=67108863}f.words[_]=h,d=E,E=b}return d!==0?f.words[_]=d:f.length--,f._strip()}function se(l,s,f){return Ot(l,s,f)}i.prototype.mulTo=function(s,f){var d,b=this.length+s.length;return this.length===10&&s.length===10?d=Nt(this,s,f):b<63?d=wt(this,s,f):b<1024?d=Ot(this,s,f):d=se(this,s,f),d},i.prototype.mul=function(s){var f=new i(null);return f.words=new Array(this.length+s.length),this.mulTo(s,f)},i.prototype.mulf=function(s){var f=new i(null);return f.words=new Array(this.length+s.length),se(this,s,f)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var f=s<0;f&&(s=-s),n(typeof s=="number"),n(s<67108864);for(var d=0,b=0;b<this.length;b++){var _=(this.words[b]|0)*s,E=(_&67108863)+(d&67108863);d>>=26,d+=_/67108864|0,d+=E>>>26,this.words[b]=E&67108863}return d!==0&&(this.words[b]=d,this.length++),f?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var f=Pt(s);if(f.length===0)return new i(1);for(var d=this,b=0;b<f.length&&f[b]===0;b++,d=d.sqr());if(++b<f.length)for(var _=d.sqr();b<f.length;b++,_=_.sqr())f[b]!==0&&(d=d.mul(_));return d},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var f=s%26,d=(s-f)/26,b=67108863>>>26-f<<26-f,_;if(f!==0){var E=0;for(_=0;_<this.length;_++){var h=this.words[_]&b,w=(this.words[_]|0)-h<<f;this.words[_]=w|E,E=h>>>26-f}E&&(this.words[_]=E,this.length++)}if(d!==0){for(_=this.length-1;_>=0;_--)this.words[_+d]=this.words[_];for(_=0;_<d;_++)this.words[_]=0;this.length+=d}return this._strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,f,d){n(typeof s=="number"&&s>=0);var b;f?b=(f-f%26)/26:b=0;var _=s%26,E=Math.min((s-_)/26,this.length),h=67108863^67108863>>>_<<_,w=d;if(b-=E,b=Math.max(0,b),w){for(var v=0;v<E;v++)w.words[v]=this.words[v];w.length=E}if(E!==0)if(this.length>E)for(this.length-=E,v=0;v<this.length;v++)this.words[v]=this.words[v+E];else this.words[0]=0,this.length=1;var U=0;for(v=this.length-1;v>=0&&(U!==0||v>=b);v--){var lt=this.words[v]|0;this.words[v]=U<<26-_|lt>>>_,U=lt&h}return w&&U!==0&&(w.words[w.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,f,d){return n(this.negative===0),this.iushrn(s,f,d)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var f=s%26,d=(s-f)/26,b=1<<f;if(this.length<=d)return!1;var _=this.words[d];return!!(_&b)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var f=s%26,d=(s-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(f!==0&&d++,this.length=Math.min(d,this.length),f!==0){var b=67108863^67108863>>>f<<f;this.words[this.length-1]&=b}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,f,d){var b=s.length+d,_;this._expand(b);var E,h=0;for(_=0;_<s.length;_++){E=(this.words[_+d]|0)+h;var w=(s.words[_]|0)*f;E-=w&67108863,h=(E>>26)-(w/67108864|0),this.words[_+d]=E&67108863}for(;_<this.length-d;_++)E=(this.words[_+d]|0)+h,h=E>>26,this.words[_+d]=E&67108863;if(h===0)return this._strip();for(n(h===-1),h=0,_=0;_<this.length;_++)E=-(this.words[_]|0)+h,h=E>>26,this.words[_]=E&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,f){var d=this.length-s.length,b=this.clone(),_=s,E=_.words[_.length-1]|0,h=this._countBits(E);d=26-h,d!==0&&(_=_.ushln(d),b.iushln(d),E=_.words[_.length-1]|0);var w=b.length-_.length,v;if(f!=="mod"){v=new i(null),v.length=w+1,v.words=new Array(v.length);for(var U=0;U<v.length;U++)v.words[U]=0}var lt=b.clone()._ishlnsubmul(_,1,w);lt.negative===0&&(b=lt,v&&(v.words[w]=1));for(var gt=w-1;gt>=0;gt--){var mt=(b.words[_.length+gt]|0)*67108864+(b.words[_.length+gt-1]|0);for(mt=Math.min(mt/E|0,67108863),b._ishlnsubmul(_,mt,gt);b.negative!==0;)mt--,b.negative=0,b._ishlnsubmul(_,1,gt),b.isZero()||(b.negative^=1);v&&(v.words[gt]=mt)}return v&&v._strip(),b._strip(),f!=="div"&&d!==0&&b.iushrn(d),{div:v||null,mod:b}},i.prototype.divmod=function(s,f,d){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var b,_,E;return this.negative!==0&&s.negative===0?(E=this.neg().divmod(s,f),f!=="mod"&&(b=E.div.neg()),f!=="div"&&(_=E.mod.neg(),d&&_.negative!==0&&_.iadd(s)),{div:b,mod:_}):this.negative===0&&s.negative!==0?(E=this.divmod(s.neg(),f),f!=="mod"&&(b=E.div.neg()),{div:b,mod:E.mod}):(this.negative&s.negative)!==0?(E=this.neg().divmod(s.neg(),f),f!=="div"&&(_=E.mod.neg(),d&&_.negative!==0&&_.isub(s)),{div:E.div,mod:_}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?f==="div"?{div:this.divn(s.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,f)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var f=this.divmod(s);if(f.mod.isZero())return f.div;var d=f.div.negative!==0?f.mod.isub(s):f.mod,b=s.ushrn(1),_=s.andln(1),E=d.cmp(b);return E<0||_===1&&E===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modrn=function(s){var f=s<0;f&&(s=-s),n(s<=67108863);for(var d=(1<<26)%s,b=0,_=this.length-1;_>=0;_--)b=(d*b+(this.words[_]|0))%s;return f?-b:b},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var f=s<0;f&&(s=-s),n(s<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var _=(this.words[b]|0)+d*67108864;this.words[b]=_/s|0,d=_%s}return this._strip(),f?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var f=this,d=s.clone();f.negative!==0?f=f.umod(s):f=f.clone();for(var b=new i(1),_=new i(0),E=new i(0),h=new i(1),w=0;f.isEven()&&d.isEven();)f.iushrn(1),d.iushrn(1),++w;for(var v=d.clone(),U=f.clone();!f.isZero();){for(var lt=0,gt=1;(f.words[0]&gt)===0&&lt<26;++lt,gt<<=1);if(lt>0)for(f.iushrn(lt);lt-- >0;)(b.isOdd()||_.isOdd())&&(b.iadd(v),_.isub(U)),b.iushrn(1),_.iushrn(1);for(var mt=0,Wt=1;(d.words[0]&Wt)===0&&mt<26;++mt,Wt<<=1);if(mt>0)for(d.iushrn(mt);mt-- >0;)(E.isOdd()||h.isOdd())&&(E.iadd(v),h.isub(U)),E.iushrn(1),h.iushrn(1);f.cmp(d)>=0?(f.isub(d),b.isub(E),_.isub(h)):(d.isub(f),E.isub(b),h.isub(_))}return{a:E,b:h,gcd:d.iushln(w)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var f=this,d=s.clone();f.negative!==0?f=f.umod(s):f=f.clone();for(var b=new i(1),_=new i(0),E=d.clone();f.cmpn(1)>0&&d.cmpn(1)>0;){for(var h=0,w=1;(f.words[0]&w)===0&&h<26;++h,w<<=1);if(h>0)for(f.iushrn(h);h-- >0;)b.isOdd()&&b.iadd(E),b.iushrn(1);for(var v=0,U=1;(d.words[0]&U)===0&&v<26;++v,U<<=1);if(v>0)for(d.iushrn(v);v-- >0;)_.isOdd()&&_.iadd(E),_.iushrn(1);f.cmp(d)>=0?(f.isub(d),b.isub(_)):(d.isub(f),_.isub(b))}var lt;return f.cmpn(1)===0?lt=b:lt=_,lt.cmpn(0)<0&&lt.iadd(s),lt},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var f=this.clone(),d=s.clone();f.negative=0,d.negative=0;for(var b=0;f.isEven()&&d.isEven();b++)f.iushrn(1),d.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;d.isEven();)d.iushrn(1);var _=f.cmp(d);if(_<0){var E=f;f=d,d=E}else if(_===0||d.cmpn(1)===0)break;f.isub(d)}while(!0);return d.iushln(b)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var f=s%26,d=(s-f)/26,b=1<<f;if(this.length<=d)return this._expand(d+1),this.words[d]|=b,this;for(var _=b,E=d;_!==0&&E<this.length;E++){var h=this.words[E]|0;h+=_,_=h>>>26,h&=67108863,this.words[E]=h}return _!==0&&(this.words[E]=_,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var f=s<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var d;if(this.length>1)d=1;else{f&&(s=-s),n(s<=67108863,"Number is too big");var b=this.words[0]|0;d=b===s?0:b<s?-1:1}return this.negative!==0?-d|0:d},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var f=this.ucmp(s);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var f=0,d=this.length-1;d>=0;d--){var b=this.words[d]|0,_=s.words[d]|0;if(b!==_){b<_?f=-1:b>_&&(f=1);break}}return f},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new S(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var oe={k256:null,p224:null,p192:null,p25519:null};function Rt(l,s){this.name=l,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Rt.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},Rt.prototype.ireduce=function(s){var f=s,d;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),d=f.bitLength();while(d>this.n);var b=d<this.n?-1:f.ucmp(this.p);return b===0?(f.words[0]=0,f.length=1):b>0?f.isub(this.p):f._strip(),f},Rt.prototype.split=function(s,f){s.iushrn(this.n,0,f)},Rt.prototype.imulK=function(s){return s.imul(this.k)};function re(){Rt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(re,Rt),re.prototype.split=function(s,f){for(var d=4194303,b=Math.min(s.length,9),_=0;_<b;_++)f.words[_]=s.words[_];if(f.length=b,s.length<=9){s.words[0]=0,s.length=1;return}var E=s.words[9];for(f.words[f.length++]=E&d,_=10;_<s.length;_++){var h=s.words[_]|0;s.words[_-10]=(h&d)<<4|E>>>22,E=h}E>>>=22,s.words[_-10]=E,E===0&&s.length>10?s.length-=10:s.length-=9},re.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var f=0,d=0;d<s.length;d++){var b=s.words[d]|0;f+=b*977,s.words[d]=f&67108863,f=b*64+(f/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function ne(){Rt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(ne,Rt);function Jt(){Rt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(Jt,Rt);function Ae(){Rt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Ae,Rt),Ae.prototype.imulK=function(s){for(var f=0,d=0;d<s.length;d++){var b=(s.words[d]|0)*19+f,_=b&67108863;b>>>=26,s.words[d]=_,f=b}return f!==0&&(s.words[s.length++]=f),s},i._prime=function(s){if(oe[s])return oe[s];var f;if(s==="k256")f=new re;else if(s==="p224")f=new ne;else if(s==="p192")f=new Jt;else if(s==="p25519")f=new Ae;else throw new Error("Unknown prime "+s);return oe[s]=f,f};function S(l){if(typeof l=="string"){var s=i._prime(l);this.m=s.p,this.prime=s}else n(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}S.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},S.prototype._verify2=function(s,f){n((s.negative|f.negative)===0,"red works only with positives"),n(s.red&&s.red===f.red,"red works only with red numbers")},S.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(k(s,s.umod(this.m)._forceRed(this)),s)},S.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},S.prototype.add=function(s,f){this._verify2(s,f);var d=s.add(f);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},S.prototype.iadd=function(s,f){this._verify2(s,f);var d=s.iadd(f);return d.cmp(this.m)>=0&&d.isub(this.m),d},S.prototype.sub=function(s,f){this._verify2(s,f);var d=s.sub(f);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},S.prototype.isub=function(s,f){this._verify2(s,f);var d=s.isub(f);return d.cmpn(0)<0&&d.iadd(this.m),d},S.prototype.shl=function(s,f){return this._verify1(s),this.imod(s.ushln(f))},S.prototype.imul=function(s,f){return this._verify2(s,f),this.imod(s.imul(f))},S.prototype.mul=function(s,f){return this._verify2(s,f),this.imod(s.mul(f))},S.prototype.isqr=function(s){return this.imul(s,s.clone())},S.prototype.sqr=function(s){return this.mul(s,s)},S.prototype.sqrt=function(s){if(s.isZero())return s.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var d=this.m.add(new i(1)).iushrn(2);return this.pow(s,d)}for(var b=this.m.subn(1),_=0;!b.isZero()&&b.andln(1)===0;)_++,b.iushrn(1);n(!b.isZero());var E=new i(1).toRed(this),h=E.redNeg(),w=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new i(2*v*v).toRed(this);this.pow(v,w).cmp(h)!==0;)v.redIAdd(h);for(var U=this.pow(v,b),lt=this.pow(s,b.addn(1).iushrn(1)),gt=this.pow(s,b),mt=_;gt.cmp(E)!==0;){for(var Wt=gt,de=0;Wt.cmp(E)!==0;de++)Wt=Wt.redSqr();n(de<mt);var jt=this.pow(U,new i(1).iushln(mt-de-1));lt=lt.redMul(jt),U=jt.redSqr(),gt=gt.redMul(U),mt=de}return lt},S.prototype.invm=function(s){var f=s._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},S.prototype.pow=function(s,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return s.clone();var d=4,b=new Array(1<<d);b[0]=new i(1).toRed(this),b[1]=s;for(var _=2;_<b.length;_++)b[_]=this.mul(b[_-1],s);var E=b[0],h=0,w=0,v=f.bitLength()%26;for(v===0&&(v=26),_=f.length-1;_>=0;_--){for(var U=f.words[_],lt=v-1;lt>=0;lt--){var gt=U>>lt&1;if(E!==b[0]&&(E=this.sqr(E)),gt===0&&h===0){w=0;continue}h<<=1,h|=gt,w++,!(w!==d&&(_!==0||lt!==0))&&(E=this.mul(E,b[h]),w=0,h=0)}v=26}return E},S.prototype.convertTo=function(s){var f=s.umod(this.m);return f===s?f.clone():f},S.prototype.convertFrom=function(s){var f=s.clone();return f.red=null,f},i.mont=function(s){return new u(s)};function u(l){S.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(u,S),u.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},u.prototype.convertFrom=function(s){var f=this.imod(s.mul(this.rinv));return f.red=null,f},u.prototype.imul=function(s,f){if(s.isZero()||f.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(f),b=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=d.isub(b).iushrn(this.shift),E=_;return _.cmp(this.m)>=0?E=_.isub(this.m):_.cmpn(0)<0&&(E=_.iadd(this.m)),E._forceRed(this)},u.prototype.mul=function(s,f){if(s.isZero()||f.isZero())return new i(0)._forceRed(this);var d=s.mul(f),b=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=d.isub(b).iushrn(this.shift),E=_;return _.cmp(this.m)>=0?E=_.isub(this.m):_.cmpn(0)<0&&(E=_.iadd(this.m)),E._forceRed(this)},u.prototype.invm=function(s){var f=this.imod(s._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(r,Na)})(Qa);var t0={exports:{}},Yu={},Xu=Object.freeze(Object.defineProperty({__proto__:null,default:Yu},Symbol.toStringTag,{value:"Module"})),e0=Cr(Xu);(function(r){(function(t){var e=function(y){var M,A=new Float64Array(16);if(y)for(M=0;M<y.length;M++)A[M]=y[M];return A},n=function(){throw new Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var c=e(),x=e([1]),C=e([56129,1]),k=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),R=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),K=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),V=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Z=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Et(y,M,A,a){y[M]=A>>24&255,y[M+1]=A>>16&255,y[M+2]=A>>8&255,y[M+3]=A&255,y[M+4]=a>>24&255,y[M+5]=a>>16&255,y[M+6]=a>>8&255,y[M+7]=a&255}function Pt(y,M,A,a,D){var j,P=0;for(j=0;j<D;j++)P|=y[M+j]^A[a+j];return(1&P-1>>>8)-1}function wt(y,M,A,a){return Pt(y,M,A,a,16)}function Nt(y,M,A,a){return Pt(y,M,A,a,32)}function Ot(y,M,A,a){for(var D=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,j=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,P=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,z=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,J=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,ot=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,dt=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,It=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,ct=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,Q=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,et=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,vt=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,ft=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,st=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,ut=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,Mt=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,bt=D,_t=j,xt=P,At=z,Ct=J,ht=ot,Y=dt,X=It,rt=ct,tt=Q,nt=et,pt=vt,$t=ft,kt=st,Gt=ut,Kt=Mt,O,Zt=0;Zt<20;Zt+=2)O=bt+$t|0,Ct^=O<<7|O>>>32-7,O=Ct+bt|0,rt^=O<<9|O>>>32-9,O=rt+Ct|0,$t^=O<<13|O>>>32-13,O=$t+rt|0,bt^=O<<18|O>>>32-18,O=ht+_t|0,tt^=O<<7|O>>>32-7,O=tt+ht|0,kt^=O<<9|O>>>32-9,O=kt+tt|0,_t^=O<<13|O>>>32-13,O=_t+kt|0,ht^=O<<18|O>>>32-18,O=nt+Y|0,Gt^=O<<7|O>>>32-7,O=Gt+nt|0,xt^=O<<9|O>>>32-9,O=xt+Gt|0,Y^=O<<13|O>>>32-13,O=Y+xt|0,nt^=O<<18|O>>>32-18,O=Kt+pt|0,At^=O<<7|O>>>32-7,O=At+Kt|0,X^=O<<9|O>>>32-9,O=X+At|0,pt^=O<<13|O>>>32-13,O=pt+X|0,Kt^=O<<18|O>>>32-18,O=bt+At|0,_t^=O<<7|O>>>32-7,O=_t+bt|0,xt^=O<<9|O>>>32-9,O=xt+_t|0,At^=O<<13|O>>>32-13,O=At+xt|0,bt^=O<<18|O>>>32-18,O=ht+Ct|0,Y^=O<<7|O>>>32-7,O=Y+ht|0,X^=O<<9|O>>>32-9,O=X+Y|0,Ct^=O<<13|O>>>32-13,O=Ct+X|0,ht^=O<<18|O>>>32-18,O=nt+tt|0,pt^=O<<7|O>>>32-7,O=pt+nt|0,rt^=O<<9|O>>>32-9,O=rt+pt|0,tt^=O<<13|O>>>32-13,O=tt+rt|0,nt^=O<<18|O>>>32-18,O=Kt+Gt|0,$t^=O<<7|O>>>32-7,O=$t+Kt|0,kt^=O<<9|O>>>32-9,O=kt+$t|0,Gt^=O<<13|O>>>32-13,O=Gt+kt|0,Kt^=O<<18|O>>>32-18;bt=bt+D|0,_t=_t+j|0,xt=xt+P|0,At=At+z|0,Ct=Ct+J|0,ht=ht+ot|0,Y=Y+dt|0,X=X+It|0,rt=rt+ct|0,tt=tt+Q|0,nt=nt+et|0,pt=pt+vt|0,$t=$t+ft|0,kt=kt+st|0,Gt=Gt+ut|0,Kt=Kt+Mt|0,y[0]=bt>>>0&255,y[1]=bt>>>8&255,y[2]=bt>>>16&255,y[3]=bt>>>24&255,y[4]=_t>>>0&255,y[5]=_t>>>8&255,y[6]=_t>>>16&255,y[7]=_t>>>24&255,y[8]=xt>>>0&255,y[9]=xt>>>8&255,y[10]=xt>>>16&255,y[11]=xt>>>24&255,y[12]=At>>>0&255,y[13]=At>>>8&255,y[14]=At>>>16&255,y[15]=At>>>24&255,y[16]=Ct>>>0&255,y[17]=Ct>>>8&255,y[18]=Ct>>>16&255,y[19]=Ct>>>24&255,y[20]=ht>>>0&255,y[21]=ht>>>8&255,y[22]=ht>>>16&255,y[23]=ht>>>24&255,y[24]=Y>>>0&255,y[25]=Y>>>8&255,y[26]=Y>>>16&255,y[27]=Y>>>24&255,y[28]=X>>>0&255,y[29]=X>>>8&255,y[30]=X>>>16&255,y[31]=X>>>24&255,y[32]=rt>>>0&255,y[33]=rt>>>8&255,y[34]=rt>>>16&255,y[35]=rt>>>24&255,y[36]=tt>>>0&255,y[37]=tt>>>8&255,y[38]=tt>>>16&255,y[39]=tt>>>24&255,y[40]=nt>>>0&255,y[41]=nt>>>8&255,y[42]=nt>>>16&255,y[43]=nt>>>24&255,y[44]=pt>>>0&255,y[45]=pt>>>8&255,y[46]=pt>>>16&255,y[47]=pt>>>24&255,y[48]=$t>>>0&255,y[49]=$t>>>8&255,y[50]=$t>>>16&255,y[51]=$t>>>24&255,y[52]=kt>>>0&255,y[53]=kt>>>8&255,y[54]=kt>>>16&255,y[55]=kt>>>24&255,y[56]=Gt>>>0&255,y[57]=Gt>>>8&255,y[58]=Gt>>>16&255,y[59]=Gt>>>24&255,y[60]=Kt>>>0&255,y[61]=Kt>>>8&255,y[62]=Kt>>>16&255,y[63]=Kt>>>24&255}function se(y,M,A,a){for(var D=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,j=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,P=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,z=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,J=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,ot=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,dt=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,It=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,ct=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,Q=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,et=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,vt=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,ft=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,st=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,ut=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,Mt=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,bt=D,_t=j,xt=P,At=z,Ct=J,ht=ot,Y=dt,X=It,rt=ct,tt=Q,nt=et,pt=vt,$t=ft,kt=st,Gt=ut,Kt=Mt,O,Zt=0;Zt<20;Zt+=2)O=bt+$t|0,Ct^=O<<7|O>>>32-7,O=Ct+bt|0,rt^=O<<9|O>>>32-9,O=rt+Ct|0,$t^=O<<13|O>>>32-13,O=$t+rt|0,bt^=O<<18|O>>>32-18,O=ht+_t|0,tt^=O<<7|O>>>32-7,O=tt+ht|0,kt^=O<<9|O>>>32-9,O=kt+tt|0,_t^=O<<13|O>>>32-13,O=_t+kt|0,ht^=O<<18|O>>>32-18,O=nt+Y|0,Gt^=O<<7|O>>>32-7,O=Gt+nt|0,xt^=O<<9|O>>>32-9,O=xt+Gt|0,Y^=O<<13|O>>>32-13,O=Y+xt|0,nt^=O<<18|O>>>32-18,O=Kt+pt|0,At^=O<<7|O>>>32-7,O=At+Kt|0,X^=O<<9|O>>>32-9,O=X+At|0,pt^=O<<13|O>>>32-13,O=pt+X|0,Kt^=O<<18|O>>>32-18,O=bt+At|0,_t^=O<<7|O>>>32-7,O=_t+bt|0,xt^=O<<9|O>>>32-9,O=xt+_t|0,At^=O<<13|O>>>32-13,O=At+xt|0,bt^=O<<18|O>>>32-18,O=ht+Ct|0,Y^=O<<7|O>>>32-7,O=Y+ht|0,X^=O<<9|O>>>32-9,O=X+Y|0,Ct^=O<<13|O>>>32-13,O=Ct+X|0,ht^=O<<18|O>>>32-18,O=nt+tt|0,pt^=O<<7|O>>>32-7,O=pt+nt|0,rt^=O<<9|O>>>32-9,O=rt+pt|0,tt^=O<<13|O>>>32-13,O=tt+rt|0,nt^=O<<18|O>>>32-18,O=Kt+Gt|0,$t^=O<<7|O>>>32-7,O=$t+Kt|0,kt^=O<<9|O>>>32-9,O=kt+$t|0,Gt^=O<<13|O>>>32-13,O=Gt+kt|0,Kt^=O<<18|O>>>32-18;y[0]=bt>>>0&255,y[1]=bt>>>8&255,y[2]=bt>>>16&255,y[3]=bt>>>24&255,y[4]=ht>>>0&255,y[5]=ht>>>8&255,y[6]=ht>>>16&255,y[7]=ht>>>24&255,y[8]=nt>>>0&255,y[9]=nt>>>8&255,y[10]=nt>>>16&255,y[11]=nt>>>24&255,y[12]=Kt>>>0&255,y[13]=Kt>>>8&255,y[14]=Kt>>>16&255,y[15]=Kt>>>24&255,y[16]=Y>>>0&255,y[17]=Y>>>8&255,y[18]=Y>>>16&255,y[19]=Y>>>24&255,y[20]=X>>>0&255,y[21]=X>>>8&255,y[22]=X>>>16&255,y[23]=X>>>24&255,y[24]=rt>>>0&255,y[25]=rt>>>8&255,y[26]=rt>>>16&255,y[27]=rt>>>24&255,y[28]=tt>>>0&255,y[29]=tt>>>8&255,y[30]=tt>>>16&255,y[31]=tt>>>24&255}function oe(y,M,A,a){Ot(y,M,A,a)}function Rt(y,M,A,a){se(y,M,A,a)}var re=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function ne(y,M,A,a,D,j,P){var z=new Uint8Array(16),J=new Uint8Array(64),ot,dt;for(dt=0;dt<16;dt++)z[dt]=0;for(dt=0;dt<8;dt++)z[dt]=j[dt];for(;D>=64;){for(oe(J,z,P,re),dt=0;dt<64;dt++)y[M+dt]=A[a+dt]^J[dt];for(ot=1,dt=8;dt<16;dt++)ot=ot+(z[dt]&255)|0,z[dt]=ot&255,ot>>>=8;D-=64,M+=64,a+=64}if(D>0)for(oe(J,z,P,re),dt=0;dt<D;dt++)y[M+dt]=A[a+dt]^J[dt];return 0}function Jt(y,M,A,a,D){var j=new Uint8Array(16),P=new Uint8Array(64),z,J;for(J=0;J<16;J++)j[J]=0;for(J=0;J<8;J++)j[J]=a[J];for(;A>=64;){for(oe(P,j,D,re),J=0;J<64;J++)y[M+J]=P[J];for(z=1,J=8;J<16;J++)z=z+(j[J]&255)|0,j[J]=z&255,z>>>=8;A-=64,M+=64}if(A>0)for(oe(P,j,D,re),J=0;J<A;J++)y[M+J]=P[J];return 0}function Ae(y,M,A,a,D){var j=new Uint8Array(32);Rt(j,a,D,re);for(var P=new Uint8Array(8),z=0;z<8;z++)P[z]=a[z+16];return Jt(y,M,A,P,j)}function S(y,M,A,a,D,j,P){var z=new Uint8Array(32);Rt(z,j,P,re);for(var J=new Uint8Array(8),ot=0;ot<8;ot++)J[ot]=j[ot+16];return ne(y,M,A,a,D,J,z)}var u=function(y){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var M,A,a,D,j,P,z,J;M=y[0]&255|(y[1]&255)<<8,this.r[0]=M&8191,A=y[2]&255|(y[3]&255)<<8,this.r[1]=(M>>>13|A<<3)&8191,a=y[4]&255|(y[5]&255)<<8,this.r[2]=(A>>>10|a<<6)&7939,D=y[6]&255|(y[7]&255)<<8,this.r[3]=(a>>>7|D<<9)&8191,j=y[8]&255|(y[9]&255)<<8,this.r[4]=(D>>>4|j<<12)&255,this.r[5]=j>>>1&8190,P=y[10]&255|(y[11]&255)<<8,this.r[6]=(j>>>14|P<<2)&8191,z=y[12]&255|(y[13]&255)<<8,this.r[7]=(P>>>11|z<<5)&8065,J=y[14]&255|(y[15]&255)<<8,this.r[8]=(z>>>8|J<<8)&8191,this.r[9]=J>>>5&127,this.pad[0]=y[16]&255|(y[17]&255)<<8,this.pad[1]=y[18]&255|(y[19]&255)<<8,this.pad[2]=y[20]&255|(y[21]&255)<<8,this.pad[3]=y[22]&255|(y[23]&255)<<8,this.pad[4]=y[24]&255|(y[25]&255)<<8,this.pad[5]=y[26]&255|(y[27]&255)<<8,this.pad[6]=y[28]&255|(y[29]&255)<<8,this.pad[7]=y[30]&255|(y[31]&255)<<8};u.prototype.blocks=function(y,M,A){for(var a=this.fin?0:2048,D,j,P,z,J,ot,dt,It,ct,Q,et,vt,ft,st,ut,Mt,bt,_t,xt,At=this.h[0],Ct=this.h[1],ht=this.h[2],Y=this.h[3],X=this.h[4],rt=this.h[5],tt=this.h[6],nt=this.h[7],pt=this.h[8],$t=this.h[9],kt=this.r[0],Gt=this.r[1],Kt=this.r[2],O=this.r[3],Zt=this.r[4],ue=this.r[5],le=this.r[6],te=this.r[7],Me=this.r[8],Fe=this.r[9];A>=16;)D=y[M+0]&255|(y[M+1]&255)<<8,At+=D&8191,j=y[M+2]&255|(y[M+3]&255)<<8,Ct+=(D>>>13|j<<3)&8191,P=y[M+4]&255|(y[M+5]&255)<<8,ht+=(j>>>10|P<<6)&8191,z=y[M+6]&255|(y[M+7]&255)<<8,Y+=(P>>>7|z<<9)&8191,J=y[M+8]&255|(y[M+9]&255)<<8,X+=(z>>>4|J<<12)&8191,rt+=J>>>1&8191,ot=y[M+10]&255|(y[M+11]&255)<<8,tt+=(J>>>14|ot<<2)&8191,dt=y[M+12]&255|(y[M+13]&255)<<8,nt+=(ot>>>11|dt<<5)&8191,It=y[M+14]&255|(y[M+15]&255)<<8,pt+=(dt>>>8|It<<8)&8191,$t+=It>>>5|a,ct=0,Q=ct,Q+=At*kt,Q+=Ct*(5*Fe),Q+=ht*(5*Me),Q+=Y*(5*te),Q+=X*(5*le),ct=Q>>>13,Q&=8191,Q+=rt*(5*ue),Q+=tt*(5*Zt),Q+=nt*(5*O),Q+=pt*(5*Kt),Q+=$t*(5*Gt),ct+=Q>>>13,Q&=8191,et=ct,et+=At*Gt,et+=Ct*kt,et+=ht*(5*Fe),et+=Y*(5*Me),et+=X*(5*te),ct=et>>>13,et&=8191,et+=rt*(5*le),et+=tt*(5*ue),et+=nt*(5*Zt),et+=pt*(5*O),et+=$t*(5*Kt),ct+=et>>>13,et&=8191,vt=ct,vt+=At*Kt,vt+=Ct*Gt,vt+=ht*kt,vt+=Y*(5*Fe),vt+=X*(5*Me),ct=vt>>>13,vt&=8191,vt+=rt*(5*te),vt+=tt*(5*le),vt+=nt*(5*ue),vt+=pt*(5*Zt),vt+=$t*(5*O),ct+=vt>>>13,vt&=8191,ft=ct,ft+=At*O,ft+=Ct*Kt,ft+=ht*Gt,ft+=Y*kt,ft+=X*(5*Fe),ct=ft>>>13,ft&=8191,ft+=rt*(5*Me),ft+=tt*(5*te),ft+=nt*(5*le),ft+=pt*(5*ue),ft+=$t*(5*Zt),ct+=ft>>>13,ft&=8191,st=ct,st+=At*Zt,st+=Ct*O,st+=ht*Kt,st+=Y*Gt,st+=X*kt,ct=st>>>13,st&=8191,st+=rt*(5*Fe),st+=tt*(5*Me),st+=nt*(5*te),st+=pt*(5*le),st+=$t*(5*ue),ct+=st>>>13,st&=8191,ut=ct,ut+=At*ue,ut+=Ct*Zt,ut+=ht*O,ut+=Y*Kt,ut+=X*Gt,ct=ut>>>13,ut&=8191,ut+=rt*kt,ut+=tt*(5*Fe),ut+=nt*(5*Me),ut+=pt*(5*te),ut+=$t*(5*le),ct+=ut>>>13,ut&=8191,Mt=ct,Mt+=At*le,Mt+=Ct*ue,Mt+=ht*Zt,Mt+=Y*O,Mt+=X*Kt,ct=Mt>>>13,Mt&=8191,Mt+=rt*Gt,Mt+=tt*kt,Mt+=nt*(5*Fe),Mt+=pt*(5*Me),Mt+=$t*(5*te),ct+=Mt>>>13,Mt&=8191,bt=ct,bt+=At*te,bt+=Ct*le,bt+=ht*ue,bt+=Y*Zt,bt+=X*O,ct=bt>>>13,bt&=8191,bt+=rt*Kt,bt+=tt*Gt,bt+=nt*kt,bt+=pt*(5*Fe),bt+=$t*(5*Me),ct+=bt>>>13,bt&=8191,_t=ct,_t+=At*Me,_t+=Ct*te,_t+=ht*le,_t+=Y*ue,_t+=X*Zt,ct=_t>>>13,_t&=8191,_t+=rt*O,_t+=tt*Kt,_t+=nt*Gt,_t+=pt*kt,_t+=$t*(5*Fe),ct+=_t>>>13,_t&=8191,xt=ct,xt+=At*Fe,xt+=Ct*Me,xt+=ht*te,xt+=Y*le,xt+=X*ue,ct=xt>>>13,xt&=8191,xt+=rt*Zt,xt+=tt*O,xt+=nt*Kt,xt+=pt*Gt,xt+=$t*kt,ct+=xt>>>13,xt&=8191,ct=(ct<<2)+ct|0,ct=ct+Q|0,Q=ct&8191,ct=ct>>>13,et+=ct,At=Q,Ct=et,ht=vt,Y=ft,X=st,rt=ut,tt=Mt,nt=bt,pt=_t,$t=xt,M+=16,A-=16;this.h[0]=At,this.h[1]=Ct,this.h[2]=ht,this.h[3]=Y,this.h[4]=X,this.h[5]=rt,this.h[6]=tt,this.h[7]=nt,this.h[8]=pt,this.h[9]=$t},u.prototype.finish=function(y,M){var A=new Uint16Array(10),a,D,j,P;if(this.leftover){for(P=this.leftover,this.buffer[P++]=1;P<16;P++)this.buffer[P]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(a=this.h[1]>>>13,this.h[1]&=8191,P=2;P<10;P++)this.h[P]+=a,a=this.h[P]>>>13,this.h[P]&=8191;for(this.h[0]+=a*5,a=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=a,a=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=a,A[0]=this.h[0]+5,a=A[0]>>>13,A[0]&=8191,P=1;P<10;P++)A[P]=this.h[P]+a,a=A[P]>>>13,A[P]&=8191;for(A[9]-=1<<13,D=(a^1)-1,P=0;P<10;P++)A[P]&=D;for(D=~D,P=0;P<10;P++)this.h[P]=this.h[P]&D|A[P];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,j=this.h[0]+this.pad[0],this.h[0]=j&65535,P=1;P<8;P++)j=(this.h[P]+this.pad[P]|0)+(j>>>16)|0,this.h[P]=j&65535;y[M+0]=this.h[0]>>>0&255,y[M+1]=this.h[0]>>>8&255,y[M+2]=this.h[1]>>>0&255,y[M+3]=this.h[1]>>>8&255,y[M+4]=this.h[2]>>>0&255,y[M+5]=this.h[2]>>>8&255,y[M+6]=this.h[3]>>>0&255,y[M+7]=this.h[3]>>>8&255,y[M+8]=this.h[4]>>>0&255,y[M+9]=this.h[4]>>>8&255,y[M+10]=this.h[5]>>>0&255,y[M+11]=this.h[5]>>>8&255,y[M+12]=this.h[6]>>>0&255,y[M+13]=this.h[6]>>>8&255,y[M+14]=this.h[7]>>>0&255,y[M+15]=this.h[7]>>>8&255},u.prototype.update=function(y,M,A){var a,D;if(this.leftover){for(D=16-this.leftover,D>A&&(D=A),a=0;a<D;a++)this.buffer[this.leftover+a]=y[M+a];if(A-=D,M+=D,this.leftover+=D,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(A>=16&&(D=A-A%16,this.blocks(y,M,D),M+=D,A-=D),A){for(a=0;a<A;a++)this.buffer[this.leftover+a]=y[M+a];this.leftover+=A}};function l(y,M,A,a,D,j){var P=new u(j);return P.update(A,a,D),P.finish(y,M),0}function s(y,M,A,a,D,j){var P=new Uint8Array(16);return l(P,0,A,a,D,j),wt(y,M,P,0)}function f(y,M,A,a,D){var j;if(A<32)return-1;for(S(y,0,M,0,A,a,D),l(y,16,y,32,A-32,y),j=0;j<16;j++)y[j]=0;return 0}function d(y,M,A,a,D){var j,P=new Uint8Array(32);if(A<32||(Ae(P,0,32,a,D),s(M,16,M,32,A-32,P)!==0))return-1;for(S(y,0,M,0,A,a,D),j=0;j<32;j++)y[j]=0;return 0}function b(y,M){var A;for(A=0;A<16;A++)y[A]=M[A]|0}function _(y){var M,A,a=1;for(M=0;M<16;M++)A=y[M]+a+65535,a=Math.floor(A/65536),y[M]=A-a*65536;y[0]+=a-1+37*(a-1)}function E(y,M,A){for(var a,D=~(A-1),j=0;j<16;j++)a=D&(y[j]^M[j]),y[j]^=a,M[j]^=a}function h(y,M){var A,a,D,j=e(),P=e();for(A=0;A<16;A++)P[A]=M[A];for(_(P),_(P),_(P),a=0;a<2;a++){for(j[0]=P[0]-65517,A=1;A<15;A++)j[A]=P[A]-65535-(j[A-1]>>16&1),j[A-1]&=65535;j[15]=P[15]-32767-(j[14]>>16&1),D=j[15]>>16&1,j[14]&=65535,E(P,j,1-D)}for(A=0;A<16;A++)y[2*A]=P[A]&255,y[2*A+1]=P[A]>>8}function w(y,M){var A=new Uint8Array(32),a=new Uint8Array(32);return h(A,y),h(a,M),Nt(A,0,a,0)}function v(y){var M=new Uint8Array(32);return h(M,y),M[0]&1}function U(y,M){var A;for(A=0;A<16;A++)y[A]=M[2*A]+(M[2*A+1]<<8);y[15]&=32767}function lt(y,M,A){for(var a=0;a<16;a++)y[a]=M[a]+A[a]}function gt(y,M,A){for(var a=0;a<16;a++)y[a]=M[a]-A[a]}function mt(y,M,A){var a,D,j=0,P=0,z=0,J=0,ot=0,dt=0,It=0,ct=0,Q=0,et=0,vt=0,ft=0,st=0,ut=0,Mt=0,bt=0,_t=0,xt=0,At=0,Ct=0,ht=0,Y=0,X=0,rt=0,tt=0,nt=0,pt=0,$t=0,kt=0,Gt=0,Kt=0,O=A[0],Zt=A[1],ue=A[2],le=A[3],te=A[4],Me=A[5],Fe=A[6],$e=A[7],Ie=A[8],Ne=A[9],Re=A[10],Ue=A[11],Pe=A[12],Ke=A[13],Ge=A[14],Ye=A[15];a=M[0],j+=a*O,P+=a*Zt,z+=a*ue,J+=a*le,ot+=a*te,dt+=a*Me,It+=a*Fe,ct+=a*$e,Q+=a*Ie,et+=a*Ne,vt+=a*Re,ft+=a*Ue,st+=a*Pe,ut+=a*Ke,Mt+=a*Ge,bt+=a*Ye,a=M[1],P+=a*O,z+=a*Zt,J+=a*ue,ot+=a*le,dt+=a*te,It+=a*Me,ct+=a*Fe,Q+=a*$e,et+=a*Ie,vt+=a*Ne,ft+=a*Re,st+=a*Ue,ut+=a*Pe,Mt+=a*Ke,bt+=a*Ge,_t+=a*Ye,a=M[2],z+=a*O,J+=a*Zt,ot+=a*ue,dt+=a*le,It+=a*te,ct+=a*Me,Q+=a*Fe,et+=a*$e,vt+=a*Ie,ft+=a*Ne,st+=a*Re,ut+=a*Ue,Mt+=a*Pe,bt+=a*Ke,_t+=a*Ge,xt+=a*Ye,a=M[3],J+=a*O,ot+=a*Zt,dt+=a*ue,It+=a*le,ct+=a*te,Q+=a*Me,et+=a*Fe,vt+=a*$e,ft+=a*Ie,st+=a*Ne,ut+=a*Re,Mt+=a*Ue,bt+=a*Pe,_t+=a*Ke,xt+=a*Ge,At+=a*Ye,a=M[4],ot+=a*O,dt+=a*Zt,It+=a*ue,ct+=a*le,Q+=a*te,et+=a*Me,vt+=a*Fe,ft+=a*$e,st+=a*Ie,ut+=a*Ne,Mt+=a*Re,bt+=a*Ue,_t+=a*Pe,xt+=a*Ke,At+=a*Ge,Ct+=a*Ye,a=M[5],dt+=a*O,It+=a*Zt,ct+=a*ue,Q+=a*le,et+=a*te,vt+=a*Me,ft+=a*Fe,st+=a*$e,ut+=a*Ie,Mt+=a*Ne,bt+=a*Re,_t+=a*Ue,xt+=a*Pe,At+=a*Ke,Ct+=a*Ge,ht+=a*Ye,a=M[6],It+=a*O,ct+=a*Zt,Q+=a*ue,et+=a*le,vt+=a*te,ft+=a*Me,st+=a*Fe,ut+=a*$e,Mt+=a*Ie,bt+=a*Ne,_t+=a*Re,xt+=a*Ue,At+=a*Pe,Ct+=a*Ke,ht+=a*Ge,Y+=a*Ye,a=M[7],ct+=a*O,Q+=a*Zt,et+=a*ue,vt+=a*le,ft+=a*te,st+=a*Me,ut+=a*Fe,Mt+=a*$e,bt+=a*Ie,_t+=a*Ne,xt+=a*Re,At+=a*Ue,Ct+=a*Pe,ht+=a*Ke,Y+=a*Ge,X+=a*Ye,a=M[8],Q+=a*O,et+=a*Zt,vt+=a*ue,ft+=a*le,st+=a*te,ut+=a*Me,Mt+=a*Fe,bt+=a*$e,_t+=a*Ie,xt+=a*Ne,At+=a*Re,Ct+=a*Ue,ht+=a*Pe,Y+=a*Ke,X+=a*Ge,rt+=a*Ye,a=M[9],et+=a*O,vt+=a*Zt,ft+=a*ue,st+=a*le,ut+=a*te,Mt+=a*Me,bt+=a*Fe,_t+=a*$e,xt+=a*Ie,At+=a*Ne,Ct+=a*Re,ht+=a*Ue,Y+=a*Pe,X+=a*Ke,rt+=a*Ge,tt+=a*Ye,a=M[10],vt+=a*O,ft+=a*Zt,st+=a*ue,ut+=a*le,Mt+=a*te,bt+=a*Me,_t+=a*Fe,xt+=a*$e,At+=a*Ie,Ct+=a*Ne,ht+=a*Re,Y+=a*Ue,X+=a*Pe,rt+=a*Ke,tt+=a*Ge,nt+=a*Ye,a=M[11],ft+=a*O,st+=a*Zt,ut+=a*ue,Mt+=a*le,bt+=a*te,_t+=a*Me,xt+=a*Fe,At+=a*$e,Ct+=a*Ie,ht+=a*Ne,Y+=a*Re,X+=a*Ue,rt+=a*Pe,tt+=a*Ke,nt+=a*Ge,pt+=a*Ye,a=M[12],st+=a*O,ut+=a*Zt,Mt+=a*ue,bt+=a*le,_t+=a*te,xt+=a*Me,At+=a*Fe,Ct+=a*$e,ht+=a*Ie,Y+=a*Ne,X+=a*Re,rt+=a*Ue,tt+=a*Pe,nt+=a*Ke,pt+=a*Ge,$t+=a*Ye,a=M[13],ut+=a*O,Mt+=a*Zt,bt+=a*ue,_t+=a*le,xt+=a*te,At+=a*Me,Ct+=a*Fe,ht+=a*$e,Y+=a*Ie,X+=a*Ne,rt+=a*Re,tt+=a*Ue,nt+=a*Pe,pt+=a*Ke,$t+=a*Ge,kt+=a*Ye,a=M[14],Mt+=a*O,bt+=a*Zt,_t+=a*ue,xt+=a*le,At+=a*te,Ct+=a*Me,ht+=a*Fe,Y+=a*$e,X+=a*Ie,rt+=a*Ne,tt+=a*Re,nt+=a*Ue,pt+=a*Pe,$t+=a*Ke,kt+=a*Ge,Gt+=a*Ye,a=M[15],bt+=a*O,_t+=a*Zt,xt+=a*ue,At+=a*le,Ct+=a*te,ht+=a*Me,Y+=a*Fe,X+=a*$e,rt+=a*Ie,tt+=a*Ne,nt+=a*Re,pt+=a*Ue,$t+=a*Pe,kt+=a*Ke,Gt+=a*Ge,Kt+=a*Ye,j+=38*_t,P+=38*xt,z+=38*At,J+=38*Ct,ot+=38*ht,dt+=38*Y,It+=38*X,ct+=38*rt,Q+=38*tt,et+=38*nt,vt+=38*pt,ft+=38*$t,st+=38*kt,ut+=38*Gt,Mt+=38*Kt,D=1,a=j+D+65535,D=Math.floor(a/65536),j=a-D*65536,a=P+D+65535,D=Math.floor(a/65536),P=a-D*65536,a=z+D+65535,D=Math.floor(a/65536),z=a-D*65536,a=J+D+65535,D=Math.floor(a/65536),J=a-D*65536,a=ot+D+65535,D=Math.floor(a/65536),ot=a-D*65536,a=dt+D+65535,D=Math.floor(a/65536),dt=a-D*65536,a=It+D+65535,D=Math.floor(a/65536),It=a-D*65536,a=ct+D+65535,D=Math.floor(a/65536),ct=a-D*65536,a=Q+D+65535,D=Math.floor(a/65536),Q=a-D*65536,a=et+D+65535,D=Math.floor(a/65536),et=a-D*65536,a=vt+D+65535,D=Math.floor(a/65536),vt=a-D*65536,a=ft+D+65535,D=Math.floor(a/65536),ft=a-D*65536,a=st+D+65535,D=Math.floor(a/65536),st=a-D*65536,a=ut+D+65535,D=Math.floor(a/65536),ut=a-D*65536,a=Mt+D+65535,D=Math.floor(a/65536),Mt=a-D*65536,a=bt+D+65535,D=Math.floor(a/65536),bt=a-D*65536,j+=D-1+37*(D-1),D=1,a=j+D+65535,D=Math.floor(a/65536),j=a-D*65536,a=P+D+65535,D=Math.floor(a/65536),P=a-D*65536,a=z+D+65535,D=Math.floor(a/65536),z=a-D*65536,a=J+D+65535,D=Math.floor(a/65536),J=a-D*65536,a=ot+D+65535,D=Math.floor(a/65536),ot=a-D*65536,a=dt+D+65535,D=Math.floor(a/65536),dt=a-D*65536,a=It+D+65535,D=Math.floor(a/65536),It=a-D*65536,a=ct+D+65535,D=Math.floor(a/65536),ct=a-D*65536,a=Q+D+65535,D=Math.floor(a/65536),Q=a-D*65536,a=et+D+65535,D=Math.floor(a/65536),et=a-D*65536,a=vt+D+65535,D=Math.floor(a/65536),vt=a-D*65536,a=ft+D+65535,D=Math.floor(a/65536),ft=a-D*65536,a=st+D+65535,D=Math.floor(a/65536),st=a-D*65536,a=ut+D+65535,D=Math.floor(a/65536),ut=a-D*65536,a=Mt+D+65535,D=Math.floor(a/65536),Mt=a-D*65536,a=bt+D+65535,D=Math.floor(a/65536),bt=a-D*65536,j+=D-1+37*(D-1),y[0]=j,y[1]=P,y[2]=z,y[3]=J,y[4]=ot,y[5]=dt,y[6]=It,y[7]=ct,y[8]=Q,y[9]=et,y[10]=vt,y[11]=ft,y[12]=st,y[13]=ut,y[14]=Mt,y[15]=bt}function Wt(y,M){mt(y,M,M)}function de(y,M){var A=e(),a;for(a=0;a<16;a++)A[a]=M[a];for(a=253;a>=0;a--)Wt(A,A),a!==2&&a!==4&&mt(A,A,M);for(a=0;a<16;a++)y[a]=A[a]}function jt(y,M){var A=e(),a;for(a=0;a<16;a++)A[a]=M[a];for(a=250;a>=0;a--)Wt(A,A),a!==1&&mt(A,A,M);for(a=0;a<16;a++)y[a]=A[a]}function ae(y,M,A){var a=new Uint8Array(32),D=new Float64Array(80),j,P,z=e(),J=e(),ot=e(),dt=e(),It=e(),ct=e();for(P=0;P<31;P++)a[P]=M[P];for(a[31]=M[31]&127|64,a[0]&=248,U(D,A),P=0;P<16;P++)J[P]=D[P],dt[P]=z[P]=ot[P]=0;for(z[0]=dt[0]=1,P=254;P>=0;--P)j=a[P>>>3]>>>(P&7)&1,E(z,J,j),E(ot,dt,j),lt(It,z,ot),gt(z,z,ot),lt(ot,J,dt),gt(J,J,dt),Wt(dt,It),Wt(ct,z),mt(z,ot,z),mt(ot,J,It),lt(It,z,ot),gt(z,z,ot),Wt(J,z),gt(ot,dt,ct),mt(z,ot,C),lt(z,z,dt),mt(ot,ot,z),mt(z,dt,ct),mt(dt,J,D),Wt(J,It),E(z,J,j),E(ot,dt,j);for(P=0;P<16;P++)D[P+16]=z[P],D[P+32]=ot[P],D[P+48]=J[P],D[P+64]=dt[P];var Q=D.subarray(32),et=D.subarray(16);return de(Q,Q),mt(et,et,Q),h(y,et),0}function he(y,M){return ae(y,M,i)}function Ft(y,M){return n(M,32),he(y,M)}function ce(y,M,A){var a=new Uint8Array(32);return ae(a,A,M),Rt(y,o,a,re)}var Ee=f,Qt=d;function Ce(y,M,A,a,D,j){var P=new Uint8Array(32);return ce(P,D,j),Ee(y,M,A,a,P)}function me(y,M,A,a,D,j){var P=new Uint8Array(32);return ce(P,D,j),Qt(y,M,A,a,P)}var ie=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ye(y,M,A,a){for(var D=new Int32Array(16),j=new Int32Array(16),P,z,J,ot,dt,It,ct,Q,et,vt,ft,st,ut,Mt,bt,_t,xt,At,Ct,ht,Y,X,rt,tt,nt,pt,$t=y[0],kt=y[1],Gt=y[2],Kt=y[3],O=y[4],Zt=y[5],ue=y[6],le=y[7],te=M[0],Me=M[1],Fe=M[2],$e=M[3],Ie=M[4],Ne=M[5],Re=M[6],Ue=M[7],Pe=0;a>=128;){for(Ct=0;Ct<16;Ct++)ht=8*Ct+Pe,D[Ct]=A[ht+0]<<24|A[ht+1]<<16|A[ht+2]<<8|A[ht+3],j[Ct]=A[ht+4]<<24|A[ht+5]<<16|A[ht+6]<<8|A[ht+7];for(Ct=0;Ct<80;Ct++)if(P=$t,z=kt,J=Gt,ot=Kt,dt=O,It=Zt,ct=ue,Q=le,et=te,vt=Me,ft=Fe,st=$e,ut=Ie,Mt=Ne,bt=Re,_t=Ue,Y=le,X=Ue,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=(O>>>14|Ie<<32-14)^(O>>>18|Ie<<32-18)^(Ie>>>41-32|O<<32-(41-32)),X=(Ie>>>14|O<<32-14)^(Ie>>>18|O<<32-18)^(O>>>41-32|Ie<<32-(41-32)),rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,Y=O&Zt^~O&ue,X=Ie&Ne^~Ie&Re,rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,Y=ie[Ct*2],X=ie[Ct*2+1],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,Y=D[Ct%16],X=j[Ct%16],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,xt=nt&65535|pt<<16,At=rt&65535|tt<<16,Y=xt,X=At,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=($t>>>28|te<<32-28)^(te>>>34-32|$t<<32-(34-32))^(te>>>39-32|$t<<32-(39-32)),X=(te>>>28|$t<<32-28)^($t>>>34-32|te<<32-(34-32))^($t>>>39-32|te<<32-(39-32)),rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,Y=$t&kt^$t&Gt^kt&Gt,X=te&Me^te&Fe^Me&Fe,rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,Q=nt&65535|pt<<16,_t=rt&65535|tt<<16,Y=ot,X=st,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=xt,X=At,rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,ot=nt&65535|pt<<16,st=rt&65535|tt<<16,kt=P,Gt=z,Kt=J,O=ot,Zt=dt,ue=It,le=ct,$t=Q,Me=et,Fe=vt,$e=ft,Ie=st,Ne=ut,Re=Mt,Ue=bt,te=_t,Ct%16===15)for(ht=0;ht<16;ht++)Y=D[ht],X=j[ht],rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=D[(ht+9)%16],X=j[(ht+9)%16],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,xt=D[(ht+1)%16],At=j[(ht+1)%16],Y=(xt>>>1|At<<32-1)^(xt>>>8|At<<32-8)^xt>>>7,X=(At>>>1|xt<<32-1)^(At>>>8|xt<<32-8)^(At>>>7|xt<<32-7),rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,xt=D[(ht+14)%16],At=j[(ht+14)%16],Y=(xt>>>19|At<<32-19)^(At>>>61-32|xt<<32-(61-32))^xt>>>6,X=(At>>>19|xt<<32-19)^(xt>>>61-32|At<<32-(61-32))^(At>>>6|xt<<32-6),rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,D[ht]=nt&65535|pt<<16,j[ht]=rt&65535|tt<<16;Y=$t,X=te,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[0],X=M[0],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[0]=$t=nt&65535|pt<<16,M[0]=te=rt&65535|tt<<16,Y=kt,X=Me,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[1],X=M[1],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[1]=kt=nt&65535|pt<<16,M[1]=Me=rt&65535|tt<<16,Y=Gt,X=Fe,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[2],X=M[2],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[2]=Gt=nt&65535|pt<<16,M[2]=Fe=rt&65535|tt<<16,Y=Kt,X=$e,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[3],X=M[3],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[3]=Kt=nt&65535|pt<<16,M[3]=$e=rt&65535|tt<<16,Y=O,X=Ie,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[4],X=M[4],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[4]=O=nt&65535|pt<<16,M[4]=Ie=rt&65535|tt<<16,Y=Zt,X=Ne,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[5],X=M[5],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[5]=Zt=nt&65535|pt<<16,M[5]=Ne=rt&65535|tt<<16,Y=ue,X=Re,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[6],X=M[6],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[6]=ue=nt&65535|pt<<16,M[6]=Re=rt&65535|tt<<16,Y=le,X=Ue,rt=X&65535,tt=X>>>16,nt=Y&65535,pt=Y>>>16,Y=y[7],X=M[7],rt+=X&65535,tt+=X>>>16,nt+=Y&65535,pt+=Y>>>16,tt+=rt>>>16,nt+=tt>>>16,pt+=nt>>>16,y[7]=le=nt&65535|pt<<16,M[7]=Ue=rt&65535|tt<<16,Pe+=128,a-=128}return a}function fe(y,M,A){var a=new Int32Array(8),D=new Int32Array(8),j=new Uint8Array(256),P,z=A;for(a[0]=1779033703,a[1]=3144134277,a[2]=1013904242,a[3]=2773480762,a[4]=1359893119,a[5]=2600822924,a[6]=528734635,a[7]=1541459225,D[0]=4089235720,D[1]=2227873595,D[2]=4271175723,D[3]=1595750129,D[4]=2917565137,D[5]=725511199,D[6]=4215389547,D[7]=327033209,ye(a,D,M,A),A%=128,P=0;P<A;P++)j[P]=M[z-A+P];for(j[A]=128,A=256-128*(A<112?1:0),j[A-9]=0,Et(j,A-8,z/536870912|0,z<<3),ye(a,D,j,A),P=0;P<8;P++)Et(y,8*P,a[P],D[P]);return 0}function zt(y,M){var A=e(),a=e(),D=e(),j=e(),P=e(),z=e(),J=e(),ot=e(),dt=e();gt(A,y[1],y[0]),gt(dt,M[1],M[0]),mt(A,A,dt),lt(a,y[0],y[1]),lt(dt,M[0],M[1]),mt(a,a,dt),mt(D,y[3],M[3]),mt(D,D,R),mt(j,y[2],M[2]),lt(j,j,j),gt(P,a,A),gt(z,j,D),lt(J,j,D),lt(ot,a,A),mt(y[0],P,z),mt(y[1],ot,J),mt(y[2],J,z),mt(y[3],P,ot)}function _e(y,M,A){var a;for(a=0;a<4;a++)E(y[a],M[a],A)}function pe(y,M){var A=e(),a=e(),D=e();de(D,M[2]),mt(A,M[0],D),mt(a,M[1],D),h(y,a),y[31]^=v(A)<<7}function Lt(y,M,A){var a,D;for(b(y[0],c),b(y[1],x),b(y[2],x),b(y[3],c),D=255;D>=0;--D)a=A[D/8|0]>>(D&7)&1,_e(y,M,a),zt(M,y),zt(y,y),_e(y,M,a)}function be(y,M){var A=[e(),e(),e(),e()];b(A[0],K),b(A[1],V),b(A[2],x),mt(A[3],K,V),Lt(y,A,M)}function ve(y,M,A){var a=new Uint8Array(64),D=[e(),e(),e(),e()],j;for(A||n(M,32),fe(a,M,32),a[0]&=248,a[31]&=127,a[31]|=64,be(D,a),pe(y,D),j=0;j<32;j++)M[j+32]=y[j];return 0}var Xt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function I(y,M){var A,a,D,j;for(a=63;a>=32;--a){for(A=0,D=a-32,j=a-12;D<j;++D)M[D]+=A-16*M[a]*Xt[D-(a-32)],A=Math.floor((M[D]+128)/256),M[D]-=A*256;M[D]+=A,M[a]=0}for(A=0,D=0;D<32;D++)M[D]+=A-(M[31]>>4)*Xt[D],A=M[D]>>8,M[D]&=255;for(D=0;D<32;D++)M[D]-=A*Xt[D];for(a=0;a<32;a++)M[a+1]+=M[a]>>8,y[a]=M[a]&255}function p(y){var M=new Float64Array(64),A;for(A=0;A<64;A++)M[A]=y[A];for(A=0;A<64;A++)y[A]=0;I(y,M)}function g(y,M,A,a){var D=new Uint8Array(64),j=new Uint8Array(64),P=new Uint8Array(64),z,J,ot=new Float64Array(64),dt=[e(),e(),e(),e()];fe(D,a,32),D[0]&=248,D[31]&=127,D[31]|=64;var It=A+64;for(z=0;z<A;z++)y[64+z]=M[z];for(z=0;z<32;z++)y[32+z]=D[32+z];for(fe(P,y.subarray(32),A+32),p(P),be(dt,P),pe(y,dt),z=32;z<64;z++)y[z]=a[z];for(fe(j,y,A+64),p(j),z=0;z<64;z++)ot[z]=0;for(z=0;z<32;z++)ot[z]=P[z];for(z=0;z<32;z++)for(J=0;J<32;J++)ot[z+J]+=j[z]*D[J];return I(y.subarray(32),ot),It}function $(y,M){var A=e(),a=e(),D=e(),j=e(),P=e(),z=e(),J=e();return b(y[2],x),U(y[1],M),Wt(D,y[1]),mt(j,D,k),gt(D,D,y[2]),lt(j,y[2],j),Wt(P,j),Wt(z,P),mt(J,z,P),mt(A,J,D),mt(A,A,j),jt(A,A),mt(A,A,D),mt(A,A,j),mt(A,A,j),mt(y[0],A,j),Wt(a,y[0]),mt(a,a,j),w(a,D)&&mt(y[0],y[0],Z),Wt(a,y[0]),mt(a,a,j),w(a,D)?-1:(v(y[0])===M[31]>>7&&gt(y[0],c,y[0]),mt(y[3],y[0],y[1]),0)}function q(y,M,A,a){var D,j=new Uint8Array(32),P=new Uint8Array(64),z=[e(),e(),e(),e()],J=[e(),e(),e(),e()];if(A<64||$(J,a))return-1;for(D=0;D<A;D++)y[D]=M[D];for(D=0;D<32;D++)y[D+32]=a[D];if(fe(P,y,A),p(P),Lt(z,J,P),be(J,M.subarray(32)),zt(z,J),pe(j,z),A-=64,Nt(M,0,j,0)){for(D=0;D<A;D++)y[D]=0;return-1}for(D=0;D<A;D++)y[D]=M[D+64];return A}var G=32,it=24,Ut=32,Tt=16,qt=32,Yt=32,St=32,Be=32,ge=32,Vt=it,F=Ut,N=Tt,T=64,m=32,B=64,H=32,W=64;t.lowlevel={crypto_core_hsalsa20:Rt,crypto_stream_xor:S,crypto_stream:Ae,crypto_stream_salsa20_xor:ne,crypto_stream_salsa20:Jt,crypto_onetimeauth:l,crypto_onetimeauth_verify:s,crypto_verify_16:wt,crypto_verify_32:Nt,crypto_secretbox:f,crypto_secretbox_open:d,crypto_scalarmult:ae,crypto_scalarmult_base:he,crypto_box_beforenm:ce,crypto_box_afternm:Ee,crypto_box:Ce,crypto_box_open:me,crypto_box_keypair:Ft,crypto_hash:fe,crypto_sign:g,crypto_sign_keypair:ve,crypto_sign_open:q,crypto_secretbox_KEYBYTES:G,crypto_secretbox_NONCEBYTES:it,crypto_secretbox_ZEROBYTES:Ut,crypto_secretbox_BOXZEROBYTES:Tt,crypto_scalarmult_BYTES:qt,crypto_scalarmult_SCALARBYTES:Yt,crypto_box_PUBLICKEYBYTES:St,crypto_box_SECRETKEYBYTES:Be,crypto_box_BEFORENMBYTES:ge,crypto_box_NONCEBYTES:Vt,crypto_box_ZEROBYTES:F,crypto_box_BOXZEROBYTES:N,crypto_sign_BYTES:T,crypto_sign_PUBLICKEYBYTES:m,crypto_sign_SECRETKEYBYTES:B,crypto_sign_SEEDBYTES:H,crypto_hash_BYTES:W,gf:e,D:k,L:Xt,pack25519:h,unpack25519:U,M:mt,A:lt,S:Wt,Z:gt,pow2523:jt,add:zt,set25519:b,modL:I,scalarmult:Lt,scalarbase:be};function at(y,M){if(y.length!==G)throw new Error("bad key size");if(M.length!==it)throw new Error("bad nonce size")}function L(y,M){if(y.length!==St)throw new Error("bad public key size");if(M.length!==Be)throw new Error("bad secret key size")}function yt(){for(var y=0;y<arguments.length;y++)if(!(arguments[y]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Dt(y){for(var M=0;M<y.length;M++)y[M]=0}t.randomBytes=function(y){var M=new Uint8Array(y);return n(M,y),M},t.secretbox=function(y,M,A){yt(y,M,A),at(A,M);for(var a=new Uint8Array(Ut+y.length),D=new Uint8Array(a.length),j=0;j<y.length;j++)a[j+Ut]=y[j];return f(D,a,a.length,M,A),D.subarray(Tt)},t.secretbox.open=function(y,M,A){yt(y,M,A),at(A,M);for(var a=new Uint8Array(Tt+y.length),D=new Uint8Array(a.length),j=0;j<y.length;j++)a[j+Tt]=y[j];return a.length<32||d(D,a,a.length,M,A)!==0?null:D.subarray(Ut)},t.secretbox.keyLength=G,t.secretbox.nonceLength=it,t.secretbox.overheadLength=Tt,t.scalarMult=function(y,M){if(yt(y,M),y.length!==Yt)throw new Error("bad n size");if(M.length!==qt)throw new Error("bad p size");var A=new Uint8Array(qt);return ae(A,y,M),A},t.scalarMult.base=function(y){if(yt(y),y.length!==Yt)throw new Error("bad n size");var M=new Uint8Array(qt);return he(M,y),M},t.scalarMult.scalarLength=Yt,t.scalarMult.groupElementLength=qt,t.box=function(y,M,A,a){var D=t.box.before(A,a);return t.secretbox(y,M,D)},t.box.before=function(y,M){yt(y,M),L(y,M);var A=new Uint8Array(ge);return ce(A,y,M),A},t.box.after=t.secretbox,t.box.open=function(y,M,A,a){var D=t.box.before(A,a);return t.secretbox.open(y,M,D)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var y=new Uint8Array(St),M=new Uint8Array(Be);return Ft(y,M),{publicKey:y,secretKey:M}},t.box.keyPair.fromSecretKey=function(y){if(yt(y),y.length!==Be)throw new Error("bad secret key size");var M=new Uint8Array(St);return he(M,y),{publicKey:M,secretKey:new Uint8Array(y)}},t.box.publicKeyLength=St,t.box.secretKeyLength=Be,t.box.sharedKeyLength=ge,t.box.nonceLength=Vt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(y,M){if(yt(y,M),M.length!==B)throw new Error("bad secret key size");var A=new Uint8Array(T+y.length);return g(A,y,y.length,M),A},t.sign.open=function(y,M){if(yt(y,M),M.length!==m)throw new Error("bad public key size");var A=new Uint8Array(y.length),a=q(A,y,y.length,M);if(a<0)return null;for(var D=new Uint8Array(a),j=0;j<D.length;j++)D[j]=A[j];return D},t.sign.detached=function(y,M){for(var A=t.sign(y,M),a=new Uint8Array(T),D=0;D<a.length;D++)a[D]=A[D];return a},t.sign.detached.verify=function(y,M,A){if(yt(y,M,A),M.length!==T)throw new Error("bad signature size");if(A.length!==m)throw new Error("bad public key size");var a=new Uint8Array(T+y.length),D=new Uint8Array(T+y.length),j;for(j=0;j<T;j++)a[j]=M[j];for(j=0;j<y.length;j++)a[j+T]=y[j];return q(D,a,a.length,A)>=0},t.sign.keyPair=function(){var y=new Uint8Array(m),M=new Uint8Array(B);return ve(y,M),{publicKey:y,secretKey:M}},t.sign.keyPair.fromSecretKey=function(y){if(yt(y),y.length!==B)throw new Error("bad secret key size");for(var M=new Uint8Array(m),A=0;A<M.length;A++)M[A]=y[32+A];return{publicKey:M,secretKey:new Uint8Array(y)}},t.sign.keyPair.fromSeed=function(y){if(yt(y),y.length!==H)throw new Error("bad seed size");for(var M=new Uint8Array(m),A=new Uint8Array(B),a=0;a<32;a++)A[a]=y[a];return ve(M,A,!0),{publicKey:M,secretKey:A}},t.sign.publicKeyLength=m,t.sign.secretKeyLength=B,t.sign.seedLength=H,t.sign.signatureLength=T,t.hash=function(y){yt(y);var M=new Uint8Array(W);return fe(M,y,y.length),M},t.hash.hashLength=W,t.verify=function(y,M){return yt(y,M),y.length===0||M.length===0||y.length!==M.length?!1:Pt(y,0,M,0,y.length)===0},t.setPRNG=function(y){n=y},function(){var y=typeof self!="undefined"?self.crypto||self.msCrypto:null;if(y&&y.getRandomValues){var M=65536;t.setPRNG(function(A,a){var D,j=new Uint8Array(a);for(D=0;D<a;D+=M)y.getRandomValues(j.subarray(D,D+Math.min(a-D,M)));for(D=0;D<a;D++)A[D]=j[D];Dt(j)})}else typeof Ra!="undefined"&&(y=e0,y&&y.randomBytes&&t.setPRNG(function(A,a){var D,j=y.randomBytes(a);for(D=0;D<a;D++)A[D]=j[D];Dt(j)}))}()})(r.exports?r.exports:self.nacl=self.nacl||{})})(t0);var Fo={exports:{}};(function(r){(function(t,e){function n(S,u){if(!S)throw new Error(u||"Assertion failed")}function o(S,u){S.super_=u;var l=function(){};l.prototype=u.prototype,S.prototype=new l,S.prototype.constructor=S}function i(S,u,l){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((u==="le"||u==="be")&&(l=u,u=10),this._init(S||0,u||10,l||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var c;try{c=Ra("buffer").Buffer}catch{}i.isBN=function(u){return u instanceof i?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===i.wordSize&&Array.isArray(u.words)},i.max=function(u,l){return u.cmp(l)>0?u:l},i.min=function(u,l){return u.cmp(l)<0?u:l},i.prototype._init=function(u,l,s){if(typeof u=="number")return this._initNumber(u,l,s);if(typeof u=="object")return this._initArray(u,l,s);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),u=u.toString().replace(/\s+/g,"");var f=0;u[0]==="-"&&f++,l===16?this._parseHex(u,f):this._parseBase(u,l,f),u[0]==="-"&&(this.negative=1),this.strip(),s==="le"&&this._initArray(this.toArray(),l,s)},i.prototype._initNumber=function(u,l,s){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),s==="le"&&this._initArray(this.toArray(),l,s)},i.prototype._initArray=function(u,l,s){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var d,b,_=0;if(s==="be")for(f=u.length-1,d=0;f>=0;f-=3)b=u[f]|u[f-1]<<8|u[f-2]<<16,this.words[d]|=b<<_&67108863,this.words[d+1]=b>>>26-_&67108863,_+=24,_>=26&&(_-=26,d++);else if(s==="le")for(f=0,d=0;f<u.length;f+=3)b=u[f]|u[f+1]<<8|u[f+2]<<16,this.words[d]|=b<<_&67108863,this.words[d+1]=b>>>26-_&67108863,_+=24,_>=26&&(_-=26,d++);return this.strip()};function x(S,u,l){for(var s=0,f=Math.min(S.length,l),d=u;d<f;d++){var b=S.charCodeAt(d)-48;s<<=4,b>=49&&b<=54?s|=b-49+10:b>=17&&b<=22?s|=b-17+10:s|=b&15}return s}i.prototype._parseHex=function(u,l){this.length=Math.ceil((u.length-l)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var f,d,b=0;for(s=u.length-6,f=0;s>=l;s-=6)d=x(u,s,s+6),this.words[f]|=d<<b&67108863,this.words[f+1]|=d>>>26-b&4194303,b+=24,b>=26&&(b-=26,f++);s+6!==l&&(d=x(u,l,s+6),this.words[f]|=d<<b&67108863,this.words[f+1]|=d>>>26-b&4194303),this.strip()};function C(S,u,l,s){for(var f=0,d=Math.min(S.length,l),b=u;b<d;b++){var _=S.charCodeAt(b)-48;f*=s,_>=49?f+=_-49+10:_>=17?f+=_-17+10:f+=_}return f}i.prototype._parseBase=function(u,l,s){this.words=[0],this.length=1;for(var f=0,d=1;d<=67108863;d*=l)f++;f--,d=d/l|0;for(var b=u.length-s,_=b%f,E=Math.min(b,b-_)+s,h=0,w=s;w<E;w+=f)h=C(u,w,w+f,l),this.imuln(d),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(_!==0){var v=1;for(h=C(u,w,u.length,l),w=0;w<_;w++)v*=l;this.imuln(v),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}},i.prototype.copy=function(u){u.words=new Array(this.length);for(var l=0;l<this.length;l++)u.words[l]=this.words[l];u.length=this.length,u.negative=this.negative,u.red=this.red},i.prototype.clone=function(){var u=new i(null);return this.copy(u),u},i.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],K=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(u,l){u=u||10,l=l|0||1;var s;if(u===16||u==="hex"){s="";for(var f=0,d=0,b=0;b<this.length;b++){var _=this.words[b],E=((_<<f|d)&16777215).toString(16);d=_>>>24-f&16777215,d!==0||b!==this.length-1?s=k[6-E.length]+E+s:s=E+s,f+=2,f>=26&&(f-=26,b--)}for(d!==0&&(s=d.toString(16)+s);s.length%l!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}if(u===(u|0)&&u>=2&&u<=36){var h=R[u],w=K[u];s="";var v=this.clone();for(v.negative=0;!v.isZero();){var U=v.modn(w).toString(u);v=v.idivn(w),v.isZero()?s=U+s:s=k[h-U.length]+U+s}for(this.isZero()&&(s="0"+s);s.length%l!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(u,l){return n(typeof c!="undefined"),this.toArrayLike(c,u,l)},i.prototype.toArray=function(u,l){return this.toArrayLike(Array,u,l)},i.prototype.toArrayLike=function(u,l,s){var f=this.byteLength(),d=s||Math.max(1,f);n(f<=d,"byte array longer than desired length"),n(d>0,"Requested array length <= 0"),this.strip();var b=l==="le",_=new u(d),E,h,w=this.clone();if(b){for(h=0;!w.isZero();h++)E=w.andln(255),w.iushrn(8),_[h]=E;for(;h<d;h++)_[h]=0}else{for(h=0;h<d-f;h++)_[h]=0;for(h=0;!w.isZero();h++)E=w.andln(255),w.iushrn(8),_[d-h-1]=E}return _},Math.clz32?i.prototype._countBits=function(u){return 32-Math.clz32(u)}:i.prototype._countBits=function(u){var l=u,s=0;return l>=4096&&(s+=13,l>>>=13),l>=64&&(s+=7,l>>>=7),l>=8&&(s+=4,l>>>=4),l>=2&&(s+=2,l>>>=2),s+l},i.prototype._zeroBits=function(u){if(u===0)return 26;var l=u,s=0;return(l&8191)===0&&(s+=13,l>>>=13),(l&127)===0&&(s+=7,l>>>=7),(l&15)===0&&(s+=4,l>>>=4),(l&3)===0&&(s+=2,l>>>=2),(l&1)===0&&s++,s},i.prototype.bitLength=function(){var u=this.words[this.length-1],l=this._countBits(u);return(this.length-1)*26+l};function V(S){for(var u=new Array(S.bitLength()),l=0;l<u.length;l++){var s=l/26|0,f=l%26;u[l]=(S.words[s]&1<<f)>>>f}return u}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,l=0;l<this.length;l++){var s=this._zeroBits(this.words[l]);if(u+=s,s!==26)break}return u},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},i.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]|u.words[l];return this.strip()},i.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},i.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},i.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},i.prototype.iuand=function(u){var l;this.length>u.length?l=u:l=this;for(var s=0;s<l.length;s++)this.words[s]=this.words[s]&u.words[s];return this.length=l.length,this.strip()},i.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},i.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},i.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},i.prototype.iuxor=function(u){var l,s;this.length>u.length?(l=this,s=u):(l=u,s=this);for(var f=0;f<s.length;f++)this.words[f]=l.words[f]^s.words[f];if(this!==l)for(;f<l.length;f++)this.words[f]=l.words[f];return this.length=l.length,this.strip()},i.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},i.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},i.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},i.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var l=Math.ceil(u/26)|0,s=u%26;this._expand(l),s>0&&l--;for(var f=0;f<l;f++)this.words[f]=~this.words[f]&67108863;return s>0&&(this.words[f]=~this.words[f]&67108863>>26-s),this.strip()},i.prototype.notn=function(u){return this.clone().inotn(u)},i.prototype.setn=function(u,l){n(typeof u=="number"&&u>=0);var s=u/26|0,f=u%26;return this._expand(s+1),l?this.words[s]=this.words[s]|1<<f:this.words[s]=this.words[s]&~(1<<f),this.strip()},i.prototype.iadd=function(u){var l;if(this.negative!==0&&u.negative===0)return this.negative=0,l=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,l=this.isub(u),u.negative=1,l._normSign();var s,f;this.length>u.length?(s=this,f=u):(s=u,f=this);for(var d=0,b=0;b<f.length;b++)l=(s.words[b]|0)+(f.words[b]|0)+d,this.words[b]=l&67108863,d=l>>>26;for(;d!==0&&b<s.length;b++)l=(s.words[b]|0)+d,this.words[b]=l&67108863,d=l>>>26;if(this.length=s.length,d!==0)this.words[this.length]=d,this.length++;else if(s!==this)for(;b<s.length;b++)this.words[b]=s.words[b];return this},i.prototype.add=function(u){var l;return u.negative!==0&&this.negative===0?(u.negative=0,l=this.sub(u),u.negative^=1,l):u.negative===0&&this.negative!==0?(this.negative=0,l=u.sub(this),this.negative=1,l):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},i.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var l=this.iadd(u);return u.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var s=this.cmp(u);if(s===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,d;s>0?(f=this,d=u):(f=u,d=this);for(var b=0,_=0;_<d.length;_++)l=(f.words[_]|0)-(d.words[_]|0)+b,b=l>>26,this.words[_]=l&67108863;for(;b!==0&&_<f.length;_++)l=(f.words[_]|0)+b,b=l>>26,this.words[_]=l&67108863;if(b===0&&_<f.length&&f!==this)for(;_<f.length;_++)this.words[_]=f.words[_];return this.length=Math.max(this.length,_),f!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(u){return this.clone().isub(u)};function Z(S,u,l){l.negative=u.negative^S.negative;var s=S.length+u.length|0;l.length=s,s=s-1|0;var f=S.words[0]|0,d=u.words[0]|0,b=f*d,_=b&67108863,E=b/67108864|0;l.words[0]=_;for(var h=1;h<s;h++){for(var w=E>>>26,v=E&67108863,U=Math.min(h,u.length-1),lt=Math.max(0,h-S.length+1);lt<=U;lt++){var gt=h-lt|0;f=S.words[gt]|0,d=u.words[lt]|0,b=f*d+v,w+=b/67108864|0,v=b&67108863}l.words[h]=v|0,E=w|0}return E!==0?l.words[h]=E|0:l.length--,l.strip()}var Et=function(u,l,s){var f=u.words,d=l.words,b=s.words,_=0,E,h,w,v=f[0]|0,U=v&8191,lt=v>>>13,gt=f[1]|0,mt=gt&8191,Wt=gt>>>13,de=f[2]|0,jt=de&8191,ae=de>>>13,he=f[3]|0,Ft=he&8191,ce=he>>>13,Ee=f[4]|0,Qt=Ee&8191,Ce=Ee>>>13,me=f[5]|0,ie=me&8191,ye=me>>>13,fe=f[6]|0,zt=fe&8191,_e=fe>>>13,pe=f[7]|0,Lt=pe&8191,be=pe>>>13,ve=f[8]|0,Xt=ve&8191,I=ve>>>13,p=f[9]|0,g=p&8191,$=p>>>13,q=d[0]|0,G=q&8191,it=q>>>13,Ut=d[1]|0,Tt=Ut&8191,qt=Ut>>>13,Yt=d[2]|0,St=Yt&8191,Be=Yt>>>13,ge=d[3]|0,Vt=ge&8191,F=ge>>>13,N=d[4]|0,T=N&8191,m=N>>>13,B=d[5]|0,H=B&8191,W=B>>>13,at=d[6]|0,L=at&8191,yt=at>>>13,Dt=d[7]|0,y=Dt&8191,M=Dt>>>13,A=d[8]|0,a=A&8191,D=A>>>13,j=d[9]|0,P=j&8191,z=j>>>13;s.negative=u.negative^l.negative,s.length=19,E=Math.imul(U,G),h=Math.imul(U,it),h=h+Math.imul(lt,G)|0,w=Math.imul(lt,it);var J=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(J>>>26)|0,J&=67108863,E=Math.imul(mt,G),h=Math.imul(mt,it),h=h+Math.imul(Wt,G)|0,w=Math.imul(Wt,it),E=E+Math.imul(U,Tt)|0,h=h+Math.imul(U,qt)|0,h=h+Math.imul(lt,Tt)|0,w=w+Math.imul(lt,qt)|0;var ot=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(ot>>>26)|0,ot&=67108863,E=Math.imul(jt,G),h=Math.imul(jt,it),h=h+Math.imul(ae,G)|0,w=Math.imul(ae,it),E=E+Math.imul(mt,Tt)|0,h=h+Math.imul(mt,qt)|0,h=h+Math.imul(Wt,Tt)|0,w=w+Math.imul(Wt,qt)|0,E=E+Math.imul(U,St)|0,h=h+Math.imul(U,Be)|0,h=h+Math.imul(lt,St)|0,w=w+Math.imul(lt,Be)|0;var dt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(dt>>>26)|0,dt&=67108863,E=Math.imul(Ft,G),h=Math.imul(Ft,it),h=h+Math.imul(ce,G)|0,w=Math.imul(ce,it),E=E+Math.imul(jt,Tt)|0,h=h+Math.imul(jt,qt)|0,h=h+Math.imul(ae,Tt)|0,w=w+Math.imul(ae,qt)|0,E=E+Math.imul(mt,St)|0,h=h+Math.imul(mt,Be)|0,h=h+Math.imul(Wt,St)|0,w=w+Math.imul(Wt,Be)|0,E=E+Math.imul(U,Vt)|0,h=h+Math.imul(U,F)|0,h=h+Math.imul(lt,Vt)|0,w=w+Math.imul(lt,F)|0;var It=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(It>>>26)|0,It&=67108863,E=Math.imul(Qt,G),h=Math.imul(Qt,it),h=h+Math.imul(Ce,G)|0,w=Math.imul(Ce,it),E=E+Math.imul(Ft,Tt)|0,h=h+Math.imul(Ft,qt)|0,h=h+Math.imul(ce,Tt)|0,w=w+Math.imul(ce,qt)|0,E=E+Math.imul(jt,St)|0,h=h+Math.imul(jt,Be)|0,h=h+Math.imul(ae,St)|0,w=w+Math.imul(ae,Be)|0,E=E+Math.imul(mt,Vt)|0,h=h+Math.imul(mt,F)|0,h=h+Math.imul(Wt,Vt)|0,w=w+Math.imul(Wt,F)|0,E=E+Math.imul(U,T)|0,h=h+Math.imul(U,m)|0,h=h+Math.imul(lt,T)|0,w=w+Math.imul(lt,m)|0;var ct=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,E=Math.imul(ie,G),h=Math.imul(ie,it),h=h+Math.imul(ye,G)|0,w=Math.imul(ye,it),E=E+Math.imul(Qt,Tt)|0,h=h+Math.imul(Qt,qt)|0,h=h+Math.imul(Ce,Tt)|0,w=w+Math.imul(Ce,qt)|0,E=E+Math.imul(Ft,St)|0,h=h+Math.imul(Ft,Be)|0,h=h+Math.imul(ce,St)|0,w=w+Math.imul(ce,Be)|0,E=E+Math.imul(jt,Vt)|0,h=h+Math.imul(jt,F)|0,h=h+Math.imul(ae,Vt)|0,w=w+Math.imul(ae,F)|0,E=E+Math.imul(mt,T)|0,h=h+Math.imul(mt,m)|0,h=h+Math.imul(Wt,T)|0,w=w+Math.imul(Wt,m)|0,E=E+Math.imul(U,H)|0,h=h+Math.imul(U,W)|0,h=h+Math.imul(lt,H)|0,w=w+Math.imul(lt,W)|0;var Q=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(Q>>>26)|0,Q&=67108863,E=Math.imul(zt,G),h=Math.imul(zt,it),h=h+Math.imul(_e,G)|0,w=Math.imul(_e,it),E=E+Math.imul(ie,Tt)|0,h=h+Math.imul(ie,qt)|0,h=h+Math.imul(ye,Tt)|0,w=w+Math.imul(ye,qt)|0,E=E+Math.imul(Qt,St)|0,h=h+Math.imul(Qt,Be)|0,h=h+Math.imul(Ce,St)|0,w=w+Math.imul(Ce,Be)|0,E=E+Math.imul(Ft,Vt)|0,h=h+Math.imul(Ft,F)|0,h=h+Math.imul(ce,Vt)|0,w=w+Math.imul(ce,F)|0,E=E+Math.imul(jt,T)|0,h=h+Math.imul(jt,m)|0,h=h+Math.imul(ae,T)|0,w=w+Math.imul(ae,m)|0,E=E+Math.imul(mt,H)|0,h=h+Math.imul(mt,W)|0,h=h+Math.imul(Wt,H)|0,w=w+Math.imul(Wt,W)|0,E=E+Math.imul(U,L)|0,h=h+Math.imul(U,yt)|0,h=h+Math.imul(lt,L)|0,w=w+Math.imul(lt,yt)|0;var et=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(et>>>26)|0,et&=67108863,E=Math.imul(Lt,G),h=Math.imul(Lt,it),h=h+Math.imul(be,G)|0,w=Math.imul(be,it),E=E+Math.imul(zt,Tt)|0,h=h+Math.imul(zt,qt)|0,h=h+Math.imul(_e,Tt)|0,w=w+Math.imul(_e,qt)|0,E=E+Math.imul(ie,St)|0,h=h+Math.imul(ie,Be)|0,h=h+Math.imul(ye,St)|0,w=w+Math.imul(ye,Be)|0,E=E+Math.imul(Qt,Vt)|0,h=h+Math.imul(Qt,F)|0,h=h+Math.imul(Ce,Vt)|0,w=w+Math.imul(Ce,F)|0,E=E+Math.imul(Ft,T)|0,h=h+Math.imul(Ft,m)|0,h=h+Math.imul(ce,T)|0,w=w+Math.imul(ce,m)|0,E=E+Math.imul(jt,H)|0,h=h+Math.imul(jt,W)|0,h=h+Math.imul(ae,H)|0,w=w+Math.imul(ae,W)|0,E=E+Math.imul(mt,L)|0,h=h+Math.imul(mt,yt)|0,h=h+Math.imul(Wt,L)|0,w=w+Math.imul(Wt,yt)|0,E=E+Math.imul(U,y)|0,h=h+Math.imul(U,M)|0,h=h+Math.imul(lt,y)|0,w=w+Math.imul(lt,M)|0;var vt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(vt>>>26)|0,vt&=67108863,E=Math.imul(Xt,G),h=Math.imul(Xt,it),h=h+Math.imul(I,G)|0,w=Math.imul(I,it),E=E+Math.imul(Lt,Tt)|0,h=h+Math.imul(Lt,qt)|0,h=h+Math.imul(be,Tt)|0,w=w+Math.imul(be,qt)|0,E=E+Math.imul(zt,St)|0,h=h+Math.imul(zt,Be)|0,h=h+Math.imul(_e,St)|0,w=w+Math.imul(_e,Be)|0,E=E+Math.imul(ie,Vt)|0,h=h+Math.imul(ie,F)|0,h=h+Math.imul(ye,Vt)|0,w=w+Math.imul(ye,F)|0,E=E+Math.imul(Qt,T)|0,h=h+Math.imul(Qt,m)|0,h=h+Math.imul(Ce,T)|0,w=w+Math.imul(Ce,m)|0,E=E+Math.imul(Ft,H)|0,h=h+Math.imul(Ft,W)|0,h=h+Math.imul(ce,H)|0,w=w+Math.imul(ce,W)|0,E=E+Math.imul(jt,L)|0,h=h+Math.imul(jt,yt)|0,h=h+Math.imul(ae,L)|0,w=w+Math.imul(ae,yt)|0,E=E+Math.imul(mt,y)|0,h=h+Math.imul(mt,M)|0,h=h+Math.imul(Wt,y)|0,w=w+Math.imul(Wt,M)|0,E=E+Math.imul(U,a)|0,h=h+Math.imul(U,D)|0,h=h+Math.imul(lt,a)|0,w=w+Math.imul(lt,D)|0;var ft=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(ft>>>26)|0,ft&=67108863,E=Math.imul(g,G),h=Math.imul(g,it),h=h+Math.imul($,G)|0,w=Math.imul($,it),E=E+Math.imul(Xt,Tt)|0,h=h+Math.imul(Xt,qt)|0,h=h+Math.imul(I,Tt)|0,w=w+Math.imul(I,qt)|0,E=E+Math.imul(Lt,St)|0,h=h+Math.imul(Lt,Be)|0,h=h+Math.imul(be,St)|0,w=w+Math.imul(be,Be)|0,E=E+Math.imul(zt,Vt)|0,h=h+Math.imul(zt,F)|0,h=h+Math.imul(_e,Vt)|0,w=w+Math.imul(_e,F)|0,E=E+Math.imul(ie,T)|0,h=h+Math.imul(ie,m)|0,h=h+Math.imul(ye,T)|0,w=w+Math.imul(ye,m)|0,E=E+Math.imul(Qt,H)|0,h=h+Math.imul(Qt,W)|0,h=h+Math.imul(Ce,H)|0,w=w+Math.imul(Ce,W)|0,E=E+Math.imul(Ft,L)|0,h=h+Math.imul(Ft,yt)|0,h=h+Math.imul(ce,L)|0,w=w+Math.imul(ce,yt)|0,E=E+Math.imul(jt,y)|0,h=h+Math.imul(jt,M)|0,h=h+Math.imul(ae,y)|0,w=w+Math.imul(ae,M)|0,E=E+Math.imul(mt,a)|0,h=h+Math.imul(mt,D)|0,h=h+Math.imul(Wt,a)|0,w=w+Math.imul(Wt,D)|0,E=E+Math.imul(U,P)|0,h=h+Math.imul(U,z)|0,h=h+Math.imul(lt,P)|0,w=w+Math.imul(lt,z)|0;var st=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(st>>>26)|0,st&=67108863,E=Math.imul(g,Tt),h=Math.imul(g,qt),h=h+Math.imul($,Tt)|0,w=Math.imul($,qt),E=E+Math.imul(Xt,St)|0,h=h+Math.imul(Xt,Be)|0,h=h+Math.imul(I,St)|0,w=w+Math.imul(I,Be)|0,E=E+Math.imul(Lt,Vt)|0,h=h+Math.imul(Lt,F)|0,h=h+Math.imul(be,Vt)|0,w=w+Math.imul(be,F)|0,E=E+Math.imul(zt,T)|0,h=h+Math.imul(zt,m)|0,h=h+Math.imul(_e,T)|0,w=w+Math.imul(_e,m)|0,E=E+Math.imul(ie,H)|0,h=h+Math.imul(ie,W)|0,h=h+Math.imul(ye,H)|0,w=w+Math.imul(ye,W)|0,E=E+Math.imul(Qt,L)|0,h=h+Math.imul(Qt,yt)|0,h=h+Math.imul(Ce,L)|0,w=w+Math.imul(Ce,yt)|0,E=E+Math.imul(Ft,y)|0,h=h+Math.imul(Ft,M)|0,h=h+Math.imul(ce,y)|0,w=w+Math.imul(ce,M)|0,E=E+Math.imul(jt,a)|0,h=h+Math.imul(jt,D)|0,h=h+Math.imul(ae,a)|0,w=w+Math.imul(ae,D)|0,E=E+Math.imul(mt,P)|0,h=h+Math.imul(mt,z)|0,h=h+Math.imul(Wt,P)|0,w=w+Math.imul(Wt,z)|0;var ut=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(ut>>>26)|0,ut&=67108863,E=Math.imul(g,St),h=Math.imul(g,Be),h=h+Math.imul($,St)|0,w=Math.imul($,Be),E=E+Math.imul(Xt,Vt)|0,h=h+Math.imul(Xt,F)|0,h=h+Math.imul(I,Vt)|0,w=w+Math.imul(I,F)|0,E=E+Math.imul(Lt,T)|0,h=h+Math.imul(Lt,m)|0,h=h+Math.imul(be,T)|0,w=w+Math.imul(be,m)|0,E=E+Math.imul(zt,H)|0,h=h+Math.imul(zt,W)|0,h=h+Math.imul(_e,H)|0,w=w+Math.imul(_e,W)|0,E=E+Math.imul(ie,L)|0,h=h+Math.imul(ie,yt)|0,h=h+Math.imul(ye,L)|0,w=w+Math.imul(ye,yt)|0,E=E+Math.imul(Qt,y)|0,h=h+Math.imul(Qt,M)|0,h=h+Math.imul(Ce,y)|0,w=w+Math.imul(Ce,M)|0,E=E+Math.imul(Ft,a)|0,h=h+Math.imul(Ft,D)|0,h=h+Math.imul(ce,a)|0,w=w+Math.imul(ce,D)|0,E=E+Math.imul(jt,P)|0,h=h+Math.imul(jt,z)|0,h=h+Math.imul(ae,P)|0,w=w+Math.imul(ae,z)|0;var Mt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,E=Math.imul(g,Vt),h=Math.imul(g,F),h=h+Math.imul($,Vt)|0,w=Math.imul($,F),E=E+Math.imul(Xt,T)|0,h=h+Math.imul(Xt,m)|0,h=h+Math.imul(I,T)|0,w=w+Math.imul(I,m)|0,E=E+Math.imul(Lt,H)|0,h=h+Math.imul(Lt,W)|0,h=h+Math.imul(be,H)|0,w=w+Math.imul(be,W)|0,E=E+Math.imul(zt,L)|0,h=h+Math.imul(zt,yt)|0,h=h+Math.imul(_e,L)|0,w=w+Math.imul(_e,yt)|0,E=E+Math.imul(ie,y)|0,h=h+Math.imul(ie,M)|0,h=h+Math.imul(ye,y)|0,w=w+Math.imul(ye,M)|0,E=E+Math.imul(Qt,a)|0,h=h+Math.imul(Qt,D)|0,h=h+Math.imul(Ce,a)|0,w=w+Math.imul(Ce,D)|0,E=E+Math.imul(Ft,P)|0,h=h+Math.imul(Ft,z)|0,h=h+Math.imul(ce,P)|0,w=w+Math.imul(ce,z)|0;var bt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,E=Math.imul(g,T),h=Math.imul(g,m),h=h+Math.imul($,T)|0,w=Math.imul($,m),E=E+Math.imul(Xt,H)|0,h=h+Math.imul(Xt,W)|0,h=h+Math.imul(I,H)|0,w=w+Math.imul(I,W)|0,E=E+Math.imul(Lt,L)|0,h=h+Math.imul(Lt,yt)|0,h=h+Math.imul(be,L)|0,w=w+Math.imul(be,yt)|0,E=E+Math.imul(zt,y)|0,h=h+Math.imul(zt,M)|0,h=h+Math.imul(_e,y)|0,w=w+Math.imul(_e,M)|0,E=E+Math.imul(ie,a)|0,h=h+Math.imul(ie,D)|0,h=h+Math.imul(ye,a)|0,w=w+Math.imul(ye,D)|0,E=E+Math.imul(Qt,P)|0,h=h+Math.imul(Qt,z)|0,h=h+Math.imul(Ce,P)|0,w=w+Math.imul(Ce,z)|0;var _t=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,E=Math.imul(g,H),h=Math.imul(g,W),h=h+Math.imul($,H)|0,w=Math.imul($,W),E=E+Math.imul(Xt,L)|0,h=h+Math.imul(Xt,yt)|0,h=h+Math.imul(I,L)|0,w=w+Math.imul(I,yt)|0,E=E+Math.imul(Lt,y)|0,h=h+Math.imul(Lt,M)|0,h=h+Math.imul(be,y)|0,w=w+Math.imul(be,M)|0,E=E+Math.imul(zt,a)|0,h=h+Math.imul(zt,D)|0,h=h+Math.imul(_e,a)|0,w=w+Math.imul(_e,D)|0,E=E+Math.imul(ie,P)|0,h=h+Math.imul(ie,z)|0,h=h+Math.imul(ye,P)|0,w=w+Math.imul(ye,z)|0;var xt=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,E=Math.imul(g,L),h=Math.imul(g,yt),h=h+Math.imul($,L)|0,w=Math.imul($,yt),E=E+Math.imul(Xt,y)|0,h=h+Math.imul(Xt,M)|0,h=h+Math.imul(I,y)|0,w=w+Math.imul(I,M)|0,E=E+Math.imul(Lt,a)|0,h=h+Math.imul(Lt,D)|0,h=h+Math.imul(be,a)|0,w=w+Math.imul(be,D)|0,E=E+Math.imul(zt,P)|0,h=h+Math.imul(zt,z)|0,h=h+Math.imul(_e,P)|0,w=w+Math.imul(_e,z)|0;var At=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(At>>>26)|0,At&=67108863,E=Math.imul(g,y),h=Math.imul(g,M),h=h+Math.imul($,y)|0,w=Math.imul($,M),E=E+Math.imul(Xt,a)|0,h=h+Math.imul(Xt,D)|0,h=h+Math.imul(I,a)|0,w=w+Math.imul(I,D)|0,E=E+Math.imul(Lt,P)|0,h=h+Math.imul(Lt,z)|0,h=h+Math.imul(be,P)|0,w=w+Math.imul(be,z)|0;var Ct=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,E=Math.imul(g,a),h=Math.imul(g,D),h=h+Math.imul($,a)|0,w=Math.imul($,D),E=E+Math.imul(Xt,P)|0,h=h+Math.imul(Xt,z)|0,h=h+Math.imul(I,P)|0,w=w+Math.imul(I,z)|0;var ht=(_+E|0)+((h&8191)<<13)|0;_=(w+(h>>>13)|0)+(ht>>>26)|0,ht&=67108863,E=Math.imul(g,P),h=Math.imul(g,z),h=h+Math.imul($,P)|0,w=Math.imul($,z);var Y=(_+E|0)+((h&8191)<<13)|0;return _=(w+(h>>>13)|0)+(Y>>>26)|0,Y&=67108863,b[0]=J,b[1]=ot,b[2]=dt,b[3]=It,b[4]=ct,b[5]=Q,b[6]=et,b[7]=vt,b[8]=ft,b[9]=st,b[10]=ut,b[11]=Mt,b[12]=bt,b[13]=_t,b[14]=xt,b[15]=At,b[16]=Ct,b[17]=ht,b[18]=Y,_!==0&&(b[19]=_,s.length++),s};Math.imul||(Et=Z);function Pt(S,u,l){l.negative=u.negative^S.negative,l.length=S.length+u.length;for(var s=0,f=0,d=0;d<l.length-1;d++){var b=f;f=0;for(var _=s&67108863,E=Math.min(d,u.length-1),h=Math.max(0,d-S.length+1);h<=E;h++){var w=d-h,v=S.words[w]|0,U=u.words[h]|0,lt=v*U,gt=lt&67108863;b=b+(lt/67108864|0)|0,gt=gt+_|0,_=gt&67108863,b=b+(gt>>>26)|0,f+=b>>>26,b&=67108863}l.words[d]=_,s=b,b=f}return s!==0?l.words[d]=s:l.length--,l.strip()}function wt(S,u,l){var s=new Nt;return s.mulp(S,u,l)}i.prototype.mulTo=function(u,l){var s,f=this.length+u.length;return this.length===10&&u.length===10?s=Et(this,u,l):f<63?s=Z(this,u,l):f<1024?s=Pt(this,u,l):s=wt(this,u,l),s};function Nt(S,u){this.x=S,this.y=u}Nt.prototype.makeRBT=function(u){for(var l=new Array(u),s=i.prototype._countBits(u)-1,f=0;f<u;f++)l[f]=this.revBin(f,s,u);return l},Nt.prototype.revBin=function(u,l,s){if(u===0||u===s-1)return u;for(var f=0,d=0;d<l;d++)f|=(u&1)<<l-d-1,u>>=1;return f},Nt.prototype.permute=function(u,l,s,f,d,b){for(var _=0;_<b;_++)f[_]=l[u[_]],d[_]=s[u[_]]},Nt.prototype.transform=function(u,l,s,f,d,b){this.permute(b,u,l,s,f,d);for(var _=1;_<d;_<<=1)for(var E=_<<1,h=Math.cos(2*Math.PI/E),w=Math.sin(2*Math.PI/E),v=0;v<d;v+=E)for(var U=h,lt=w,gt=0;gt<_;gt++){var mt=s[v+gt],Wt=f[v+gt],de=s[v+gt+_],jt=f[v+gt+_],ae=U*de-lt*jt;jt=U*jt+lt*de,de=ae,s[v+gt]=mt+de,f[v+gt]=Wt+jt,s[v+gt+_]=mt-de,f[v+gt+_]=Wt-jt,gt!==E&&(ae=h*U-w*lt,lt=h*lt+w*U,U=ae)}},Nt.prototype.guessLen13b=function(u,l){var s=Math.max(l,u)|1,f=s&1,d=0;for(s=s/2|0;s;s=s>>>1)d++;return 1<<d+1+f},Nt.prototype.conjugate=function(u,l,s){if(!(s<=1))for(var f=0;f<s/2;f++){var d=u[f];u[f]=u[s-f-1],u[s-f-1]=d,d=l[f],l[f]=-l[s-f-1],l[s-f-1]=-d}},Nt.prototype.normalize13b=function(u,l){for(var s=0,f=0;f<l/2;f++){var d=Math.round(u[2*f+1]/l)*8192+Math.round(u[2*f]/l)+s;u[f]=d&67108863,d<67108864?s=0:s=d/67108864|0}return u},Nt.prototype.convert13b=function(u,l,s,f){for(var d=0,b=0;b<l;b++)d=d+(u[b]|0),s[2*b]=d&8191,d=d>>>13,s[2*b+1]=d&8191,d=d>>>13;for(b=2*l;b<f;++b)s[b]=0;n(d===0),n((d&-8192)===0)},Nt.prototype.stub=function(u){for(var l=new Array(u),s=0;s<u;s++)l[s]=0;return l},Nt.prototype.mulp=function(u,l,s){var f=2*this.guessLen13b(u.length,l.length),d=this.makeRBT(f),b=this.stub(f),_=new Array(f),E=new Array(f),h=new Array(f),w=new Array(f),v=new Array(f),U=new Array(f),lt=s.words;lt.length=f,this.convert13b(u.words,u.length,_,f),this.convert13b(l.words,l.length,w,f),this.transform(_,b,E,h,f,d),this.transform(w,b,v,U,f,d);for(var gt=0;gt<f;gt++){var mt=E[gt]*v[gt]-h[gt]*U[gt];h[gt]=E[gt]*U[gt]+h[gt]*v[gt],E[gt]=mt}return this.conjugate(E,h,f),this.transform(E,h,lt,b,f,d),this.conjugate(lt,b,f),this.normalize13b(lt,f),s.negative=u.negative^l.negative,s.length=u.length+l.length,s.strip()},i.prototype.mul=function(u){var l=new i(null);return l.words=new Array(this.length+u.length),this.mulTo(u,l)},i.prototype.mulf=function(u){var l=new i(null);return l.words=new Array(this.length+u.length),wt(this,u,l)},i.prototype.imul=function(u){return this.clone().mulTo(u,this)},i.prototype.imuln=function(u){n(typeof u=="number"),n(u<67108864);for(var l=0,s=0;s<this.length;s++){var f=(this.words[s]|0)*u,d=(f&67108863)+(l&67108863);l>>=26,l+=f/67108864|0,l+=d>>>26,this.words[s]=d&67108863}return l!==0&&(this.words[s]=l,this.length++),this},i.prototype.muln=function(u){return this.clone().imuln(u)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(u){var l=V(u);if(l.length===0)return new i(1);for(var s=this,f=0;f<l.length&&l[f]===0;f++,s=s.sqr());if(++f<l.length)for(var d=s.sqr();f<l.length;f++,d=d.sqr())l[f]!==0&&(s=s.mul(d));return s},i.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var l=u%26,s=(u-l)/26,f=67108863>>>26-l<<26-l,d;if(l!==0){var b=0;for(d=0;d<this.length;d++){var _=this.words[d]&f,E=(this.words[d]|0)-_<<l;this.words[d]=E|b,b=_>>>26-l}b&&(this.words[d]=b,this.length++)}if(s!==0){for(d=this.length-1;d>=0;d--)this.words[d+s]=this.words[d];for(d=0;d<s;d++)this.words[d]=0;this.length+=s}return this.strip()},i.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},i.prototype.iushrn=function(u,l,s){n(typeof u=="number"&&u>=0);var f;l?f=(l-l%26)/26:f=0;var d=u%26,b=Math.min((u-d)/26,this.length),_=67108863^67108863>>>d<<d,E=s;if(f-=b,f=Math.max(0,f),E){for(var h=0;h<b;h++)E.words[h]=this.words[h];E.length=b}if(b!==0)if(this.length>b)for(this.length-=b,h=0;h<this.length;h++)this.words[h]=this.words[h+b];else this.words[0]=0,this.length=1;var w=0;for(h=this.length-1;h>=0&&(w!==0||h>=f);h--){var v=this.words[h]|0;this.words[h]=w<<26-d|v>>>d,w=v&_}return E&&w!==0&&(E.words[E.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(u,l,s){return n(this.negative===0),this.iushrn(u,l,s)},i.prototype.shln=function(u){return this.clone().ishln(u)},i.prototype.ushln=function(u){return this.clone().iushln(u)},i.prototype.shrn=function(u){return this.clone().ishrn(u)},i.prototype.ushrn=function(u){return this.clone().iushrn(u)},i.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var l=u%26,s=(u-l)/26,f=1<<l;if(this.length<=s)return!1;var d=this.words[s];return!!(d&f)},i.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var l=u%26,s=(u-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=s)return this;if(l!==0&&s++,this.length=Math.min(s,this.length),l!==0){var f=67108863^67108863>>>l<<l;this.words[this.length-1]&=f}return this.strip()},i.prototype.maskn=function(u){return this.clone().imaskn(u)},i.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},i.prototype._iaddn=function(u){this.words[0]+=u;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},i.prototype.addn=function(u){return this.clone().iaddn(u)},i.prototype.subn=function(u){return this.clone().isubn(u)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(u,l,s){var f=u.length+s,d;this._expand(f);var b,_=0;for(d=0;d<u.length;d++){b=(this.words[d+s]|0)+_;var E=(u.words[d]|0)*l;b-=E&67108863,_=(b>>26)-(E/67108864|0),this.words[d+s]=b&67108863}for(;d<this.length-s;d++)b=(this.words[d+s]|0)+_,_=b>>26,this.words[d+s]=b&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,d=0;d<this.length;d++)b=-(this.words[d]|0)+_,_=b>>26,this.words[d]=b&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(u,l){var s=this.length-u.length,f=this.clone(),d=u,b=d.words[d.length-1]|0,_=this._countBits(b);s=26-_,s!==0&&(d=d.ushln(s),f.iushln(s),b=d.words[d.length-1]|0);var E=f.length-d.length,h;if(l!=="mod"){h=new i(null),h.length=E+1,h.words=new Array(h.length);for(var w=0;w<h.length;w++)h.words[w]=0}var v=f.clone()._ishlnsubmul(d,1,E);v.negative===0&&(f=v,h&&(h.words[E]=1));for(var U=E-1;U>=0;U--){var lt=(f.words[d.length+U]|0)*67108864+(f.words[d.length+U-1]|0);for(lt=Math.min(lt/b|0,67108863),f._ishlnsubmul(d,lt,U);f.negative!==0;)lt--,f.negative=0,f._ishlnsubmul(d,1,U),f.isZero()||(f.negative^=1);h&&(h.words[U]=lt)}return h&&h.strip(),f.strip(),l!=="div"&&s!==0&&f.iushrn(s),{div:h||null,mod:f}},i.prototype.divmod=function(u,l,s){if(n(!u.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var f,d,b;return this.negative!==0&&u.negative===0?(b=this.neg().divmod(u,l),l!=="mod"&&(f=b.div.neg()),l!=="div"&&(d=b.mod.neg(),s&&d.negative!==0&&d.iadd(u)),{div:f,mod:d}):this.negative===0&&u.negative!==0?(b=this.divmod(u.neg(),l),l!=="mod"&&(f=b.div.neg()),{div:f,mod:b.mod}):(this.negative&u.negative)!==0?(b=this.neg().divmod(u.neg(),l),l!=="div"&&(d=b.mod.neg(),s&&d.negative!==0&&d.isub(u)),{div:b.div,mod:d}):u.length>this.length||this.cmp(u)<0?{div:new i(0),mod:this}:u.length===1?l==="div"?{div:this.divn(u.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new i(this.modn(u.words[0]))}:this._wordDiv(u,l)},i.prototype.div=function(u){return this.divmod(u,"div",!1).div},i.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},i.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},i.prototype.divRound=function(u){var l=this.divmod(u);if(l.mod.isZero())return l.div;var s=l.div.negative!==0?l.mod.isub(u):l.mod,f=u.ushrn(1),d=u.andln(1),b=s.cmp(f);return b<0||d===1&&b===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modn=function(u){n(u<=67108863);for(var l=(1<<26)%u,s=0,f=this.length-1;f>=0;f--)s=(l*s+(this.words[f]|0))%u;return s},i.prototype.idivn=function(u){n(u<=67108863);for(var l=0,s=this.length-1;s>=0;s--){var f=(this.words[s]|0)+l*67108864;this.words[s]=f/u|0,l=f%u}return this.strip()},i.prototype.divn=function(u){return this.clone().idivn(u)},i.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var l=this,s=u.clone();l.negative!==0?l=l.umod(u):l=l.clone();for(var f=new i(1),d=new i(0),b=new i(0),_=new i(1),E=0;l.isEven()&&s.isEven();)l.iushrn(1),s.iushrn(1),++E;for(var h=s.clone(),w=l.clone();!l.isZero();){for(var v=0,U=1;(l.words[0]&U)===0&&v<26;++v,U<<=1);if(v>0)for(l.iushrn(v);v-- >0;)(f.isOdd()||d.isOdd())&&(f.iadd(h),d.isub(w)),f.iushrn(1),d.iushrn(1);for(var lt=0,gt=1;(s.words[0]&gt)===0&&lt<26;++lt,gt<<=1);if(lt>0)for(s.iushrn(lt);lt-- >0;)(b.isOdd()||_.isOdd())&&(b.iadd(h),_.isub(w)),b.iushrn(1),_.iushrn(1);l.cmp(s)>=0?(l.isub(s),f.isub(b),d.isub(_)):(s.isub(l),b.isub(f),_.isub(d))}return{a:b,b:_,gcd:s.iushln(E)}},i.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var l=this,s=u.clone();l.negative!==0?l=l.umod(u):l=l.clone();for(var f=new i(1),d=new i(0),b=s.clone();l.cmpn(1)>0&&s.cmpn(1)>0;){for(var _=0,E=1;(l.words[0]&E)===0&&_<26;++_,E<<=1);if(_>0)for(l.iushrn(_);_-- >0;)f.isOdd()&&f.iadd(b),f.iushrn(1);for(var h=0,w=1;(s.words[0]&w)===0&&h<26;++h,w<<=1);if(h>0)for(s.iushrn(h);h-- >0;)d.isOdd()&&d.iadd(b),d.iushrn(1);l.cmp(s)>=0?(l.isub(s),f.isub(d)):(s.isub(l),d.isub(f))}var v;return l.cmpn(1)===0?v=f:v=d,v.cmpn(0)<0&&v.iadd(u),v},i.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var l=this.clone(),s=u.clone();l.negative=0,s.negative=0;for(var f=0;l.isEven()&&s.isEven();f++)l.iushrn(1),s.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;s.isEven();)s.iushrn(1);var d=l.cmp(s);if(d<0){var b=l;l=s,s=b}else if(d===0||s.cmpn(1)===0)break;l.isub(s)}while(!0);return s.iushln(f)},i.prototype.invm=function(u){return this.egcd(u).a.umod(u)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(u){return this.words[0]&u},i.prototype.bincn=function(u){n(typeof u=="number");var l=u%26,s=(u-l)/26,f=1<<l;if(this.length<=s)return this._expand(s+1),this.words[s]|=f,this;for(var d=f,b=s;d!==0&&b<this.length;b++){var _=this.words[b]|0;_+=d,d=_>>>26,_&=67108863,this.words[b]=_}return d!==0&&(this.words[b]=d,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(u){var l=u<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var s;if(this.length>1)s=1;else{l&&(u=-u),n(u<=67108863,"Number is too big");var f=this.words[0]|0;s=f===u?0:f<u?-1:1}return this.negative!==0?-s|0:s},i.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var l=this.ucmp(u);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var l=0,s=this.length-1;s>=0;s--){var f=this.words[s]|0,d=u.words[s]|0;if(f!==d){f<d?l=-1:f>d&&(l=1);break}}return l},i.prototype.gtn=function(u){return this.cmpn(u)===1},i.prototype.gt=function(u){return this.cmp(u)===1},i.prototype.gten=function(u){return this.cmpn(u)>=0},i.prototype.gte=function(u){return this.cmp(u)>=0},i.prototype.ltn=function(u){return this.cmpn(u)===-1},i.prototype.lt=function(u){return this.cmp(u)===-1},i.prototype.lten=function(u){return this.cmpn(u)<=0},i.prototype.lte=function(u){return this.cmp(u)<=0},i.prototype.eqn=function(u){return this.cmpn(u)===0},i.prototype.eq=function(u){return this.cmp(u)===0},i.red=function(u){return new Jt(u)},i.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(u){return this.red=u,this},i.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},i.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},i.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},i.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},i.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},i.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},i.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},i.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var Ot={k256:null,p224:null,p192:null,p25519:null};function se(S,u){this.name=S,this.p=new i(u,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}se.prototype._tmp=function(){var u=new i(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var l=u,s;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),s=l.bitLength();while(s>this.n);var f=s<this.n?-1:l.ucmp(this.p);return f===0?(l.words[0]=0,l.length=1):f>0?l.isub(this.p):l.strip(),l},se.prototype.split=function(u,l){u.iushrn(this.n,0,l)},se.prototype.imulK=function(u){return u.imul(this.k)};function oe(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(oe,se),oe.prototype.split=function(u,l){for(var s=4194303,f=Math.min(u.length,9),d=0;d<f;d++)l.words[d]=u.words[d];if(l.length=f,u.length<=9){u.words[0]=0,u.length=1;return}var b=u.words[9];for(l.words[l.length++]=b&s,d=10;d<u.length;d++){var _=u.words[d]|0;u.words[d-10]=(_&s)<<4|b>>>22,b=_}b>>>=22,u.words[d-10]=b,b===0&&u.length>10?u.length-=10:u.length-=9},oe.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var l=0,s=0;s<u.length;s++){var f=u.words[s]|0;l+=f*977,u.words[s]=l&67108863,l=f*64+(l/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Rt(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(Rt,se);function re(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(re,se);function ne(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ne,se),ne.prototype.imulK=function(u){for(var l=0,s=0;s<u.length;s++){var f=(u.words[s]|0)*19+l,d=f&67108863;f>>>=26,u.words[s]=d,l=f}return l!==0&&(u.words[u.length++]=l),u},i._prime=function(u){if(Ot[u])return Ot[u];var l;if(u==="k256")l=new oe;else if(u==="p224")l=new Rt;else if(u==="p192")l=new re;else if(u==="p25519")l=new ne;else throw new Error("Unknown prime "+u);return Ot[u]=l,l};function Jt(S){if(typeof S=="string"){var u=i._prime(S);this.m=u.p,this.prime=u}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Jt.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},Jt.prototype._verify2=function(u,l){n((u.negative|l.negative)===0,"red works only with positives"),n(u.red&&u.red===l.red,"red works only with red numbers")},Jt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},Jt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Jt.prototype.add=function(u,l){this._verify2(u,l);var s=u.add(l);return s.cmp(this.m)>=0&&s.isub(this.m),s._forceRed(this)},Jt.prototype.iadd=function(u,l){this._verify2(u,l);var s=u.iadd(l);return s.cmp(this.m)>=0&&s.isub(this.m),s},Jt.prototype.sub=function(u,l){this._verify2(u,l);var s=u.sub(l);return s.cmpn(0)<0&&s.iadd(this.m),s._forceRed(this)},Jt.prototype.isub=function(u,l){this._verify2(u,l);var s=u.isub(l);return s.cmpn(0)<0&&s.iadd(this.m),s},Jt.prototype.shl=function(u,l){return this._verify1(u),this.imod(u.ushln(l))},Jt.prototype.imul=function(u,l){return this._verify2(u,l),this.imod(u.imul(l))},Jt.prototype.mul=function(u,l){return this._verify2(u,l),this.imod(u.mul(l))},Jt.prototype.isqr=function(u){return this.imul(u,u.clone())},Jt.prototype.sqr=function(u){return this.mul(u,u)},Jt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var s=this.m.add(new i(1)).iushrn(2);return this.pow(u,s)}for(var f=this.m.subn(1),d=0;!f.isZero()&&f.andln(1)===0;)d++,f.iushrn(1);n(!f.isZero());var b=new i(1).toRed(this),_=b.redNeg(),E=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,E).cmp(_)!==0;)h.redIAdd(_);for(var w=this.pow(h,f),v=this.pow(u,f.addn(1).iushrn(1)),U=this.pow(u,f),lt=d;U.cmp(b)!==0;){for(var gt=U,mt=0;gt.cmp(b)!==0;mt++)gt=gt.redSqr();n(mt<lt);var Wt=this.pow(w,new i(1).iushln(lt-mt-1));v=v.redMul(Wt),w=Wt.redSqr(),U=U.redMul(w),lt=mt}return v},Jt.prototype.invm=function(u){var l=u._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},Jt.prototype.pow=function(u,l){if(l.isZero())return new i(1);if(l.cmpn(1)===0)return u.clone();var s=4,f=new Array(1<<s);f[0]=new i(1).toRed(this),f[1]=u;for(var d=2;d<f.length;d++)f[d]=this.mul(f[d-1],u);var b=f[0],_=0,E=0,h=l.bitLength()%26;for(h===0&&(h=26),d=l.length-1;d>=0;d--){for(var w=l.words[d],v=h-1;v>=0;v--){var U=w>>v&1;if(b!==f[0]&&(b=this.sqr(b)),U===0&&_===0){E=0;continue}_<<=1,_|=U,E++,!(E!==s&&(d!==0||v!==0))&&(b=this.mul(b,f[_]),E=0,_=0)}h=26}return b},Jt.prototype.convertTo=function(u){var l=u.umod(this.m);return l===u?l.clone():l},Jt.prototype.convertFrom=function(u){var l=u.clone();return l.red=null,l},i.mont=function(u){return new Ae(u)};function Ae(S){Jt.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(Ae,Jt),Ae.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Ae.prototype.convertFrom=function(u){var l=this.imod(u.mul(this.rinv));return l.red=null,l},Ae.prototype.imul=function(u,l){if(u.isZero()||l.isZero())return u.words[0]=0,u.length=1,u;var s=u.imul(l),f=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=s.isub(f).iushrn(this.shift),b=d;return d.cmp(this.m)>=0?b=d.isub(this.m):d.cmpn(0)<0&&(b=d.iadd(this.m)),b._forceRed(this)},Ae.prototype.mul=function(u,l){if(u.isZero()||l.isZero())return new i(0)._forceRed(this);var s=u.mul(l),f=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=s.isub(f).iushrn(this.shift),b=d;return d.cmp(this.m)>=0?b=d.isub(this.m):d.cmpn(0)<0&&(b=d.iadd(this.m)),b._forceRed(this)},Ae.prototype.invm=function(u){var l=this.imod(u._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(r,Na)})(Fo);var zu=function(t){if(typeof t!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.slice(0,2)==="0x"},Zu=zu,Ju=function(t){return typeof t!="string"?t:Zu(t)?t.slice(2):t},cn=Fo.exports,hs=Ju,Qu=function(t){if(typeof t=="string"||typeof t=="number"){var e=new cn(1),n=String(t).toLowerCase().trim(),o=n.substr(0,2)==="0x"||n.substr(0,3)==="-0x",i=hs(n);if(i.substr(0,1)==="-"&&(i=hs(i.slice(1)),e=new cn(-1,10)),i=i===""?"0":i,!i.match(/^-?[0-9]+$/)&&i.match(/^[0-9A-Fa-f]+$/)||i.match(/^[a-fA-F]+$/)||o===!0&&i.match(/^[0-9A-Fa-f]+$/))return new cn(i,16).mul(e);if((i.match(/^-?[0-9]+$/)||i==="")&&o===!1)return new cn(i,10).mul(e)}else if(typeof t=="object"&&t.toString&&!t.pop&&!t.push&&t.toString(10).match(/^-?[0-9]+$/)&&(t.mul||t.dividedToIntegerBy))return new cn(t.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(t)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")},Yr=Fo.exports,tl=Qu,el=new Yr(0),r0=new Yr(-1),Tn={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function So(r){var t=r?r.toLowerCase():"ether",e=Tn[t];if(typeof e!="string")throw new Error("[ethjs-unit] the unit provided "+r+" doesn't exists, please use the one of the following units "+JSON.stringify(Tn,null,2));return new Yr(e,10)}function n0(r){if(typeof r=="string"){if(!r.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+r+"', should be a number matching (^-?[0-9.]+).");return r}else{if(typeof r=="number")return String(r);if(typeof r=="object"&&r.toString&&(r.toTwos||r.dividedToIntegerBy))return r.toPrecision?String(r.toPrecision()):r.toString(10)}throw new Error("while converting number to string, invalid number value '"+r+"' type "+typeof r+".")}function rl(r,t,e){var n=tl(r),o=n.lt(el),i=So(t),c=Tn[t].length-1||1,x=e||{};o&&(n=n.mul(r0));for(var C=n.mod(i).toString(10);C.length<c;)C="0"+C;x.pad||(C=C.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var k=n.div(i).toString(10);x.commify&&(k=k.replace(/\B(?=(\d{3})+(?!\d))/g,","));var R=""+k+(C=="0"?"":"."+C);return o&&(R="-"+R),R}function nl(r,t){var e=n0(r),n=So(t),o=Tn[t].length-1||1,i=e.substring(0,1)==="-";if(i&&(e=e.substring(1)),e===".")throw new Error("[ethjs-unit] while converting number "+r+" to wei, invalid value");var c=e.split(".");if(c.length>2)throw new Error("[ethjs-unit] while converting number "+r+" to wei,  too many decimal points");var x=c[0],C=c[1];if(x||(x="0"),C||(C="0"),C.length>o)throw new Error("[ethjs-unit] while converting number "+r+" to wei, too many decimal places");for(;C.length<o;)C+="0";x=new Yr(x),C=new Yr(C);var k=x.mul(n).add(C);return i&&(k=k.mul(r0)),new Yr(k.toString(10),10)}var il={unitMap:Tn,numberToString:n0,getValueOfUnit:So,fromWei:rl,toWei:nl};/**
 * @file Web Cryptography API shim
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */(function(r,t){typeof define=="function"&&define.amd?define([],function(){return t(r)}):typeof li=="object"&&li.exports?li.exports=t(r):t(r)})(typeof self!="undefined"?self:globalThis,function(r){if(typeof Promise!="function")throw"Promise support required";var t=r.crypto||r.msCrypto;if(!t)return;var e=t.subtle||t.webkitSubtle;if(!e)return;var n=r.Crypto||t.constructor||Object,o=r.SubtleCrypto||e.constructor||Object;r.CryptoKey||r.Key;var i=r.navigator.userAgent.indexOf("Edge/")>-1,c=!!r.msCrypto&&!i,x=!t.subtle&&!!t.webkitSubtle;if(!c&&!x)return;function C(S){return btoa(S).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function k(S){return S+="===",S=S.slice(0,-S.length%4),atob(S.replace(/-/g,"+").replace(/_/g,"/"))}function R(S){for(var u=new Uint8Array(S.length),l=0;l<S.length;l++)u[l]=S.charCodeAt(l);return u}function K(S){return S instanceof ArrayBuffer&&(S=new Uint8Array(S)),String.fromCharCode.apply(String,S)}function V(S){var u={name:(S.name||S||"").toUpperCase().replace("V","v")};switch(u.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":S.length&&(u.length=S.length);break;case"HMAC":S.hash&&(u.hash=V(S.hash)),S.length&&(u.length=S.length);break;case"RSAES-PKCS1-v1_5":S.publicExponent&&(u.publicExponent=new Uint8Array(S.publicExponent)),S.modulusLength&&(u.modulusLength=S.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":S.hash&&(u.hash=V(S.hash)),S.publicExponent&&(u.publicExponent=new Uint8Array(S.publicExponent)),S.modulusLength&&(u.modulusLength=S.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return u}function Z(S){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{"128":"A128KW","192":"A192KW","256":"A256KW"},"AES-GCM":{"128":"A128GCM","192":"A192GCM","256":"A256GCM"},"AES-CBC":{"128":"A128CBC","192":"A192CBC","256":"A256CBC"}}[S.name][(S.hash||{}).name||S.length||""]}function Et(S){(S instanceof ArrayBuffer||S instanceof Uint8Array)&&(S=JSON.parse(decodeURIComponent(escape(K(S)))));var u={kty:S.kty,alg:S.alg,ext:S.ext||S.extractable};switch(u.kty){case"oct":u.k=S.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(l){l in S&&(u[l]=S[l])});break;default:throw new TypeError("Unsupported key type")}return u}function Pt(S){var u=Et(S);return c&&(u.extractable=u.ext,delete u.ext),R(unescape(encodeURIComponent(JSON.stringify(u)))).buffer}function wt(S){var u=oe(S),l=!1;u.length>2&&(l=!0,u.shift());var s={ext:!0};switch(u[0][0]){case"1.2.840.113549.1.1.1":var f=["n","e","d","p","q","dp","dq","qi"],d=oe(u[1]);l&&d.shift();for(var b=0;b<d.length;b++)d[b][0]||(d[b]=d[b].subarray(1)),s[f[b]]=C(K(d[b]));s.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return s}function Nt(S){var u,l=[["",null]],s=!1;switch(S.kty){case"RSA":for(var f=["n","e","d","p","q","dp","dq","qi"],d=[],b=0;b<f.length&&f[b]in S;b++){var _=d[b]=R(k(S[f[b]]));_[0]&128&&(d[b]=new Uint8Array(_.length+1),d[b].set(_,1))}d.length>2&&(s=!0,d.unshift(new Uint8Array([0]))),l[0][0]="1.2.840.113549.1.1.1",u=d;break;default:throw new TypeError("Unsupported key type")}return l.push(new Uint8Array(Rt(u)).buffer),s?l.unshift(new Uint8Array([0])):l[1]={tag:3,value:l[1]},new Uint8Array(Rt(l)).buffer}var Ot={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},se={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};function oe(S,u){if(S instanceof ArrayBuffer&&(S=new Uint8Array(S)),u||(u={pos:0,end:S.length}),u.end-u.pos<2||u.end>S.length)throw new RangeError("Malformed DER");var l=S[u.pos++],s=S[u.pos++];if(s>=128){if(s&=127,u.end-u.pos<s)throw new RangeError("Malformed DER");for(var f=0;s--;)f<<=8,f|=S[u.pos++];s=f}if(u.end-u.pos<s)throw new RangeError("Malformed DER");var d;switch(l){case 2:d=S.subarray(u.pos,u.pos+=s);break;case 3:if(S[u.pos++])throw new Error("Unsupported bit string");s--;case 4:d=new Uint8Array(S.subarray(u.pos,u.pos+=s)).buffer;break;case 5:d=null;break;case 6:var b=btoa(K(S.subarray(u.pos,u.pos+=s)));if(!(b in Ot))throw new Error("Unsupported OBJECT ID "+b);d=Ot[b];break;case 48:d=[];for(var _=u.pos+s;u.pos<_;)d.push(oe(S,u));break;default:throw new Error("Unsupported DER tag 0x"+l.toString(16))}return d}function Rt(S,u){u||(u=[]);var l=0,s=0,f=u.length+2;if(u.push(0,0),S instanceof Uint8Array){l=2,s=S.length;for(var d=0;d<s;d++)u.push(S[d])}else if(S instanceof ArrayBuffer){l=4,s=S.byteLength,S=new Uint8Array(S);for(var d=0;d<s;d++)u.push(S[d])}else if(S===null)l=5,s=0;else if(typeof S=="string"&&S in se){var b=R(atob(se[S]));l=6,s=b.length;for(var d=0;d<s;d++)u.push(b[d])}else if(S instanceof Array){for(var d=0;d<S.length;d++)Rt(S[d],u);l=48,s=u.length-f}else if(typeof S=="object"&&S.tag===3&&S.value instanceof ArrayBuffer){S=new Uint8Array(S.value),l=3,s=S.byteLength,u.push(0);for(var d=0;d<s;d++)u.push(S[d]);s++}else throw new Error("Unsupported DER value "+S);if(s>=128){var _=s,s=4;for(u.splice(f,0,_>>24&255,_>>16&255,_>>8&255,_&255);s>1&&!(_>>24);)_<<=8,s--;s<4&&u.splice(f,4-s),s|=128}return u.splice(f-2,2,l,s),u}function re(S,u,l,s){Object.defineProperties(this,{_key:{value:S},type:{value:S.type,enumerable:!0},extractable:{value:l===void 0?S.extractable:l,enumerable:!0},algorithm:{value:u===void 0?S.algorithm:u,enumerable:!0},usages:{value:s===void 0?S.usages:s,enumerable:!0}})}function ne(S){return S==="verify"||S==="encrypt"||S==="wrapKey"}function Jt(S){return S==="sign"||S==="decrypt"||S==="unwrapKey"}if(["generateKey","importKey","unwrapKey"].forEach(function(S){var u=e[S];e[S]=function(l,s,f){var d=[].slice.call(arguments),b,_,E;switch(S){case"generateKey":b=V(l),_=s,E=f;break;case"importKey":b=V(f),_=d[3],E=d[4],l==="jwk"&&(s=Et(s),s.alg||(s.alg=Z(b)),s.key_ops||(s.key_ops=s.kty!=="oct"?"d"in s?E.filter(Jt):E.filter(ne):E.slice()),d[1]=Pt(s));break;case"unwrapKey":b=d[4],_=d[5],E=d[6],d[2]=f._key;break}if(S==="generateKey"&&b.name==="HMAC"&&b.hash)return b.length=b.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[b.hash.name],e.importKey("raw",t.getRandomValues(new Uint8Array(b.length+7>>3)),b,_,E);if(x&&S==="generateKey"&&b.name==="RSASSA-PKCS1-v1_5"&&(!b.modulusLength||b.modulusLength>=2048))return l=V(l),l.name="RSAES-PKCS1-v1_5",delete l.hash,e.generateKey(l,!0,["encrypt","decrypt"]).then(function(w){return Promise.all([e.exportKey("jwk",w.publicKey),e.exportKey("jwk",w.privateKey)])}).then(function(w){return w[0].alg=w[1].alg=Z(b),w[0].key_ops=E.filter(ne),w[1].key_ops=E.filter(Jt),Promise.all([e.importKey("jwk",w[0],b,!0,w[0].key_ops),e.importKey("jwk",w[1],b,_,w[1].key_ops)])}).then(function(w){return{publicKey:w[0],privateKey:w[1]}});if((x||c&&(b.hash||{}).name==="SHA-1")&&S==="importKey"&&l==="jwk"&&b.name==="HMAC"&&s.kty==="oct")return e.importKey("raw",R(k(s.k)),f,d[3],d[4]);if(x&&S==="importKey"&&(l==="spki"||l==="pkcs8"))return e.importKey("jwk",wt(s),f,d[3],d[4]);if(c&&S==="unwrapKey")return e.decrypt(d[3],f,s).then(function(w){return e.importKey(l,w,d[4],d[5],d[6])});var h;try{h=u.apply(e,d)}catch(w){return Promise.reject(w)}return c&&(h=new Promise(function(w,v){h.onabort=h.onerror=function(U){v(U)},h.oncomplete=function(U){w(U.target.result)}})),h=h.then(function(w){return b.name==="HMAC"&&(b.length||(b.length=8*w.algorithm.length)),b.name.search("RSA")==0&&(b.modulusLength||(b.modulusLength=(w.publicKey||w).algorithm.modulusLength),b.publicExponent||(b.publicExponent=(w.publicKey||w).algorithm.publicExponent)),w.publicKey&&w.privateKey?w={publicKey:new re(w.publicKey,b,_,E.filter(ne)),privateKey:new re(w.privateKey,b,_,E.filter(Jt))}:w=new re(w,b,_,E),w}),h}}),["exportKey","wrapKey"].forEach(function(S){var u=e[S];e[S]=function(l,s,f){var d=[].slice.call(arguments);switch(S){case"exportKey":d[1]=s._key;break;case"wrapKey":d[1]=s._key,d[2]=f._key;break}if((x||c&&(s.algorithm.hash||{}).name==="SHA-1")&&S==="exportKey"&&l==="jwk"&&s.algorithm.name==="HMAC"&&(d[0]="raw"),x&&S==="exportKey"&&(l==="spki"||l==="pkcs8")&&(d[0]="jwk"),c&&S==="wrapKey")return e.exportKey(l,s).then(function(_){return l==="jwk"&&(_=R(unescape(encodeURIComponent(JSON.stringify(Et(_)))))),e.encrypt(d[3],f,_)});var b;try{b=u.apply(e,d)}catch(_){return Promise.reject(_)}return c&&(b=new Promise(function(_,E){b.onabort=b.onerror=function(h){E(h)},b.oncomplete=function(h){_(h.target.result)}})),S==="exportKey"&&l==="jwk"&&(b=b.then(function(_){return(x||c&&(s.algorithm.hash||{}).name==="SHA-1")&&s.algorithm.name==="HMAC"?{kty:"oct",alg:Z(s.algorithm),key_ops:s.usages.slice(),ext:!0,k:C(K(_))}:(_=Et(_),_.alg||(_.alg=Z(s.algorithm)),_.key_ops||(_.key_ops=s.type==="public"?s.usages.filter(ne):s.type==="private"?s.usages.filter(Jt):s.usages.slice()),_)})),x&&S==="exportKey"&&(l==="spki"||l==="pkcs8")&&(b=b.then(function(_){return _=Nt(Et(_)),_})),b}}),["encrypt","decrypt","sign","verify"].forEach(function(S){var u=e[S];e[S]=function(l,s,f,d){if(c&&(!f.byteLength||d&&!d.byteLength))throw new Error("Empy input is not allowed");var b=[].slice.call(arguments),_=V(l);if(c&&S==="decrypt"&&_.name==="AES-GCM"){var E=l.tagLength>>3;b[2]=(f.buffer||f).slice(0,f.byteLength-E),l.tag=(f.buffer||f).slice(f.byteLength-E)}b[1]=s._key;var h;try{h=u.apply(e,b)}catch(w){return Promise.reject(w)}return c&&(h=new Promise(function(w,v){h.onabort=h.onerror=function(U){v(U)},h.oncomplete=function(lt){var lt=lt.target.result;if(S==="encrypt"&&lt instanceof AesGcmEncryptResult){var gt=lt.ciphertext,mt=lt.tag;lt=new Uint8Array(gt.byteLength+mt.byteLength),lt.set(new Uint8Array(gt),0),lt.set(new Uint8Array(mt),gt.byteLength),lt=lt.buffer}w(lt)}})),h}}),c){var Ae=e.digest;e.digest=function(S,u){if(!u.byteLength)throw new Error("Empy input is not allowed");var l;try{l=Ae.call(e,S,u)}catch(s){return Promise.reject(s)}return l=new Promise(function(s,f){l.onabort=l.onerror=function(d){f(d)},l.oncomplete=function(d){s(d.target.result)}}),l},r.crypto=Object.create(t,{getRandomValues:{value:function(S){return t.getRandomValues(S)}},subtle:{value:e}}),r.CryptoKey=re}x&&(t.subtle=e,r.Crypto=n,r.SubtleCrypto=o,r.CryptoKey=re)});var ol=window.crypto,sl=Object.freeze(Object.defineProperty({__proto__:null,default:ol},Symbol.toStringTag,{value:"Module"})),al=Cr(sl);const fl=Qa.exports,ul=t0.exports,i0=il,o0=typeof self!="undefined"&&self.crypto&&self.crypto.subtle;let s0=null;o0||(s0=al);function ll(r){return o0?crypto.subtle.digest("SHA-256",r):s0.subtle.digest({name:"SHA-256"},r)}function cl(r){return i0.toWei(r,"gwei")}function hl(r){return i0.fromWei(r,"gwei")}const a0=[],no={};for(let r=0;r<=255;r++){let t=r.toString(16);t.length<2&&(t="0"+t),a0.push(t),no[t]=r}function dl(r){const t=[];for(let e=0;e<r.byteLength;e++)t.push(a0[r[e]]);return t.join("")}function pl(r){r=r.toLowerCase();const t=r.length;if(t%2!==0)throw"hex string must have length a multiple of 2";const e=t/2,n=new Uint8Array(e);for(let o=0;o<e;o++){const i=o*2,c=r.substring(i,i+2);if(!no.hasOwnProperty(c))throw new Error("invalid hex character "+c);n[o]=no[c]}return n}function vl(r,t=1){let e,n;t===1&&(e=new ArrayBuffer(r.length),n=new Uint8Array(e)),t===2&&(e=new ArrayBuffer(r.length*2),n=new Uint16Array(e)),t===4&&(e=new ArrayBuffer(r.length*4),n=new Uint32Array(e));for(let o=0,i=r.length;o<i;o++)n[o]=r.charCodeAt(o);return new Uint8Array(n.buffer)}function ml(r,t){r^=4294967295;for(let n=0;n<t.length;n++)r^=t[n],r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1,r=r&1?r>>>1^2197175160:r>>>1;return r^4294967295}function yl(r){const t=ml(0,r),e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e).reverse()}function gl(r){let e=0;const n=new Uint8Array(r.length+2);n.set(r);for(let o of n){let i=128;for(;i>0;)e<<=1,o&i&&(e+=1),i>>=1,e>65535&&(e&=65535,e^=4129)}return new Uint8Array([Math.floor(e/256),e%256])}function wl(r,t){const e=new Uint8Array(r.length+t.length);return e.set(r),e.set(t,r.length),e}function bl(r,t){return r.toString()===t.toString()}const wr=(()=>{const r=[],t="A".charCodeAt(0),e="a".charCodeAt(0),n="0".charCodeAt(0);for(let o=0;o<26;++o)r.push(String.fromCharCode(t+o));for(let o=0;o<26;++o)r.push(String.fromCharCode(e+o));for(let o=0;o<10;++o)r.push(String.fromCharCode(n+o));return r.push("+"),r.push("/"),r})();function xl(r){let t="",e;const n=r.length;for(e=2;e<n;e+=3)t+=wr[r[e-2]>>2],t+=wr[(r[e-2]&3)<<4|r[e-1]>>4],t+=wr[(r[e-1]&15)<<2|r[e]>>6],t+=wr[r[e]&63];return e===n+1&&(t+=wr[r[e-2]>>2],t+=wr[(r[e-2]&3)<<4],t+="=="),e===n&&(t+=wr[r[e-2]>>2],t+=wr[(r[e-2]&3)<<4|r[e-1]>>4],t+=wr[(r[e-1]&15)<<2],t+="="),t}function f0(r){return typeof self=="undefined"?Buffer.from(r,"base64").toString("binary"):atob(r)}function El(r){return typeof self=="undefined"?Buffer.from(r,"binary").toString("base64"):btoa(r)}function _l(r){const t=f0(r),e=t.length,n=new Uint8Array(e);for(let o=0;o<e;o++)n[o]=t.charCodeAt(o);return n}function Al(r,t){let e=0;for(let n=0;n<r;n++)e*=256,e+=t[n];return e}var u0={BN:fl,nacl:ul,sha256:ll,fromNano:hl,toNano:cl,bytesToHex:dl,hexToBytes:pl,stringToBytes:vl,crc32c:yl,crc16:gl,concatBytes:wl,bytesToBase64:xl,base64ToBytes:_l,base64toString:f0,stringToBase64:El,compareBytes:bl,readNBytesUIntFromArray:Al},l0={};const{crc16:c0,hexToBytes:Cl,bytesToHex:Bl,stringToBytes:Ml,base64toString:Fl,stringToBase64:Sl}=u0,io=17,h0=81,oo=128;function Dl(r){if(r.length!==48)throw new Error("User-friendly address should contain strictly 48 characters");const t=Ml(Fl(r));if(t.length!==36)throw"Unknown address type: byte length is not equal to 36";const e=t.slice(0,34),n=t.slice(34,36),o=c0(e);if(!(o[0]===n[0]&&o[1]===n[1]))throw"Wrong crc16 hashsum";let i=e[0],c=!1,x=!1;if(i&oo&&(c=!0,i=i^oo),i!==io&&i!==h0)throw"Unknown address tag";x=i===io;let C=null;if(e[1]===255?C=-1:C=e[1],C!==0&&C!==-1)throw new Error("Invalid address wc "+C);const k=e.slice(2,34);return{isTestOnly:c,isBounceable:x,workchain:C,hashPart:k}}class pi{static isValid(t){try{return new pi(t),!0}catch{return!1}}constructor(t){if(t==null)throw"Invalid address";if(t instanceof pi){this.wc=t.wc,this.hashPart=t.hashPart,this.isTestOnly=t.isTestOnly,this.isUserFriendly=t.isUserFriendly,this.isBounceable=t.isBounceable,this.isUrlSafe=t.isUrlSafe;return}if(t.search(/\-/)>0||t.search(/_/)>0?(this.isUrlSafe=!0,t=t.replace(/\-/g,"+").replace(/_/g,"/")):this.isUrlSafe=!1,t.indexOf(":")>-1){const e=t.split(":");if(e.length!==2)throw new Error("Invalid address "+t);const n=parseInt(e[0]);if(n!==0&&n!==-1)throw new Error("Invalid address wc "+t);const o=e[1];if(o.length!==64)throw new Error("Invalid address hex "+t);this.isUserFriendly=!1,this.wc=n,this.hashPart=Cl(o),this.isTestOnly=!1,this.isBounceable=!1}else{this.isUserFriendly=!0;const e=Dl(t);this.wc=e.workchain,this.hashPart=e.hashPart,this.isTestOnly=e.isTestOnly,this.isBounceable=e.isBounceable}}toString(t,e,n,o){if(t===void 0&&(t=this.isUserFriendly),e===void 0&&(e=this.isUrlSafe),n===void 0&&(n=this.isBounceable),o===void 0&&(o=this.isTestOnly),t){let i=n?io:h0;o&&(i|=oo);const c=new Int8Array(34);c[0]=i,c[1]=this.wc,c.set(this.hashPart,2);const x=new Uint8Array(36);x.set(c),x.set(c0(c),34);let C=Sl(String.fromCharCode.apply(null,new Uint8Array(x)));return e&&(C=C.replace(/\+/g,"-").replace(/\//g,"_")),C}else return this.wc+":"+Bl(this.hashPart)}}l0.default=pi;const{BN:d0,nacl:Il,sha256:Tl,fromNano:Nl,toNano:Rl,bytesToHex:Ul,hexToBytes:$l,stringToBytes:kl,crc32c:Ol,crc16:Ll,concatBytes:Pl,bytesToBase64:jl,base64ToBytes:Hl,base64toString:ql,stringToBase64:Wl,compareBytes:Vl,readNBytesUIntFromArray:Kl}=u0,p0=l0.default;function Gl(r){const t="ton://transfer/";if(!r.startsWith(t))throw new Error("must starts with "+t);const e=r.substring(t.length).split("?");if(e.length>2)throw new Error('multiple "?"');const n=e[0];if(!p0.isValid(n))throw new Error("invalid address format "+n);const o={address:n},i=e[1];if(i&&i.length){const c=i.split("&").map(x=>x.split("="));for(const x of c){if(x.length!==2)throw new Error("invalid url pair");const C=x[0],k=x[1];if(C==="amount"){if(o.amount)throw new Error("amount already set");if(new d0(k).isNeg())throw new Error("negative amount");o.amount=k}else if(C==="text"){if(o.text)throw new Error("text already set");o.text=decodeURIComponent(k)}else throw new Error("unknown url var "+C)}}return o}function Yl(r,t,e){let n="ton://transfer/"+r;const o=[];return t&&o.push("amount="+t),e&&o.push("text="+encodeURIComponent(e)),o.length===0?n:n+"?"+o.join("&")}var Je={Address:p0,BN:d0,nacl:Il,sha256:Tl,fromNano:Nl,toNano:Rl,bytesToHex:Ul,hexToBytes:$l,stringToBytes:kl,crc32c:Ol,crc16:Ll,concatBytes:Pl,bytesToBase64:jl,base64ToBytes:Hl,base64toString:ql,stringToBase64:Wl,compareBytes:Vl,readNBytesUIntFromArray:Kl,parseTransferUrl:Gl,formatTransferUrl:Yl};const{BN:hn,bytesToHex:Xl}=Je;class Do{constructor(t){this.array=Uint8Array.from({length:Math.ceil(t/8)},()=>0),this.cursor=0,this.length=t}getFreeBits(){return this.length-this.cursor}getUsedBits(){return this.cursor}getUsedBytes(){return Math.ceil(this.cursor/8)}get(t){return(this.array[t/8|0]&1<<7-t%8)>0}checkRange(t){if(t>this.length)throw Error("BitString overflow")}on(t){this.checkRange(t),this.array[t/8|0]|=1<<7-t%8}off(t){this.checkRange(t),this.array[t/8|0]&=~(1<<7-t%8)}toggle(t){this.checkRange(t),this.array[t/8|0]^=1<<7-t%8}forEach(t){const e=this.cursor;for(let n=0;n<e;n++)t(this.get(n))}writeBit(t){t&&t>0?this.on(this.cursor):this.off(this.cursor),this.cursor=this.cursor+1}writeBitArray(t){for(let e=0;e<t.length;e++)this.writeBit(t[e])}writeUint(t,e){if(t=new hn(t),e==0||t.toString(2).length>e){if(t==0)return;throw Error("bitLength is too small for number, got number="+t+",bitLength="+e)}const n=t.toString(2,e);for(let o=0;o<e;o++)this.writeBit(n[o]==1)}writeInt(t,e){if(t=new hn(t),e==1){if(t==-1){this.writeBit(!0);return}if(t==0){this.writeBit(!1);return}throw Error("Bitlength is too small for number")}else if(t.isNeg()){this.writeBit(!0);const o=new hn(2).pow(new hn(e-1));this.writeUint(o.add(t),e-1)}else this.writeBit(!1),this.writeUint(t,e-1)}writeUint8(t){this.writeUint(t,8)}writeBytes(t){for(let e=0;e<t.length;e++)this.writeUint8(t[e])}writeString(t){this.writeBytes(new TextEncoder().encode(t))}writeGrams(t){if(t==0)this.writeUint(0,4);else{t=new hn(t);const e=Math.ceil(t.toString(16).length/2);this.writeUint(e,4),this.writeUint(t,e*8)}}writeCoins(t){this.writeGrams(t)}writeAddress(t){t==null?this.writeUint(0,2):(this.writeUint(2,2),this.writeUint(0,1),this.writeInt(t.wc,8),this.writeBytes(t.hashPart))}writeBitString(t){t.forEach(e=>{this.writeBit(e)})}clone(){const t=new Do(0);return t.array=this.array.slice(0),t.length=this.length,t.cursor=this.cursor,t}toString(){return this.toHex()}getTopUppedArray(){const t=this.clone();let e=Math.ceil(t.cursor/8)*8-t.cursor;if(e>0)for(e=e-1,t.writeBit(!0);e>0;)e=e-1,t.writeBit(!1);return t.array=t.array.slice(0,Math.ceil(t.cursor/8)),t.array}toHex(){if(this.cursor%4===0){const t=Xl(this.array.slice(0,Math.ceil(this.cursor/8))).toUpperCase();return this.cursor%8===0?t:t.substr(0,t.length-1)}else{const t=this.clone();for(t.writeBit(1);t.cursor%4!==0;)t.writeBit(0);return t.toHex().toUpperCase()+"_"}}setTopUppedArray(t,e=!0){if(this.length=t.length*8,this.array=t,this.cursor=this.length,!(e||!this.length)){let n=!1;for(let o=0;o<7;o++)if(this.cursor-=1,this.get(this.cursor)){n=!0,this.off(this.cursor);break}if(!n)throw console.log(t,e),new Error("Incorrect TopUppedArray")}}}var v0={BitString:Do};const{BitString:ds}=v0,{bytesToBase64:Kg,compareBytes:Wn,concatBytes:dn,crc32c:m0,hexToBytes:kn,readNBytesUIntFromArray:kr,sha256:zl,bytesToHex:Gg}=Je,y0=kn("B5EE9C72"),Zl=kn("68ff65f3"),Jl=kn("acc3a728");class g0{constructor(){this.bits=new ds(1023),this.refs=[],this.isExotic=!1}static fromBoc(t){return ps(t)}static oneFromBoc(t){const e=ps(t);if(e.length!==1)throw new Error("expected 1 root cell but have "+e.length);return e[0]}writeCell(t){this.bits.writeBitString(t.bits),this.refs=this.refs.concat(t.refs)}getMaxLevel(){let t=0;for(let e in this.refs){const n=this.refs[e];n.getMaxLevel()>t&&(t=n.getMaxLevel())}return t}isExplicitlyStoredHashes(){return 0}getMaxDepth(){let t=0;if(this.refs.length>0){for(let e in this.refs){const n=this.refs[e];n.getMaxDepth()>t&&(t=n.getMaxDepth())}t=t+1}return t}getMaxDepthAsArray(){const t=this.getMaxDepth(),e=Uint8Array.from({length:2},()=>0);return e[1]=t%256,e[0]=Math.floor(t/256),e}getRefsDescriptor(){const t=Uint8Array.from({length:1},()=>0);return t[0]=this.refs.length+this.isExotic*8+this.getMaxLevel()*32,t}getBitsDescriptor(){const t=Uint8Array.from({length:1},()=>0);return t[0]=Math.ceil(this.bits.cursor/8)+Math.floor(this.bits.cursor/8),t}getDataWithDescriptors(){const t=this.getRefsDescriptor(),e=this.getBitsDescriptor(),n=this.bits.getTopUppedArray();return dn(dn(t,e),n)}async getRepr(){const t=[];t.push(this.getDataWithDescriptors());for(let n in this.refs){const o=this.refs[n];t.push(o.getMaxDepthAsArray())}for(let n in this.refs){const o=this.refs[n];t.push(await o.hash())}let e=new Uint8Array;for(let n in t){const o=t[n];e=dn(e,o)}return e}async hash(){return new Uint8Array(await zl(await this.getRepr()))}print(t){t=t||"";let e=t+"x{"+this.bits.toHex()+`}
`;for(let n in this.refs)e+=this.refs[n].print(t+" ");return e}async toBoc(t=!0,e=!0,n=!1,o=0){const c=await this.treeWalk(),x=c[0],C=c[1],k=x.length,R=k.toString(2).length,K=Math.min(Math.ceil(R/8),1);let V=0,Z=[];for(let Ot of x)Z.push(V),V=V+await Ot[1].bocSerializationSize(C,K);const Et=V.toString(2).length,Pt=Math.max(Math.ceil(Et/8),1),wt=new ds((1023+32*4+32*3)*x.length);wt.writeBytes(y0),wt.writeBitArray([t,e,n]),wt.writeUint(o,2),wt.writeUint(K,3),wt.writeUint8(Pt),wt.writeUint(k,K*8),wt.writeUint(1,K*8),wt.writeUint(0,K*8),wt.writeUint(V,Pt*8),wt.writeUint(0,K*8),t&&x.forEach((Ot,se)=>wt.writeUint(Z[se],Pt*8));for(let Ot of x){const se=await Ot[1].serializeForBoc(C,K);wt.writeBytes(se)}let Nt=wt.getTopUppedArray();return e&&(Nt=dn(Nt,m0(Nt))),Nt}async serializeForBoc(t,e){const n=[];if(n.push(this.getDataWithDescriptors()),this.isExplicitlyStoredHashes())throw new Error("Cell hashes explicit storing is not implemented");for(let i in this.refs){const x=await this.refs[i].hash();let k=t[x].toString(16);k.length%2&&(k="0"+k);const R=kn(k);n.push(R)}let o=new Uint8Array;for(let i in n){const c=n[i];o=dn(o,c)}return o}async bocSerializationSize(t,e){return(await this.serializeForBoc(t,e)).length}async treeWalk(){return b0(this,[],{})}}async function w0(r,t,e){const n=r[e];for(let i in r)r[i]>n&&(r[i]=r[i]-1);r[e]=t.length-1;const o=t.splice(n,1)[0];t.push(o);for(let i of o[1].refs)await w0(r,t,await i.hash())}async function b0(r,t,e,n=null){const o=await r.hash();if(o in e)return n&&e[n]>e[o]&&await w0(e,t,o),[t,e];e[o]=t.length,t.push([o,r]);for(let i of r.refs){const c=await b0(i,t,e,o);t=c[0],e=c[1]}return[t,e]}function Ql(r){if(r.length<4+1)throw"Not enough bytes for magic prefix";const t=r,e=r.slice(0,4);r=r.slice(4);let n,o,i,c,x;if(Wn(e,y0)){const wt=r[0];n=wt&128,o=wt&64,i=wt&32,c=(wt&16)*2+(wt&8),x=wt%8}if(Wn(e,Zl)&&(n=1,o=0,i=0,c=0,x=r[0]),Wn(e,Jl)&&(n=1,o=1,i=0,c=0,x=r[0]),r=r.slice(1),r.length<1+5*x)throw"Not enough bytes for encoding cells counters";const C=r[0];r=r.slice(1);const k=kr(x,r);r=r.slice(x);const R=kr(x,r);r=r.slice(x);const K=kr(x,r);r=r.slice(x);const V=kr(C,r);if(r=r.slice(C),r.length<R*x)throw"Not enough bytes for encoding root cells hashes";let Z=[];for(let wt=0;wt<R;wt++)Z.push(kr(x,r)),r=r.slice(x);let Et=!1;if(n){if(Et=[],r.length<C*k)throw"Not enough bytes for index encoding";for(let wt=0;wt<k;wt++)Et.push(kr(C,r)),r=r.slice(C)}if(r.length<V)throw"Not enough bytes for cells data";const Pt=r.slice(0,V);if(r=r.slice(V),o){if(r.length<4)throw"Not enough bytes for crc32c hashsum";const wt=t.length;if(!Wn(m0(t.slice(0,wt-4)),r.slice(0,4)))throw"Crc32c hashsum mismatch";r=r.slice(4)}if(r.length)throw"Too much bytes in BoC serialization";return{has_idx:n,hash_crc32:o,has_cache_bits:i,flags:c,size_bytes:x,off_bytes:C,cells_num:k,roots_num:R,absent_num:K,tot_cells_size:V,root_list:Z,index:Et,cells_data:Pt}}function tc(r,t){if(r.length<2)throw"Not enough bytes to encode cell descriptors";const e=r[0],n=r[1];r=r.slice(2);const o=e&8,i=e%8,c=Math.ceil(n/2),x=!(n%2);let C=new g0;if(C.isExotic=o,r.length<c+t*i)throw"Not enough bytes to encode cell data";C.bits.setTopUppedArray(r.slice(0,c),x),r=r.slice(c);for(let k=0;k<i;k++)C.refs.push(kr(t,r)),r=r.slice(t);return{cell:C,residue:r}}function ps(r){typeof r=="string"&&(r=kn(r));const t=Ql(r);let e=t.cells_data,n=[];for(let i=0;i<t.cells_num;i++){let c=tc(e,t.size_bytes);e=c.residue,n.push(c.cell)}for(let i=t.cells_num-1;i>=0;i--){let c=n[i];for(let x=0;x<c.refs.length;x++){const C=c.refs[x];if(C<i)throw"Topological order is broken";c.refs[x]=n[C]}}let o=[];for(let i of t.root_list)o.push(n[i]);return o}var ec={Cell:g0};const{BitString:rc}=v0,{Cell:nc}=ec;var He={BitString:rc,Cell:nc};const{Cell:pn}=He,{Address:$r,bytesToBase64:vn,bytesToHex:ic}=Je;class Io{constructor(t,e){this.provider=t,this.options=e,this.address=e.address?new $r(e.address):null,e.wc||(e.wc=this.address?this.address.wc:0),this.methods={}}async getAddress(){return this.address||(this.address=(await this.createStateInit()).address),this.address}createCodeCell(){if(!this.options.code)throw new Error("Contract: options.code is not defined");return this.options.code}createDataCell(){return new pn}async createStateInit(){const t=this.createCodeCell(),e=this.createDataCell(),n=Io.createStateInit(t,e),o=await n.hash(),i=new $r(this.options.wc+":"+ic(o));return{stateInit:n,address:i,code:t,data:e}}static createStateInit(t,e,n=null,o=null,i=null){if(n)throw"Library in state init is not implemented";if(o)throw"Split depth in state init is not implemented";if(i)throw"Ticktock in state init is not implemented";const c=new pn;return c.bits.writeBitArray([Boolean(o),Boolean(i),Boolean(t),Boolean(e),Boolean(n)]),t&&c.refs.push(t),e&&c.refs.push(e),n&&c.refs.push(n),c}static createInternalMessageHeader(t,e=0,n=!0,o=null,i=!1,c=null,x=null,C=0,k=0,R=0,K=0){const V=new pn;if(V.bits.writeBit(!1),V.bits.writeBit(n),o!==null?V.bits.writeBit(o):V.bits.writeBit(new $r(t).isBounceable),V.bits.writeBit(i),V.bits.writeAddress(c?new $r(c):null),V.bits.writeAddress(new $r(t)),V.bits.writeGrams(e),x)throw"Currency collections are not implemented yet";return V.bits.writeBit(Boolean(x)),V.bits.writeGrams(C),V.bits.writeGrams(k),V.bits.writeUint(R,64),V.bits.writeUint(K,32),V}static createExternalMessageHeader(t,e=null,n=0){const o=new pn;return o.bits.writeUint(2,2),o.bits.writeAddress(e?new $r(e):null),o.bits.writeAddress(new $r(t)),o.bits.writeGrams(n),o}static createCommonMsgInfo(t,e=null,n=null){const o=new pn;return o.writeCell(t),e?(o.bits.writeBit(!0),o.bits.getFreeBits()-1>=e.bits.getUsedBits()?(o.bits.writeBit(!1),o.writeCell(e)):(o.bits.writeBit(!0),o.refs.push(e))):o.bits.writeBit(!1),n?o.bits.getFreeBits()>=n.bits.getUsedBits()?(o.bits.writeBit(!1),o.writeCell(n)):(o.bits.writeBit(!0),o.refs.push(n)):o.bits.writeBit(!1),o}static createMethod(t,e){return{getQuery:async()=>(await e).message,send:async()=>{const n=await e,o=vn(await n.message.toBoc(!1));return t.sendBoc(o)},estimateFee:async()=>{const n=await e,o=n.code?{address:n.address.toString(!0,!0,!1),body:vn(await n.body.toBoc(!1)),init_code:vn(await n.code.toBoc(!1)),init_data:vn(await n.data.toBoc(!1))}:{address:n.address.toString(!0,!0,!0),body:vn(await n.body.toBoc(!1))};return t.getEstimateFee(o)}}}}var cr={Contract:Io};const{Cell:oc}=He,{Address:sc,BN:Yg,bytesToHex:ac}=Je,{Contract:Pi}=cr;class fc{constructor(t,e){this.transport=t,this.ton=e,this.ADDRESS_FORMAT_HEX=0,this.ADDRESS_FORMAT_USER_FRIENDLY=1,this.ADDRESS_FORMAT_URL_SAFE=2,this.ADDRESS_FORMAT_BOUNCEABLE=4,this.ADDRESS_FORMAT_TEST_ONLY=8}async getAppConfiguration(){const t=await this.transport.send(224,1,0,0);return{version:""+t[0]+"."+t[1]+"."+t[2]}}async getPublicKey(t,e){const n=Buffer.alloc(4);n.writeInt32BE(t);const o=await this.transport.send(224,2,e?1:0,0,n),i=o[0];return{publicKey:new Uint8Array(o.slice(1,1+i))}}async getAddress(t,e,n){const o=Buffer.alloc(4);o.writeInt32BE(t);const i=await this.transport.send(224,5,e?1:0,n,o),c=i[0],x=new Uint8Array(i.slice(1,1+c));return{address:new sc("0:"+ac(x))}}async sign(t,e){const n=Buffer.alloc(4);n.writeInt32BE(t);const o=Buffer.concat([n,Buffer.from(e)]),i=await this.transport.send(224,3,0,0,o),c=i[0];return{signature:i.slice(1,1+c)}}async transfer(t,e,n,o,i,c){const C=await e.createTransferMessage(null,n,o,i,null,3,!0),k=Buffer.alloc(4);k.writeInt32BE(t);const R=Buffer.concat([k,Buffer.from(await C.signingMessage.toBoc())]),K=await this.transport.send(224,4,c,0,R),V=K[0],Z=K.slice(1,1+V),Et=new Uint8Array(Z),Pt=new oc;Pt.bits.writeBytes(Et),Pt.writeCell(C.signingMessage);let wt=null,Nt=null,Ot=null;if(i===0){const ne=await e.createStateInit();wt=ne.stateInit,Nt=ne.code,Ot=ne.data}const se=await e.getAddress(),oe=Pi.createExternalMessageHeader(se),Rt=Pi.createCommonMsgInfo(oe,wt,Pt),re=new Promise(ne=>{ne({address:se,message:Rt,body:Pt,signature:Et,signingMessage:C.signingMessage,stateInit:wt,code:Nt,data:Ot})});return Pi.createMethod(this.ton.provider,re)}}var uc=fc,x0={},E0={};const{BN:ji,base64ToBytes:lc}=Je,{Cell:cc}=He;class Or{static parseObject(t){const e=t["@type"];switch(e){case"tvm.list":case"tvm.tuple":return t.elements.map(Or.parseObject);case"tvm.stackEntryTuple":return Or.parseObject(t.tuple);case"tvm.stackEntryNumber":return Or.parseObject(t.number);case"tvm.numberDecimal":return new ji(t.number,10);default:throw new Error("unknown type "+e)}}static parseResponseStack(t){const e=t[0],n=t[1];switch(e){case"num":return new ji(n.replace(/0x/,""),16);case"list":case"tuple":return Or.parseObject(n);case"cell":const o=lc(n.bytes);return cc.oneFromBoc(o);default:throw new Error("unknown type "+e)}}static parseResponse(t){if(t.exit_code!==0){const n=new Error("http provider parse response error");throw n.result=t,n}const e=t.stack.map(Or.parseResponseStack);return e.length===1?e[0]:e}static makeArg(t){if(t instanceof ji||t instanceof Number)return["num",t];throw new Error("unknown arg type "+t)}static makeArgs(t){return t.map(this.makeArg)}}E0.default=Or;const hc=E0.default;typeof fetch=="undefined"&&(fetch=e0);const so="-9223372036854775808";class _0{constructor(t,e){this.host=t||"https://toncenter.com/api/v2/jsonRPC",this.options=e||{}}sendImpl(t,e){const n={"Content-Type":"application/json"};return this.options.apiKey&&(n["X-API-Key"]=this.options.apiKey),fetch(t,{method:"POST",headers:n,body:JSON.stringify(e)}).then(o=>o.json()).then(({result:o,error:i})=>o||Promise.reject(i))}send(t,e){return this.sendImpl(this.host,{id:1,jsonrpc:"2.0",method:t,params:e})}async getAddressInfo(t){return this.send("getAddressInformation",{address:t})}async getExtendedAddressInfo(t){return this.send("getExtendedAddressInformation",{address:t})}async getWalletInfo(t){return this.send("getWalletInformation",{address:t})}async getTransactions(t,e=20,n=void 0,o=void 0,i=void 0,c=void 0){return this.send("getTransactions",{address:t,limit:e,lt:n,hash:o,to_lt:i,archival:c})}async getBalance(t){return this.send("getAddressBalance",{address:t})}async sendBoc(t){return this.send("sendBoc",{boc:t})}async sendQuery(t){return this.send("sendQuerySimple",t)}async getEstimateFee(t){return this.send("estimateFee",t)}async call(t,e,n=[]){return this.send("runGetMethod",{address:t,method:e,stack:n})}async call2(t,e,n=[]){const o=await this.send("runGetMethod",{address:t,method:e,stack:n});return hc.parseResponse(o)}async getMasterchainInfo(){return this.send("getMasterchainInfo",{})}async getBlockShards(t){return this.send("shards",{seqno:t})}async getBlockTransactions(t,e,n){return this.send("getBlockTransactions",{workchain:t,shard:e,seqno:n})}async getMasterchainBlockTransactions(t){return this.getBlockTransactions(-1,so,t)}async getBlockHeader(t,e,n){return this.send("getBlockHeader",{workchain:t,shard:e,seqno:n})}async getMasterchainBlockHeader(t){return this.getBlockHeader(-1,so,t)}}_0.SHARD_ID_ALL=so;x0.default=_0;var A0={};const{Contract:br}=cr,{Cell:mn}=He,{nacl:Vn,stringToBytes:Xg,Address:dc,BN:pc}=Je;class vc extends br{constructor(t,e){if(!e.publicKey&&!e.address)throw new Error("WalletContract required publicKey or address in options");super(t,e),this.methods={transfer:n=>br.createMethod(t,this.createTransferMessage(n.secretKey,n.toAddress,n.amount,n.seqno,n.payload,n.sendMode,!Boolean(n.secretKey),n.stateInit)),seqno:()=>({call:async()=>{const n=await this.getAddress();let o=null;try{o=(await t.call2(n.toString(),"seqno")).toNumber()}catch{}return o}})},this.deploy=n=>br.createMethod(t,this.createInitExternalMessage(n))}getName(){throw new Error("override me")}createDataCell(){const t=new mn;return t.bits.writeUint(0,32),t.bits.writeBytes(this.options.publicKey),t}createSigningMessage(t){t=t||0;const e=new mn;return e.bits.writeUint(t,32),e}async createInitExternalMessage(t){if(!this.options.publicKey){const K=Vn.sign.keyPair.fromSecretKey(t);this.options.publicKey=K.publicKey}const{stateInit:e,address:n,code:o,data:i}=await this.createStateInit(),c=this.createSigningMessage(),x=Vn.sign.detached(await c.hash(),t),C=new mn;C.bits.writeBytes(x),C.writeCell(c);const k=br.createExternalMessageHeader(n),R=br.createCommonMsgInfo(k,e,C);return{address:n,message:R,body:C,signingMessage:c,stateInit:e,code:o,data:i}}async createExternalMessage(t,e,n,o=!1){const i=o?new Uint8Array(64):Vn.sign.detached(await t.hash(),e),c=new mn;c.bits.writeBytes(i),c.writeCell(t);let x=null,C=null,k=null;if(n===0){if(!this.options.publicKey){const Et=Vn.sign.keyPair.fromSecretKey(e);this.options.publicKey=Et.publicKey}const Z=await this.createStateInit();x=Z.stateInit,C=Z.code,k=Z.data}const R=await this.getAddress(),K=br.createExternalMessageHeader(R),V=br.createCommonMsgInfo(K,x,c);return{address:R,message:V,body:c,signature:i,signingMessage:t,stateInit:x,code:C,data:k}}async createTransferMessage(t,e,n,o,i="",c=3,x=!1,C=null){let k=new mn;i&&(i.refs?k=i:typeof i=="string"?i.length>0&&(k.bits.writeUint(0,32),k.bits.writeString(i)):k.bits.writeBytes(i));const R=br.createInternalMessageHeader(new dc(e),new pc(n)),K=br.createCommonMsgInfo(R,C,k),V=this.createSigningMessage(o);return V.bits.writeUint8(c),V.refs.push(K),this.createExternalMessage(V,t,o,x)}}var rn={WalletContract:vc};const{Cell:To}=He,{WalletContract:No}=rn;class mc extends No{constructor(t,e){e.code=To.oneFromBoc("B5EE9C72410101010044000084FF0020DDA4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED5441FDF089"),super(t,e)}getName(){return"simpleR1"}}class yc extends No{constructor(t,e){e.code=To.oneFromBoc("B5EE9C724101010100530000A2FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54D0E2786F"),super(t,e)}getName(){return"simpleR2"}}class gc extends No{constructor(t,e){e.code=To.oneFromBoc("B5EE9C7241010101005F0000BAFF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54B5B86E42"),super(t,e)}getName(){return"simpleR3"}}var wc={SimpleWalletContractR1:mc,SimpleWalletContractR2:yc,SimpleWalletContractR3:gc};const{Cell:Ro}=He,{WalletContract:bc}=rn;class C0 extends bc{createSigningMessage(t){t=t||0;const e=new Ro;if(e.bits.writeUint(t,32),t===0)for(let n=0;n<32;n++)e.bits.writeBit(1);else{const n=new Date,o=Math.floor(n.getTime()/1e3);e.bits.writeUint(o+60,32)}return e}}class xc extends C0{constructor(t,e){e.code=Ro.oneFromBoc("B5EE9C724101010100570000AAFF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54A1370BB6"),super(t,e)}getName(){return"v2R1"}}class Ec extends C0{constructor(t,e){e.code=Ro.oneFromBoc("B5EE9C724101010100630000C2FF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54044CD7A1"),super(t,e)}getName(){return"v2R2"}}var _c={WalletV2ContractR1:xc,WalletV2ContractR2:Ec};const{Cell:vi}=He,{WalletContract:Ac}=rn;class B0 extends Ac{createSigningMessage(t){t=t||0;const e=new vi;if(e.bits.writeUint(this.options.walletId,32),t===0)for(let n=0;n<32;n++)e.bits.writeBit(1);else{const n=new Date,o=Math.floor(n.getTime()/1e3);e.bits.writeUint(o+60,32)}return e.bits.writeUint(t,32),e}createDataCell(){const t=new vi;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t}}class Cc extends B0{constructor(t,e){e.code=vi.oneFromBoc("B5EE9C724101010100620000C0FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED543FBE6EE0"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}getName(){return"v3R1"}}class Bc extends B0{constructor(t,e){e.code=vi.oneFromBoc("B5EE9C724101010100710000DEFF0020DD2082014C97BA218201339CBAB19F71B0ED44D0D31FD31F31D70BFFE304E0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED5410BD6DAD"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}getName(){return"v3R2"}}var Mc={WalletV3ContractR1:Cc,WalletV3ContractR2:Bc};const{Cell:Hi}=He,{WalletContract:Fc}=rn;class Sc extends Fc{constructor(t,e){e.code=Hi.oneFromBoc("B5EE9C72410215010002F5000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF263ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1112131403EED001D0D3030171B0915BE021D749C120915BE001D31F218210706C7567BD228210626C6E63BDB022821064737472BDB0925F03E002FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F05E004D33FC8258210706C7567BA9131E30D248210626C6E63BAE30004060708020120090A005001FA00F404308210706C7567831EB17080185005CB0527CF165003FA02F40012CB69CB1F5210CB3F0052F8276F228210626C6E63831EB17080185005CB0527CF1624FA0214CB6A13CB1F5230CB3F01FA02F4000092821064737472BA8E3504810108F45930ED44D0810140D720C801CF16F400C9ED54821064737472831EB17080185004CB0558CF1622FA0212CB6ACB1FCB3F9410345F04E2C98040FB000201200B0C0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580D0E0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200F100019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC971FB00C84014810108F451F2A702006C810108D718C8542025810108F451F2A782106E6F746570748018C8CB05CB025004CF16821005F5E100FA0213CB6A12CB1FC971FB00020072810108D718305202810108F459F2A7F82582106473747270748018C8CB05CB025005CF16821005F5E100FA0214CB6A13CB1F12CB3FC973FB00000AF400C9ED5446A9F34F"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this)}getName(){return"v4R1"}createSigningMessage(t,e){t=t||0;const n=new Hi;if(n.bits.writeUint(this.options.walletId,32),t===0)for(let o=0;o<32;o++)n.bits.writeBit(1);else{const o=new Date,i=Math.floor(o.getTime()/1e3);n.bits.writeUint(i+60,32)}return n.bits.writeUint(t,32),e||n.bits.writeUint(0,8),n}createDataCell(){const t=new Hi;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeUint(0,1),t}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}}var Dc={WalletV4ContractR1:Sc};const{Cell:qi}=He,{Contract:Wi}=cr,{Address:vs,bytesToHex:Ic,BN:zg,toNano:Tc}=Je,{WalletContract:Nc}=rn;class Rc extends Nc{constructor(t,e){e.code=qi.oneFromBoc("B5EE9C72410214010002D4000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF264ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1011121302E6D001D0D3032171B0925F04E022D749C120925F04E002D31F218210706C7567BD22821064737472BDB0925F05E003FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F07E005D33FC8258210706C7567BA923830E30D03821064737472BA925F06E30D06070201200809007801FA00F40430F8276F2230500AA121BEF2E0508210706C7567831EB17080185004CB0526CF1658FA0219F400CB6917CB1F5260CB3F20C98040FB0006008A5004810108F45930ED44D0810140D720C801CF16F400C9ED540172B08E23821064737472831EB17080185005CB055003CF1623FA0213CB6ACB1FCB3FC98040FB00925F03E20201200A0B0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580C0D0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200E0F0019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC973FB00C84014810108F451F2A7020070810108D718FA00D33FC8542047810108F451F2A782106E6F746570748018C8CB05CB025006CF165004FA0214CB6A12CB1FCB3FC973FB0002006C810108D718FA00D33F305224810108F459F2A782106473747270748018C8CB05CB025005CF165003FA0213CB6ACB1F12CB3FC973FB00000AF400C9ED54696225E5"),super(t,e),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.deployAndInstallPlugin=n=>Wi.createMethod(t,this.deployAndInstallPlugin(n)),this.methods.installPlugin=n=>Wi.createMethod(t,this.installPlugin(n)),this.methods.removePlugin=n=>Wi.createMethod(t,this.removePlugin(n)),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.isPluginInstalled=this.isPluginInstalled.bind(this),this.methods.getPluginsList=this.getPluginsList.bind(this)}getName(){return"v4R2"}createSigningMessage(t,e){t=t||0;const n=new qi;if(n.bits.writeUint(this.options.walletId,32),t===0)for(let o=0;o<32;o++)n.bits.writeBit(1);else{const o=new Date,i=Math.floor(o.getTime()/1e3);n.bits.writeUint(i+60,32)}return n.bits.writeUint(t,32),e||n.bits.writeUint(0,8),n}createDataCell(){const t=new qi;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeUint(0,1),t}async deployAndInstallPlugin(t){const{secretKey:e,seqno:n,pluginWc:o,amount:i,stateInit:c,body:x}=t,C=this.createSigningMessage(n,!0);return C.bits.writeUint(1,8),C.bits.writeInt(o,8),C.bits.writeGrams(i),C.refs.push(c),C.refs.push(x),this.createExternalMessage(C,e,n,!1)}async _setPlugin(t,e){const{secretKey:n,seqno:o,amount:i,queryId:c}=t,x=new vs(t.pluginAddress),C=this.createSigningMessage(o,!0);return C.bits.writeUint(e?2:3,8),C.bits.writeInt(x.wc,8),C.bits.writeBytes(x.hashPart),C.bits.writeGrams(i||Tc(.1)),C.bits.writeUint(c||0,64),this.createExternalMessage(C,n,o,!1)}async installPlugin(t){return this._setPlugin(t,!0)}async removePlugin(t){return this._setPlugin(t,!1)}async getWalletId(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}async isPluginInstalled(t){t=new vs(t);const e="0x"+Ic(t.hashPart),n=await this.getAddress();return!(await this.provider.call2(n.toString(),"is_plugin_installed",[["num",t.wc],["num",e]])).isZero()}async getPluginsList(){const t=o=>o[0].toNumber()+":"+o[1].toString(16),e=await this.getAddress();return(await this.provider.call2(e.toString(),"get_plugin_list")).map(t)}}var Uc={WalletV4ContractR2:Rc};const{SimpleWalletContractR1:M0,SimpleWalletContractR2:F0,SimpleWalletContractR3:S0}=wc,{WalletV2ContractR1:D0,WalletV2ContractR2:I0}=_c,{WalletV3ContractR1:T0,WalletV3ContractR2:N0}=Mc,{WalletV4ContractR1:R0}=Dc,{WalletV4ContractR2:U0}=Uc,$0={simpleR1:M0,simpleR2:F0,simpleR3:S0,v2R1:D0,v2R2:I0,v3R1:T0,v3R2:N0,v4R1:R0,v4R2:U0},k0=[M0,F0,S0,D0,I0,T0,N0,R0,U0];class Uo{constructor(t){this.provider=t,this.all=$0,this.list=k0,this.defaultVersion="v3R1",this.default=this.all[this.defaultVersion]}create(t){return new this.default(this.provider,t)}}Uo.all=$0;Uo.list=k0;A0.default=Uo;var O0={};const{Cell:Kn}=He,{Address:Zg,BN:Jg,toNano:Qg,bytesToHex:t5,hexToBytes:e5,nacl:r5,stringToBytes:n5,bytesToBase64:i5,base64ToBytes:ms}=Je,{WalletContract:$c}=rn,kc=698983191;class Vi extends $c{constructor(t,e){e.code=Kn.oneFromBoc("B5EE9C7241021E01000261000114FF00F4A413F4BCF2C80B010201200203020148040501F2F28308D71820D31FD31FD31F802403F823BB13F2F2F003802251A9BA1AF2F4802351B7BA1BF2F4801F0BF9015410C5F9101AF2F4F8005057F823F0065098F823F0062071289320D74A8E8BD30731D4511BDB3C12B001E8309229A0DF72FB02069320D74A96D307D402FB00E8D103A4476814154330F004ED541D0202CD0607020120131402012008090201200F100201200A0B002D5ED44D0D31FD31FD3FFD3FFF404FA00F404FA00F404D1803F7007434C0C05C6C2497C0F83E900C0871C02497C0F80074C7C87040A497C1383C00D46D3C00608420BABE7114AC2F6C2497C338200A208420BABE7106EE86BCBD20084AE0840EE6B2802FBCBD01E0C235C62008087E4055040DBE4404BCBD34C7E00A60840DCEAA7D04EE84BCBD34C034C7CC0078C3C412040DD78CA00C0D0E00130875D27D2A1BE95B0C60000C1039480AF00500161037410AF0050810575056001010244300F004ED540201201112004548E1E228020F4966FA520933023BB9131E2209835FA00D113A14013926C21E2B3E6308003502323287C5F287C572FFC4F2FFFD00007E80BD00007E80BD00326000431448A814C4E0083D039BE865BE803444E800A44C38B21400FE809004E0083D10C06002012015160015BDE9F780188242F847800C02012017180201481B1C002DB5187E006D88868A82609E00C6207E00C63F04EDE20B30020158191A0017ADCE76A268699F98EB85FFC00017AC78F6A268698F98EB858FC00011B325FB513435C2C7E00017B1D1BE08E0804230FB50F620002801D0D3030178B0925B7FE0FA4031FA403001F001A80EDAA4"),super(t,e),this.options.walletId||(this.options.walletId=kc+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.getLiquidBalance=this.getLiquidBalance.bind(this),this.methods.getNominalRestrictedBalance=this.getNominalRestrictedBalance.bind(this),this.methods.getNominalLockedBalance=this.getNominalLockedBalance.bind(this)}getName(){return"lockup-0.1"}createSigningMessage(t,e){t=t||0;const n=new Kn;if(n.bits.writeUint(this.options.walletId,32),t===0)for(let o=0;o<32;o++)n.bits.writeBit(1);else{const o=new Date,i=Math.floor(o.getTime()/1e3);n.bits.writeUint(i+60,32)}return n.bits.writeUint(t,32),n}createDataCell(){const t=new Kn;return t.bits.writeUint(0,32),t.bits.writeUint(this.options.walletId,32),t.bits.writeBytes(this.options.publicKey),t.bits.writeBytes(ms(this.options.config.config_public_key)),this.options.config.allowed_destinations?(t.bits.writeUint(1,1),t.refs.push(Kn.oneFromBoc(ms(this.options.config.allowed_destinations)))):t.bits.writeUint(0,1),t.bits.writeGrams(0),t.bits.writeUint(0,1),t.bits.writeGrams(0),t.bits.writeUint(0,1),t}async getWalletId(){const t=await this.getAddress();return(await this.provider.call2(t.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_public_key")}async getLiquidBalance(){const t=await this.getBalances();return t[0]-t[1]-t[2]}async getNominalRestrictedBalance(){return await this.getBalances()[1]}async getNominalLockedBalance(){return await this.getBalances()[2]}async getBalances(){const t=await this.getAddress();return this.provider.call2(t.toString(),"get_balances")}}O0.default={LockupWalletV1:Vi,all:{"lockup-0.1":Vi},list:[Vi]};var L0={};const{base64ToBytes:o5,Address:Oc}=Je,{Cell:Lc}=He,Pc=0,jc=1,Hc=0,P0=1,j0=r=>new TextEncoder().encode(encodeURI(r)),H0=r=>new TextDecoder().decode(r),qc=r=>{const t=new Lc;return t.bits.writeUint(P0,8),t.bits.writeBytes(j0(r)),t},Wc=r=>{let t=0,e=r;for(;e;)t+=e.bits.array.length,e=e.refs[0];const n=new Uint8Array(t);for(t=0,e=r;e;)n.set(e.bits.array,t),t+=e.bits.array.length,e=e.refs[0];return H0(n.slice(1))},ys=(r,t,e)=>{let n=BigInt(0);for(let o=0;o<e;o++)n*=BigInt(2),n+=BigInt(r.get(t+o));return n},Vc=r=>{let t=ys(r.bits,3,8);t>BigInt(127)&&(t=t-BigInt(256));const e=ys(r.bits,3+8,256);if(t.toString(10)+":"+e.toString(16)=="0:0")return null;const n=t.toString(10)+":"+e.toString(16).padStart(64,"0");return new Oc(n)};var nn={SNAKE_DATA_PREFIX:Pc,CHUNK_DATA_PREFIX:jc,ONCHAIN_CONTENT_PREFIX:Hc,OFFCHAIN_CONTENT_PREFIX:P0,parseAddress:Vc,serializeUri:j0,parseUri:H0,createOffchainUriCell:qc,parseOffchainUriCell:Wc};const{Contract:Kc}=cr,{Cell:rr}=He,{Address:s5,bytesToBase64:Gc}=Je,{parseAddress:Ki}=nn,{createOffchainUriCell:Yc,serializeUri:gs,parseOffchainUriCell:ws}=nn;class Xc extends Kc{constructor(t,e){if(e.wc=0,e.code=e.code||rr.oneFromBoc("B5EE9C724102140100021F000114FF00F4A413F4BCF2C80B0102016202030202CD04050201200E0F04E7D10638048ADF000E8698180B8D848ADF07D201800E98FE99FF6A2687D20699FEA6A6A184108349E9CA829405D47141BAF8280E8410854658056B84008646582A802E78B127D010A65B509E58FE59F80E78B64C0207D80701B28B9E382F970C892E000F18112E001718112E001F181181981E0024060708090201200A0B00603502D33F5313BBF2E1925313BA01FA00D43028103459F0068E1201A44343C85005CF1613CB3FCCCCCCC9ED54925F05E200A6357003D4308E378040F4966FA5208E2906A4208100FABE93F2C18FDE81019321A05325BBF2F402FA00D43022544B30F00623BA9302A402DE04926C21E2B3E6303250444313C85005CF1613CB3FCCCCCCC9ED54002C323401FA40304144C85005CF1613CB3FCCCCCCC9ED54003C8E15D4D43010344130C85005CF1613CB3FCCCCCCC9ED54E05F04840FF2F00201200C0D003D45AF0047021F005778018C8CB0558CF165004FA0213CB6B12CCCCC971FB008002D007232CFFE0A33C5B25C083232C044FD003D0032C03260001B3E401D3232C084B281F2FFF2742002012010110025BC82DF6A2687D20699FEA6A6A182DE86A182C40043B8B5D31ED44D0FA40D33FD4D4D43010245F04D0D431D430D071C8CB0701CF16CCC980201201213002FB5DAFDA89A1F481A67FA9A9A860D883A1A61FA61FF480610002DB4F47DA89A1F481A67FA9A9A86028BE09E008E003E00B01A500C6E"),e.royalty>1)throw new Error("royalty > 1");e.royaltyBase=1e3,e.royaltyFactor=Math.floor(e.royalty*e.royaltyBase),super(t,e),this.methods.getCollectionData=this.getCollectionData.bind(this),this.methods.getNftItemAddressByIndex=this.getNftItemAddressByIndex.bind(this),this.methods.getNftItemContent=this.getNftItemContent.bind(this),this.methods.getRoyaltyParams=this.getRoyaltyParams.bind(this)}createContentCell(t){const e=Yc(t.collectionContentUri),n=new rr;n.bits.writeBytes(gs(t.nftItemContentBaseUri));const o=new rr;return o.refs[0]=e,o.refs[1]=n,o}createRoyaltyCell(t){const e=new rr;return e.bits.writeUint(t.royaltyFactor,16),e.bits.writeUint(t.royaltyBase,16),e.bits.writeAddress(t.royaltyAddress),e}createDataCell(){const t=new rr;return t.bits.writeAddress(this.options.ownerAddress),t.bits.writeUint(0,64),t.refs[0]=this.createContentCell(this.options),t.refs[1]=rr.oneFromBoc(this.options.nftItemCodeHex),t.refs[2]=this.createRoyaltyCell(this.options),t}createMintBody(t){const e=new rr;e.bits.writeUint(1,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeUint(t.itemIndex,64),e.bits.writeCoins(t.amount);const n=new rr;n.bits.writeAddress(t.itemOwnerAddress);const o=new rr;return o.bits.writeBytes(gs(t.itemContentUri)),n.refs[0]=o,e.refs[0]=n,e}createGetRoyaltyParamsBody(t){const e=new rr;return e.bits.writeUint(1765620048,32),e.bits.writeUint(t.queryId||0,64),e}createChangeOwnerBody(t){const e=new rr;return e.bits.writeUint(3,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newOwnerAddress),e}createEditContentBody(t){if(t.royalty>1)throw new Error("royalty > 1");t.royaltyBase=1e3,t.royaltyFactor=Math.floor(t.royalty*t.royaltyBase);const e=new rr;return e.bits.writeUint(4,32),e.bits.writeUint(t.queryId||0,64),e.refs[0]=this.createContentCell(t),e.refs[1]=this.createRoyaltyCell(t),e}async getCollectionData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_collection_data"),n=e[0].toNumber(),o=ws(e[1]),i=Ki(e[2]);return{nextItemIndex:n,ownerAddress:i,collectionContentUri:o}}async getNftItemContent(t){const e=await this.getAddress(),n=await t.getData();if(n.isInitialized){const o=await this.provider.call2(e.toString(),"get_nft_content",[["num",n.index],["tvm.Cell",Gc(await n.contentCell.toBoc(!1))]]);n.contentUri=ws(o),delete n.contentCell}return n}async getNftItemAddressByIndex(t){const e=await this.getAddress(),n=await this.provider.call2(e.toString(),"get_nft_address_by_index",[["num",t]]);return Ki(n)}async getRoyaltyParams(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"royalty_params"),n=e[0].toNumber(),o=e[1].toNumber(),i=n/o,c=Ki(e[2]);return{royalty:i,royaltyBase:o,royaltyFactor:n,royaltyAddress:c}}}var zc={NftCollection:Xc};const{Contract:Zc}=cr,{Cell:Gn}=He,{Address:a5,BN:Jc}=Je,{parseAddress:bs}=nn,q0="B5EE9C7241020D010001D0000114FF00F4A413F4BCF2C80B0102016202030202CE04050009A11F9FE00502012006070201200B0C02D70C8871C02497C0F83434C0C05C6C2497C0F83E903E900C7E800C5C75C87E800C7E800C3C00812CE3850C1B088D148CB1C17CB865407E90350C0408FC00F801B4C7F4CFE08417F30F45148C2EA3A1CC840DD78C9004F80C0D0D0D4D60840BF2C9A884AEB8C097C12103FCBC20080900113E910C1C2EBCB8536001F65135C705F2E191FA4021F001FA40D20031FA00820AFAF0801BA121945315A0A1DE22D70B01C300209206A19136E220C2FFF2E192218E3E821005138D91C85009CF16500BCF16712449145446A0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00104794102A375BE20A00727082108B77173505C8CBFF5004CF1610248040708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB000082028E3526F0018210D53276DB103744006D71708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB0093303234E25502F003003B3B513434CFFE900835D27080269FC07E90350C04090408F80C1C165B5B60001D00F232CFD633C58073C5B3327B5520BF75041B";class W0 extends Zc{constructor(t,e){e.wc=0,e.code=e.code||Gn.oneFromBoc(q0),super(t,e),this.methods.getData=this.getData.bind(this)}createDataCell(){const t=new Gn;return t.bits.writeUint(this.options.index,64),t.bits.writeAddress(this.options.collectionAddress),t}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_nft_data"),n=e[0].toNumber()===-1,o=e[1].toNumber(),i=bs(e[2]),c=n?bs(e[3]):null,x=e[4];return{isInitialized:n,index:o,collectionAddress:i,ownerAddress:c,contentCell:x}}async createTransferBody(t){const e=new Gn;return e.bits.writeUint(1607220500,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.newOwnerAddress),e.bits.writeAddress(t.responseAddress),e.bits.writeBit(!1),e.bits.writeCoins(t.forwardAmount||new Jc(0)),e.bits.writeBit(!1),t.forwardPayload&&e.bits.writeBytes(t.forwardPayload),e}createGetStaticDataBody(t){const e=new Gn;return e.bits.writeUint(801842850,32),e.bits.writeUint(t.queryId||0,64),e}}W0.codeHex=q0;var Qc={NftItem:W0};const{Contract:th}=cr,{Cell:xs}=He;class eh extends th{constructor(t,e){e.wc=0,e.code=e.code||xs.oneFromBoc("B5EE9C7241010401006D000114FF00F4A413F4BCF2C80B01020120020300AAD23221C700915BE0D0D3030171B0915BE0FA40ED44D0FA403012C705F2E19101D31F01C0018E2BFA003001D4D43021F90070C8CA07CBFFC9D077748018C8CB05CB0258CF165004FA0213CB6BCCCCC971FB00915BE20004F2308EF7CCE7"),super(t,e)}createDataCell(){const t=new xs;return t.bits.writeAddress(this.options.ownerAddress),t}}var rh={NftMarketplace:eh};const{Contract:nh}=cr,{Cell:Yn}=He,{parseAddress:Xn}=nn,V0="B5EE9C7241020A010001B4000114FF00F4A413F4BCF2C80B01020120020302014804050004F2300202CD0607002FA03859DA89A1F481F481F481F401A861A1F401F481F4006101F7D00E8698180B8D8492F82707D201876A2687D207D207D207D006A18116BA4E10159C71D991B1B2990E382C92F837028916382F970FA01698FC1080289C6C8895D7970FAE99F98FD2018201A642802E78B2801E78B00E78B00FD016664F6AA701363804C9B081B2299823878027003698FE99F9810E000C92F857010C0801F5D41081DCD650029285029185F7970E101E87D007D207D0018384008646582A804E78B28B9D090D0A85AD08A500AFD010AE5B564B8FD80384008646582AC678B2803FD010B65B564B8FD80384008646582A802E78B00FD0109E5B564B8FD80381041082FE61E8A10C00C646582A802E78B117D010A65B509E58F8A40900C8C0029A3110471036454012F004E032363704C0038E4782103B9ACA0015BEF2E1C95312C70559C705B1F2E1CA702082105FCC3D14218010C8CB055006CF1622FA0215CB6A14CB1F14CB3F21CF1601CF16CA0021FA02CA00C98100A0FB00E05F06840FF2F0002ACB3F22CF1658CF16CA0021FA02CA00C98100A0FB00AECABAD1";class K0 extends nh{constructor(t,e){e.wc=0,e.code=e.code||Yn.oneFromBoc(V0),super(t,e),this.methods.getData=this.getData.bind(this)}createDataCell(){const t=new Yn;t.bits.writeAddress(this.options.marketplaceAddress),t.bits.writeAddress(this.options.nftAddress),t.bits.writeAddress(null),t.bits.writeCoins(this.options.fullPrice);const e=new Yn;return e.bits.writeCoins(this.options.marketplaceFee),e.bits.writeAddress(this.options.royaltyAddress),e.bits.writeCoins(this.options.royaltyAmount),t.refs[0]=e,t}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_sale_data"),n=Xn(e[0]),o=Xn(e[1]),i=Xn(e[2]),c=e[3],x=e[4],C=Xn(e[5]),k=e[6];return{marketplaceAddress:n,nftAddress:o,nftOwnerAddress:i,fullPrice:c,marketplaceFee:x,royaltyAddress:C,royaltyAmount:k}}async createCancelBody(t){const e=new Yn;return e.bits.writeUint(3,32),e.bits.writeUint(t.queryId||0,64),e}}K0.codeHex=V0;var ih={NftSale:K0};const{NftCollection:oh}=zc,{NftItem:sh}=Qc,{NftMarketplace:ah}=rh,{NftSale:fh}=ih;L0.default={NftCollection:oh,NftItem:sh,NftMarketplace:ah,NftSale:fh};var G0={};const{Contract:uh}=cr,{Cell:yn}=He,{createOffchainUriCell:lh,parseOffchainUriCell:ch,parseAddress:hh}=nn,{BN:dh}=Je;class ph extends uh{constructor(t,e){e.wc=0,e.code=e.code||yn.oneFromBoc("B5EE9C72410209010001AA000114FF00F4A413F4BCF2C80B0102016202030202CC040502037A60070801D5D9910E38048ADF068698180B8D848ADF07D201800E98FE99FF6A2687D007D206A6A18400AA9385D47181A9AA8AAE382F9702480FD207D006A18106840306B90FD001812881A28217804502A906428027D012C678B666664F6AA7041083DEECBEF0BDD71812F83C207F9784060093DFC142201B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064907C80383A6465816503E5FFE4E83BC00C646582AC678B28027D0109E5B589666664B8FD80400FC03FA00FA40F82854120870542013541403C85004FA0258CF1601CF16CCC922C8CB0112F400F400CB00C9F9007074C8CB02CA07CBFFC9D05008C705F2E04A12A1035024C85004FA0258CF16CCCCC9ED5401FA403020D70B01C3008E1F8210D53276DB708010C8CB055003CF1622FA0212CB6ACB1FCB3FC98042FB00915BE2007DADBCF6A2687D007D206A6A183618FC1400B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064FC80383A6465816503E5FFE4E840001FAF16F6A2687D007D206A6A183FAA9040F6B06B3C"),super(t,e)}createDataCell(){const t=new yn;return t.bits.writeCoins(0),t.bits.writeAddress(this.options.adminAddress),t.refs[0]=lh(this.options.jettonContentUri),t.refs[1]=yn.oneFromBoc(this.options.jettonWalletCodeHex),t}createMintBody(t){const e=new yn;e.bits.writeUint(21,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeAddress(t.destination),e.bits.writeCoins(t.amount);const n=new yn;return n.bits.writeUint(395134233,32),n.bits.writeUint(t.queryId||0,64),n.bits.writeCoins(t.jettonAmount),n.bits.writeAddress(null),n.bits.writeAddress(null),n.bits.writeCoins(new dh(0)),n.bits.writeBit(!1),e.refs[0]=n,e}async getJettonData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_jetton_data"),n=e[0],o=e[1].toNumber()===-1,i=hh(e[2]),c=ch(e[3]),x=e[4];return{totalSupply:n,isMutable:o,adminAddress:i,jettonContentUri:c,tokenWalletCode:x}}}var vh={JettonMinter:ph};const{Contract:mh}=cr,{Cell:Gi}=He,{parseAddress:Es}=nn,{BN:yh}=Je,Y0="B5EE9C7241021101000319000114FF00F4A413F4BCF2C80B0102016202030202CC0405001BA0F605DA89A1F401F481F481A8610201D40607020148080900BB0831C02497C138007434C0C05C6C2544D7C0FC02F83E903E900C7E800C5C75C87E800C7E800C00B4C7E08403E29FA954882EA54C4D167C0238208405E3514654882EA58C4CD00CFC02780D60841657C1EF2EA4D67C02B817C12103FCBC2000113E910C1C2EBCB853600201200A0B0201200F1001F500F4CFFE803E90087C007B51343E803E903E90350C144DA8548AB1C17CB8B04A30BFFCB8B0950D109C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C032483E401C1D3232C0B281F2FFF274013E903D010C7E801DE0063232C1540233C59C3E8085F2DAC4F3208405E351467232C7C6600C02F13B51343E803E903E90350C01F4CFFE80145468017E903E9014D6B1C1551CDB1C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C0327E401C1D3232C0B281F2FFF274140331C146EC7CB8B0C27E8020822625A020822625A02806A8486544124E17C138C34975C2C070C00930802C200D0E008ECB3F5007FA0222CF165006CF1625FA025003CF16C95005CC07AA0013A08208989680AA008208989680A0A014BCF2E2C504C98040FB001023C85004FA0258CF1601CF16CCC9ED54006C5219A018A182107362D09CC8CB1F5240CB3F5003FA0201CF165007CF16C9718018C8CB0525CF165007FA0216CB6A15CCC971FB00103400828E2A820898968072FB028210D53276DB708010C8CB055008CF165005FA0216CB6A13CB1F13CB3FC972FB0058926C33E25502C85004FA0258CF1601CF16CCC9ED5400DB3B51343E803E903E90350C01F4CFFE803E900C145468549271C17CB8B049F0BFFCB8B0A0822625A02A8005A805AF3CB8B0E0841EF765F7B232C7C572CFD400FE8088B3C58073C5B25C60043232C14933C59C3E80B2DAB33260103EC01004F214013E809633C58073C5B3327B55200083200835C87B51343E803E903E90350C0134C7E08405E3514654882EA0841EF765F784EE84AC7CB8B174CFCC7E800C04E81408F214013E809633C58073C5B3327B55204F664B79";class X0 extends mh{constructor(t,e){e.wc=0,e.code=e.code||Gi.oneFromBoc(Y0),super(t,e)}async createTransferBody(t){const e=new Gi;return e.bits.writeUint(260734629,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeCoins(t.jettonAmount),e.bits.writeAddress(t.toAddress),e.bits.writeAddress(t.responseAddress),e.bits.writeBit(!1),e.bits.writeCoins(t.forwardAmount||new yh(0)),e.bits.writeBit(!1),t.forwardPayload&&e.bits.writeBytes(t.forwardPayload),e}async createBurnBody(t){const e=new Gi;return e.bits.writeUint(1499400124,32),e.bits.writeUint(t.queryId||0,64),e.bits.writeCoins(t.jettonAmount),e.bits.writeAddress(t.responseAddress),e}async getData(){const t=await this.getAddress(),e=await this.provider.call2(t.toString(),"get_wallet_data"),n=e[0],o=Es(e[1]),i=Es(e[2]),c=e[3];return{balance:n,ownerAddress:o,jettonMinterAddress:i,jettonWalletCode:c}}}X0.codeHex=Y0;var gh={JettonWallet:X0};const{JettonMinter:wh}=vh,{JettonWallet:bh}=gh;G0.default={JettonMinter:wh,JettonWallet:bh};const xh=10*1e3,Eh=1*1e3,_s=r=>({workchain:r.workchain,shardId:r.shard,shardBlockNumber:r.seqno});class _h{constructor(t,e,n,o){this.provider=t,this.storage=e,this.onBlock=n,this.startMcBlockNumber=o?o.startMcBlockNumber:void 0,this.mcInterval=(o?o.mcInterval:void 0)||xh,this.shardsInterval=(o?o.shardsInterval:void 0)||Eh}async start(){if(this.stop(),!this.startMcBlockNumber&&(this.startMcBlockNumber=(await this.provider.getMasterchainInfo()).last.seqno,!this.startMcBlockNumber))throw new Error("Cannot get start mc block number from provider");const t=await this.provider.getMasterchainBlockHeader(this.startMcBlockNumber);if(this.startLT=t.end_lt,!this.startLT)throw new Error("Cannot get startLT from provider");let e=!1;const n=async()=>{if(!e){e=!0;try{const c=await this.storage.getLastMasterchainBlockNumber()||this.startMcBlockNumber;if(!c)throw new Error("no init masterchain block in storage");const x=(await this.provider.getMasterchainInfo()).last.seqno;if(!x)throw new Error("invalid last masterchain block from provider");for(let C=c+1;C<x;C++){const k=await this.provider.getBlockShards(C),R=await this.provider.getMasterchainBlockHeader(C);await this.onBlock(R,k),await this.storage.insertBlocks(C,k.shards.map(_s))}}catch(c){console.error(c)}e=!1}};this.mcIntervalId=setInterval(()=>n(),this.mcInterval),n();let o=!1;const i=async()=>{if(!o){o=!0;try{const c=await this.storage.getUnprocessedShardBlock();if(c){const{workchain:x,shardId:C,shardBlockNumber:k}=c,R=await this.provider.getBlockHeader(x,C,k);if(R.end_lt<this.startLT)await this.storage.setBlockProcessed(x,C,k,[]);else{await this.onBlock(R);const K=R.prev_blocks.map(_s);await this.storage.setBlockProcessed(x,C,k,K)}}}catch(c){console.log(c)}o=!1}};this.shardsIntervalId=setInterval(()=>i(),this.shardsInterval)}stop(){clearInterval(this.mcIntervalId),clearInterval(this.shardsIntervalId)}}var Ah={BlockSubscription:_h};class Ch{constructor(t){this.masterchainBlocks={},this.shardchainBlocks={},this.logFunction=t}async insertShardBlocks(t){for(const{workchain:e,shardId:n,shardBlockNumber:o}of t)this.shardchainBlocks[e+"_"+n+"_"+o]===void 0&&(this.logFunction&&this.logFunction("insert shard "+e+" "+n+" "+o),this.shardchainBlocks[e+"_"+n+"_"+o]=!1)}async insertBlocks(t,e){if(this.logFunction&&this.logFunction("mc processed "+t),this.masterchainBlocks[t]!==void 0)throw new Error("mc already exists "+t);this.masterchainBlocks[t]=!0,await this.insertShardBlocks(e)}async getLastMasterchainBlockNumber(){return Object.keys(this.masterchainBlocks).map(e=>Number(e)).sort((e,n)=>n-e)[0]}async setBlockProcessed(t,e,n,o){if(this.logFunction&&this.logFunction("shard processed "+t+" "+e+" "+n),this.shardchainBlocks[t+"_"+e+"_"+n]===void 0)throw new Error("shard not exists "+t+"_"+e+"_"+n);this.shardchainBlocks[t+"_"+e+"_"+n]=!0,await this.insertShardBlocks(o)}async getUnprocessedShardBlock(){for(let t in this.shardchainBlocks)if(this.shardchainBlocks[t]===!1){const e=t.split("_");return{workchain:Number(e[0]),shardId:e[1],shardBlockNumber:Number(e[2])}}}}var Bh={InMemoryBlockStorage:Ch};const{BlockSubscription:Mh}=Ah,{InMemoryBlockStorage:Fh}=Bh;var Sh={BlockSubscription:Mh,InMemoryBlockStorage:Fh};const{Contract:zn}=cr,{Cell:gn}=He,{hexToBytes:f5,BN:As,nacl:u5,bytesToBase64:l5}=Je;class Dh extends zn{constructor(t,e){e.code=gn.oneFromBoc("B5EE9C7241020F01000262000114FF00F4A413F4BCF2C80B0102012002030201480405036AF230DB3C5335A127A904F82327A128A90401BC5135A0F823B913B0F29EF800725210BE945387F0078E855386DB3CA4E2F82302DB3C0B0C0D0202CD06070121A0D0C9B67813F488DE0411F488DE0410130B048FD6D9E05E8698198FD201829846382C74E2F841999E98F9841083239BA395D497803F018B841083AB735BBED9E702984E382D9C74688462F863841083AB735BBED9E70156BA4E09040B0A0A080269F10FD22184093886D9E7C12C1083239BA39384008646582A803678B2801FD010A65B5658F89659FE4B9FD803FC1083239BA396D9E40E0A04F08E8D108C5F0C708210756E6B77DB3CE00AD31F308210706C7567831EB15210BA8F48305324A126A904F82326A127A904BEF27109FA4430A619F833D078D721D70B3F5260A11BBE8E923036F82370708210737562732759DB3C5077DE106910581047103645135042DB3CE0395F076C2232821064737472BA0A0A0D09011A8E897F821064737472DB3CE0300A006821B39982100400000072FB02DE70F8276F118010C8CB055005CF1621FA0214F40013CB6912CB1F830602948100A032DEC901FB000030ED44D0FA40FA40FA00D31FD31FD31FD31FD31FD307D31F30018021FA443020813A98DB3C01A619F833D078D721D70B3FA070F8258210706C7567228018C8CB055007CF165004FA0215CB6A12CB1F13CB3F01FA02CB00C973FB000E0040C8500ACF165008CF165006FA0214CB1F12CB1FCB1FCB1FCB1FCB07CB1FC9ED54005801A615F833D020D70B078100D1BA95810088D721DED307218100DDBA028100DEBA12B1F2E047D33F30A8AB0FE5855AB4"),super(t,e),this.methods.pay=()=>zn.createMethod(t,this.createPayExternalMessage()),this.methods.getSubscriptionData=this.getSubscriptionData.bind(this)}createDataCell(){const t=new gn;return t.bits.writeAddress(this.options.wallet),t.bits.writeAddress(this.options.beneficiary),t.bits.writeGrams(this.options.amount),t.bits.writeUint(this.options.period,32),t.bits.writeUint(this.options.startAt,32),t.bits.writeUint(this.options.timeout,32),t.bits.writeUint(0,32),t.bits.writeUint(0,32),t.bits.writeUint(0,8),t.bits.writeUint(this.options.subscriptionId,32),t}createBody(){const t=new gn;return t.bits.writeUint(new As(1886156135).add(new As(2147483648)),32),t}createSelfDestructBody(){const t=new gn;return t.bits.writeUint(1685288050,32),t}async getSubscriptionData(){const t=Et=>Et[0].toNumber()+":"+Et[1].toString(16),e=await this.getAddress(),n=await this.provider.call2(e.toString(),"get_subscription_data"),o=t(n[0]),i=t(n[1]),c=n[2],x=n[3].toNumber(),C=n[4].toNumber(),k=n[5].toNumber(),R=n[6].toNumber(),K=n[7].toNumber(),V=n[8].toNumber(),Z=n[9].toNumber();return{wallet:o,beneficiary:i,amount:c,period:x,startAt:C,timeout:k,lastPayment:R,lastRequest:K,failedAttempts:V,subscriptionId:Z}}async createPayExternalMessage(){const t=await this.getAddress(),e=zn.createExternalMessageHeader(t),n=zn.createCommonMsgInfo(e,null,null),o=new gn;return o.bits.writeUint(Math.floor(Date.now()/1e3),64),{address:t,message:n,body:o}}}var Ih={SubscriptionContract:Dh},$o={exports:{}},Xr=typeof Reflect=="object"?Reflect:null,Cs=Xr&&typeof Xr.apply=="function"?Xr.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},ni;Xr&&typeof Xr.ownKeys=="function"?ni=Xr.ownKeys:Object.getOwnPropertySymbols?ni=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ni=function(t){return Object.getOwnPropertyNames(t)};function Th(r){console&&console.warn&&console.warn(r)}var z0=Number.isNaN||function(t){return t!==t};function Te(){Te.init.call(this)}$o.exports=Te;$o.exports.once=$h;Te.EventEmitter=Te;Te.prototype._events=void 0;Te.prototype._eventsCount=0;Te.prototype._maxListeners=void 0;var Bs=10;function Ci(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Te,"defaultMaxListeners",{enumerable:!0,get:function(){return Bs},set:function(r){if(typeof r!="number"||r<0||z0(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Bs=r}});Te.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Te.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||z0(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Z0(r){return r._maxListeners===void 0?Te.defaultMaxListeners:r._maxListeners}Te.prototype.getMaxListeners=function(){return Z0(this)};Te.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o=t==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var c;if(e.length>0&&(c=e[0]),c instanceof Error)throw c;var x=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw x.context=c,x}var C=i[t];if(C===void 0)return!1;if(typeof C=="function")Cs(C,this,e);else for(var k=C.length,R=rf(C,k),n=0;n<k;++n)Cs(R[n],this,e);return!0};function J0(r,t,e,n){var o,i,c;if(Ci(e),i=r._events,i===void 0?(i=r._events=Object.create(null),r._eventsCount=0):(i.newListener!==void 0&&(r.emit("newListener",t,e.listener?e.listener:e),i=r._events),c=i[t]),c===void 0)c=i[t]=e,++r._eventsCount;else if(typeof c=="function"?c=i[t]=n?[e,c]:[c,e]:n?c.unshift(e):c.push(e),o=Z0(r),o>0&&c.length>o&&!c.warned){c.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=r,x.type=t,x.count=c.length,Th(x)}return r}Te.prototype.addListener=function(t,e){return J0(this,t,e,!1)};Te.prototype.on=Te.prototype.addListener;Te.prototype.prependListener=function(t,e){return J0(this,t,e,!0)};function Nh(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Q0(r,t,e){var n={fired:!1,wrapFn:void 0,target:r,type:t,listener:e},o=Nh.bind(n);return o.listener=e,n.wrapFn=o,o}Te.prototype.once=function(t,e){return Ci(e),this.on(t,Q0(this,t,e)),this};Te.prototype.prependOnceListener=function(t,e){return Ci(e),this.prependListener(t,Q0(this,t,e)),this};Te.prototype.removeListener=function(t,e){var n,o,i,c,x;if(Ci(e),o=this._events,o===void 0)return this;if(n=o[t],n===void 0)return this;if(n===e||n.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,c=n.length-1;c>=0;c--)if(n[c]===e||n[c].listener===e){x=n[c].listener,i=c;break}if(i<0)return this;i===0?n.shift():Rh(n,i),n.length===1&&(o[t]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",t,x||e)}return this};Te.prototype.off=Te.prototype.removeListener;Te.prototype.removeAllListeners=function(t){var e,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),c;for(o=0;o<i.length;++o)c=i[o],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(o=e.length-1;o>=0;o--)this.removeListener(t,e[o]);return this};function tf(r,t,e){var n=r._events;if(n===void 0)return[];var o=n[t];return o===void 0?[]:typeof o=="function"?e?[o.listener||o]:[o]:e?Uh(o):rf(o,o.length)}Te.prototype.listeners=function(t){return tf(this,t,!0)};Te.prototype.rawListeners=function(t){return tf(this,t,!1)};Te.listenerCount=function(r,t){return typeof r.listenerCount=="function"?r.listenerCount(t):ef.call(r,t)};Te.prototype.listenerCount=ef;function ef(r){var t=this._events;if(t!==void 0){var e=t[r];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}Te.prototype.eventNames=function(){return this._eventsCount>0?ni(this._events):[]};function rf(r,t){for(var e=new Array(t),n=0;n<t;++n)e[n]=r[n];return e}function Rh(r,t){for(;t+1<r.length;t++)r[t]=r[t+1];r.pop()}function Uh(r){for(var t=new Array(r.length),e=0;e<t.length;++e)t[e]=r[e].listener||r[e];return t}function $h(r,t){return new Promise(function(e,n){function o(c){r.removeListener(t,i),n(c)}function i(){typeof r.removeListener=="function"&&r.removeListener("error",o),e([].slice.call(arguments))}nf(r,t,i,{once:!0}),t!=="error"&&kh(r,o,{once:!0})})}function kh(r,t,e){typeof r.on=="function"&&nf(r,"error",t,e)}function nf(r,t,e,n){if(typeof r.on=="function")n.once?r.once(t,e):r.on(t,e);else if(typeof r.addEventListener=="function")r.addEventListener(t,function o(i){n.once&&r.removeEventListener(t,o),e(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var Oh=$o.exports,of={},sf={},ko=function(r,t){sf[r]=t},Bt=function(r){var t=function(n,o){Object.assign(this,o),this.name=r,this.message=n||r,this.stack=new Error().stack};return t.prototype=new Error,of[r]=t,t},af=function(r){if(typeof r=="object"&&r){try{var t=JSON.parse(r.message);t.message&&t.name&&(r=t)}catch{}var e=void 0;if(typeof r.name=="string"){var n=r.name,o=sf[n];if(o)e=o(r);else{var i=n==="Error"?Error:of[n];i||(console.warn("deserializing an unknown class '"+n+"'"),i=Bt(n)),e=Object.create(i.prototype);try{for(var c in r)r.hasOwnProperty(c)&&(e[c]=r[c])}catch{}}}else e=new Error(r.message);return!e.stack&&Error.captureStackTrace&&Error.captureStackTrace(e,af),e}return new Error(String(r))},Lh=function(r){return r&&(typeof r=="object"?ff(r,[]):typeof r=="function"?"[Function: "+(r.name||"anonymous")+"]":r)};function ff(r,t){var e={};t.push(r);for(var n=0,o=Object.keys(r);n<o.length;n++){var i=o[n],c=r[i];if(typeof c!="function"){if(!c||typeof c!="object"){e[i]=c;continue}if(t.indexOf(r[i])===-1){e[i]=ff(r[i],t.slice(0));continue}e[i]="[Circular]"}}return typeof r.name=="string"&&(e.name=r.name),typeof r.message=="string"&&(e.message=r.message),typeof r.stack=="string"&&(e.stack=r.stack),e}var Ph=Bt("AccountNameRequired"),jh=Bt("AccountNotSupported"),Hh=Bt("AmountRequired"),qh=Bt("BluetoothRequired"),Wh=Bt("BtcUnmatchedApp"),Vh=Bt("CantOpenDevice"),Kh=Bt("CashAddrNotSupported"),Gh=Bt("CurrencyNotSupported"),Yh=Bt("DeviceAppVerifyNotSupported"),Xh=Bt("DeviceGenuineSocketEarlyClose"),zh=Bt("DeviceNotGenuine"),Zh=Bt("DeviceOnDashboardExpected"),Jh=Bt("DeviceOnDashboardUnexpected"),Qh=Bt("DeviceInOSUExpected"),td=Bt("DeviceHalted"),ed=Bt("DeviceNameInvalid"),rd=Bt("DeviceSocketFail"),nd=Bt("DeviceSocketNoBulkStatus"),Bi=Bt("DisconnectedDevice"),Oo=Bt("DisconnectedDeviceDuringOperation"),id=Bt("EnpointConfig"),od=Bt("EthAppPleaseEnableContractData"),sd=Bt("FeeEstimationFailed"),ad=Bt("FirmwareNotRecognized"),fd=Bt("HardResetFail"),ud=Bt("InvalidXRPTag"),ld=Bt("InvalidAddress"),cd=Bt("InvalidAddressBecauseDestinationIsAlsoSource"),hd=Bt("LatestMCUInstalledError"),dd=Bt("UnknownMCU"),pd=Bt("LedgerAPIError"),vd=Bt("LedgerAPIErrorWithMessage"),md=Bt("LedgerAPINotAvailable"),yd=Bt("ManagerAppAlreadyInstalled"),gd=Bt("ManagerAppRelyOnBTC"),wd=Bt("ManagerAppDepInstallRequired"),bd=Bt("ManagerAppDepUninstallRequired"),xd=Bt("ManagerDeviceLocked"),Ed=Bt("ManagerFirmwareNotEnoughSpace"),_d=Bt("ManagerNotEnoughSpace"),Ad=Bt("ManagerUninstallBTCDep"),Cd=Bt("NetworkDown"),Bd=Bt("NoAddressesFound"),Md=Bt("NotEnoughBalance"),Fd=Bt("NotEnoughBalanceToDelegate"),Sd=Bt("NotEnoughBalanceInParentAccount"),Dd=Bt("NotEnoughSpendableBalance"),Id=Bt("NotEnoughBalanceBecauseDestinationNotCreated"),Td=Bt("NoAccessToCamera"),Nd=Bt("NotEnoughGas"),Rd=Bt("NotSupportedLegacyAddress"),Ud=Bt("GasLessThanEstimate"),$d=Bt("PasswordsDontMatch"),kd=Bt("PasswordIncorrect"),Od=Bt("RecommendSubAccountsToEmpty"),Ld=Bt("RecommendUndelegation"),Pd=Bt("TimeoutTagged"),jd=Bt("UnexpectedBootloader"),Hd=Bt("MCUNotGenuineToDashboard"),qd=Bt("RecipientRequired"),Wd=Bt("UnavailableTezosOriginatedAccountReceive"),Vd=Bt("UnavailableTezosOriginatedAccountSend"),Kd=Bt("UpdateFetchFileFail"),Gd=Bt("UpdateIncorrectHash"),Yd=Bt("UpdateIncorrectSig"),Xd=Bt("UpdateYourApp"),zd=Bt("UserRefusedDeviceNameChange"),Zd=Bt("UserRefusedAddress"),Jd=Bt("UserRefusedFirmwareUpdate"),Qd=Bt("UserRefusedAllowManager"),t1=Bt("UserRefusedOnDevice"),Nn=Bt("TransportOpenUserCancelled"),ao=Bt("TransportInterfaceNotAvailable"),uf=Bt("TransportRaceCondition"),lf=Bt("TransportWebUSBGestureRequired"),e1=Bt("DeviceShouldStayInApp"),r1=Bt("WebsocketConnectionError"),n1=Bt("WebsocketConnectionFailed"),i1=Bt("WrongDeviceForAccount"),o1=Bt("WrongAppForCurrency"),s1=Bt("ETHAddressNonEIP"),a1=Bt("CantScanQRCode"),f1=Bt("FeeNotLoaded"),u1=Bt("FeeRequired"),l1=Bt("FeeTooHigh"),c1=Bt("SyncError"),h1=Bt("PairingFailed"),d1=Bt("GenuineCheckFailed"),p1=Bt("LedgerAPI4xx"),v1=Bt("LedgerAPI5xx"),m1=Bt("FirmwareOrAppUpdateRequired"),y1=Bt("NoDBPathGiven"),g1=Bt("DBWrongPassword"),w1=Bt("DBNotReset");function Dr(r,t){this.name="TransportError",this.message=r,this.stack=new Error().stack,this.id=t}Dr.prototype=new Error;ko("TransportError",function(r){return new Dr(r.message,r.id)});var mi={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function cf(r){switch(r){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=r&&r<=28671)return"Internal error, please report"}function Mi(r){this.name="TransportStatusError";var t=Object.keys(mi).find(function(o){return mi[o]===r})||"UNKNOWN_ERROR",e=cf(r)||t,n=r.toString(16);this.message="Ledger device: "+e+" (0x"+n+")",this.stack=new Error().stack,this.statusCode=r,this.statusText=t}Mi.prototype=new Error;ko("TransportStatusError",function(r){return new Mi(r.statusCode)});var b1=Object.freeze(Object.defineProperty({__proto__:null,AccountNameRequiredError:Ph,AccountNotSupported:jh,AmountRequired:Hh,BluetoothRequired:qh,BtcUnmatchedApp:Wh,CantOpenDevice:Vh,CantScanQRCode:a1,CashAddrNotSupported:Kh,CurrencyNotSupported:Gh,DBNotReset:w1,DBWrongPassword:g1,DeviceAppVerifyNotSupported:Yh,DeviceGenuineSocketEarlyClose:Xh,DeviceHalted:td,DeviceInOSUExpected:Qh,DeviceNameInvalid:ed,DeviceNotGenuineError:zh,DeviceOnDashboardExpected:Zh,DeviceOnDashboardUnexpected:Jh,DeviceShouldStayInApp:e1,DeviceSocketFail:rd,DeviceSocketNoBulkStatus:nd,DisconnectedDevice:Bi,DisconnectedDeviceDuringOperation:Oo,ETHAddressNonEIP:s1,EnpointConfigError:id,EthAppPleaseEnableContractData:od,FeeEstimationFailed:sd,FeeNotLoaded:f1,FeeRequired:u1,FeeTooHigh:l1,FirmwareNotRecognized:ad,FirmwareOrAppUpdateRequired:m1,GasLessThanEstimate:Ud,GenuineCheckFailed:d1,HardResetFail:fd,InvalidAddress:ld,InvalidAddressBecauseDestinationIsAlsoSource:cd,InvalidXRPTag:ud,LatestMCUInstalledError:hd,LedgerAPI4xx:p1,LedgerAPI5xx:v1,LedgerAPIError:pd,LedgerAPIErrorWithMessage:vd,LedgerAPINotAvailable:md,MCUNotGenuineToDashboard:Hd,ManagerAppAlreadyInstalledError:yd,ManagerAppDepInstallRequired:wd,ManagerAppDepUninstallRequired:bd,ManagerAppRelyOnBTCError:gd,ManagerDeviceLockedError:xd,ManagerFirmwareNotEnoughSpaceError:Ed,ManagerNotEnoughSpaceError:_d,ManagerUninstallBTCDep:Ad,NetworkDown:Cd,NoAccessToCamera:Td,NoAddressesFound:Bd,NoDBPathGiven:y1,NotEnoughBalance:Md,NotEnoughBalanceBecauseDestinationNotCreated:Id,NotEnoughBalanceInParentAccount:Sd,NotEnoughBalanceToDelegate:Fd,NotEnoughGas:Nd,NotEnoughSpendableBalance:Dd,NotSupportedLegacyAddress:Rd,PairingFailed:h1,PasswordIncorrectError:kd,PasswordsDontMatchError:$d,RecipientRequired:qd,RecommendSubAccountsToEmpty:Od,RecommendUndelegation:Ld,StatusCodes:mi,SyncError:c1,TimeoutTagged:Pd,TransportError:Dr,TransportInterfaceNotAvailable:ao,TransportOpenUserCancelled:Nn,TransportRaceCondition:uf,TransportStatusError:Mi,TransportWebUSBGestureRequired:lf,UnavailableTezosOriginatedAccountReceive:Wd,UnavailableTezosOriginatedAccountSend:Vd,UnexpectedBootloader:jd,UnknownMCU:dd,UpdateFetchFileFail:Kd,UpdateIncorrectHash:Gd,UpdateIncorrectSig:Yd,UpdateYourApp:Xd,UserRefusedAddress:Zd,UserRefusedAllowManager:Qd,UserRefusedDeviceNameChange:zd,UserRefusedFirmwareUpdate:Jd,UserRefusedOnDevice:t1,WebsocketConnectionError:r1,WebsocketConnectionFailed:n1,WrongAppForCurrency:o1,WrongDeviceForAccount:i1,addCustomErrorDeserializer:ko,createCustomErrorClass:Bt,deserializeError:af,getAltStatusMessage:cf,serializeError:Lh},Symbol.toStringTag,{value:"Module"}));class Br{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new Oh,this.send=async(t,e,n,o,i=Buffer.alloc(0),c=[mi.OK])=>{if(i.length>=256)throw new Dr("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");const x=await this.exchange(Buffer.concat([Buffer.from([t,e,n,o]),Buffer.from([i.length]),i])),C=x.readUInt16BE(x.length-2);if(!c.some(k=>k===C))throw new Mi(C);return x},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async t=>{if(this.exchangeBusyPromise)throw new uf("An action was already pending on the Ledger device. Please deny or reconnect.");let e;const n=new Promise(c=>{e=c});this.exchangeBusyPromise=n;let o=!1;const i=setTimeout(()=>{o=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{const c=await t();return o&&this.emit("responsive"),c}finally{clearTimeout(i),e&&e(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(t){throw new Error("exchange not implemented")}setScrambleKey(t){}close(){return Promise.resolve()}on(t,e){this._events.on(t,e)}off(t,e){this._events.removeListener(t,e)}emit(t,...e){this._events.emit(t,...e)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(t){this.exchangeTimeout=t}setExchangeUnresponsiveTimeout(t){this.unresponsiveTimeout=t}static create(t=3e3,e){return new Promise((n,o)=>{let i=!1;const c=this.listen({next:C=>{i=!0,c&&c.unsubscribe(),x&&clearTimeout(x),this.open(C.descriptor,t).then(n,o)},error:C=>{x&&clearTimeout(x),o(C)},complete:()=>{x&&clearTimeout(x),i||o(new Dr(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),x=e?setTimeout(()=>{c.unsubscribe(),o(new Dr(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},e):null})}decorateAppAPIMethods(t,e,n){for(let o of e)t[o]=this.decorateAppAPIMethod(o,t[o],t,n)}decorateAppAPIMethod(t,e,n,o){return async(...i)=>{const{_appAPIlock:c}=this;if(c)return Promise.reject(new Dr("Ledger Device is busy (lock "+c+")","TransportLocked"));try{return this._appAPIlock=t,this.setScrambleKey(o),await e.apply(n,i)}finally{this._appAPIlock=null}}}}Br.isSupported=void 0;Br.list=void 0;Br.listen=void 0;Br.open=void 0;Br.ErrorMessage_ListenTimeout="No Ledger device found (timeout)";Br.ErrorMessage_NoDeviceFound="No Ledger device found";var Lo={},hf=Cr(b1);Object.defineProperty(Lo,"__esModule",{value:!0});var Po=Lo.default=void 0,Yi=hf;const Ms=5;function x1(r){const t=Buffer.alloc(2);return t.writeUInt16BE(r,0),t}const E1={data:Buffer.alloc(0),dataLength:0,sequence:0},_1=(r,t)=>({makeBlocks(e){let n=Buffer.concat([x1(e.length),e]);const o=t-5,i=Math.ceil(n.length/o);n=Buffer.concat([n,Buffer.alloc(i*o-n.length+1).fill(0)]);const c=[];for(let x=0;x<i;x++){const C=Buffer.alloc(5);C.writeUInt16BE(r,0),C.writeUInt8(Ms,2),C.writeUInt16BE(x,3);const k=n.slice(x*o,(x+1)*o);c.push(Buffer.concat([C,k]))}return c},reduceResponse(e,n){let{data:o,dataLength:i,sequence:c}=e||E1;if(n.readUInt16BE(0)!==r)throw new Yi.TransportError("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==Ms)throw new Yi.TransportError("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==c)throw new Yi.TransportError("Invalid sequence","InvalidSequence");e||(i=n.readUInt16BE(5)),c++;const x=n.slice(e?5:7);return o=Buffer.concat([o,x]),o.length>i&&(o=o.slice(0,i)),{data:o,dataLength:i,sequence:c}},getReducedResult(e){if(e&&e.dataLength===e.data.length)return e.data}});var A1=_1;Po=Lo.default=A1;var Nr={exports:{}};const C1="2.0.0",B1=256,M1=Number.MAX_SAFE_INTEGER||9007199254740991,F1=16;var Fi={SEMVER_SPEC_VERSION:C1,MAX_LENGTH:B1,MAX_SAFE_INTEGER:M1,MAX_SAFE_COMPONENT_LENGTH:F1};const S1=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};var Si=S1;(function(r,t){const{MAX_SAFE_COMPONENT_LENGTH:e}=Fi,n=Si;t=r.exports={};const o=t.re=[],i=t.src=[],c=t.t={};let x=0;const C=(k,R,K)=>{const V=x++;n(V,R),c[k]=V,i[V]=R,o[V]=new RegExp(R,K?"g":void 0)};C("NUMERICIDENTIFIER","0|[1-9]\\d*"),C("NUMERICIDENTIFIERLOOSE","[0-9]+"),C("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),C("MAINVERSION",`(${i[c.NUMERICIDENTIFIER]})\\.(${i[c.NUMERICIDENTIFIER]})\\.(${i[c.NUMERICIDENTIFIER]})`),C("MAINVERSIONLOOSE",`(${i[c.NUMERICIDENTIFIERLOOSE]})\\.(${i[c.NUMERICIDENTIFIERLOOSE]})\\.(${i[c.NUMERICIDENTIFIERLOOSE]})`),C("PRERELEASEIDENTIFIER",`(?:${i[c.NUMERICIDENTIFIER]}|${i[c.NONNUMERICIDENTIFIER]})`),C("PRERELEASEIDENTIFIERLOOSE",`(?:${i[c.NUMERICIDENTIFIERLOOSE]}|${i[c.NONNUMERICIDENTIFIER]})`),C("PRERELEASE",`(?:-(${i[c.PRERELEASEIDENTIFIER]}(?:\\.${i[c.PRERELEASEIDENTIFIER]})*))`),C("PRERELEASELOOSE",`(?:-?(${i[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[c.PRERELEASEIDENTIFIERLOOSE]})*))`),C("BUILDIDENTIFIER","[0-9A-Za-z-]+"),C("BUILD",`(?:\\+(${i[c.BUILDIDENTIFIER]}(?:\\.${i[c.BUILDIDENTIFIER]})*))`),C("FULLPLAIN",`v?${i[c.MAINVERSION]}${i[c.PRERELEASE]}?${i[c.BUILD]}?`),C("FULL",`^${i[c.FULLPLAIN]}$`),C("LOOSEPLAIN",`[v=\\s]*${i[c.MAINVERSIONLOOSE]}${i[c.PRERELEASELOOSE]}?${i[c.BUILD]}?`),C("LOOSE",`^${i[c.LOOSEPLAIN]}$`),C("GTLT","((?:<|>)?=?)"),C("XRANGEIDENTIFIERLOOSE",`${i[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),C("XRANGEIDENTIFIER",`${i[c.NUMERICIDENTIFIER]}|x|X|\\*`),C("XRANGEPLAIN",`[v=\\s]*(${i[c.XRANGEIDENTIFIER]})(?:\\.(${i[c.XRANGEIDENTIFIER]})(?:\\.(${i[c.XRANGEIDENTIFIER]})(?:${i[c.PRERELEASE]})?${i[c.BUILD]}?)?)?`),C("XRANGEPLAINLOOSE",`[v=\\s]*(${i[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[c.XRANGEIDENTIFIERLOOSE]})(?:${i[c.PRERELEASELOOSE]})?${i[c.BUILD]}?)?)?`),C("XRANGE",`^${i[c.GTLT]}\\s*${i[c.XRANGEPLAIN]}$`),C("XRANGELOOSE",`^${i[c.GTLT]}\\s*${i[c.XRANGEPLAINLOOSE]}$`),C("COERCE",`(^|[^\\d])(\\d{1,${e}})(?:\\.(\\d{1,${e}}))?(?:\\.(\\d{1,${e}}))?(?:$|[^\\d])`),C("COERCERTL",i[c.COERCE],!0),C("LONETILDE","(?:~>?)"),C("TILDETRIM",`(\\s*)${i[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",C("TILDE",`^${i[c.LONETILDE]}${i[c.XRANGEPLAIN]}$`),C("TILDELOOSE",`^${i[c.LONETILDE]}${i[c.XRANGEPLAINLOOSE]}$`),C("LONECARET","(?:\\^)"),C("CARETTRIM",`(\\s*)${i[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",C("CARET",`^${i[c.LONECARET]}${i[c.XRANGEPLAIN]}$`),C("CARETLOOSE",`^${i[c.LONECARET]}${i[c.XRANGEPLAINLOOSE]}$`),C("COMPARATORLOOSE",`^${i[c.GTLT]}\\s*(${i[c.LOOSEPLAIN]})$|^$`),C("COMPARATOR",`^${i[c.GTLT]}\\s*(${i[c.FULLPLAIN]})$|^$`),C("COMPARATORTRIM",`(\\s*)${i[c.GTLT]}\\s*(${i[c.LOOSEPLAIN]}|${i[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",C("HYPHENRANGE",`^\\s*(${i[c.XRANGEPLAIN]})\\s+-\\s+(${i[c.XRANGEPLAIN]})\\s*$`),C("HYPHENRANGELOOSE",`^\\s*(${i[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[c.XRANGEPLAINLOOSE]})\\s*$`),C("STAR","(<|>)?=?\\s*\\*"),C("GTE0","^\\s*>=\\s*0.0.0\\s*$"),C("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})(Nr,Nr.exports);const D1=["includePrerelease","loose","rtl"],I1=r=>r?typeof r!="object"?{loose:!0}:D1.filter(t=>r[t]).reduce((t,e)=>(t[e]=!0,t),{}):{};var Di=I1;const Fs=/^[0-9]+$/,df=(r,t)=>{const e=Fs.test(r),n=Fs.test(t);return e&&n&&(r=+r,t=+t),r===t?0:e&&!n?-1:n&&!e?1:r<t?-1:1},T1=(r,t)=>df(t,r);var fo={compareIdentifiers:df,rcompareIdentifiers:T1};const Zn=Si,{MAX_LENGTH:Ss,MAX_SAFE_INTEGER:Jn}=Fi,{re:Ds,t:Is}=Nr.exports,N1=Di,{compareIdentifiers:wn}=fo;class sr{constructor(t,e){if(e=N1(e),t instanceof sr){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Ss)throw new TypeError(`version is longer than ${Ss} characters`);Zn("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const n=t.trim().match(e.loose?Ds[Is.LOOSE]:Ds[Is.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Jn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Jn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Jn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const i=+o;if(i>=0&&i<Jn)return i}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Zn("SemVer.compare",this.version,this.options,t),!(t instanceof sr)){if(typeof t=="string"&&t===this.version)return 0;t=new sr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof sr||(t=new sr(t,this.options)),wn(this.major,t.major)||wn(this.minor,t.minor)||wn(this.patch,t.patch)}comparePre(t){if(t instanceof sr||(t=new sr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const n=this.prerelease[e],o=t.prerelease[e];if(Zn("prerelease compare",e,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return wn(n,o)}while(++e)}compareBuild(t){t instanceof sr||(t=new sr(t,this.options));let e=0;do{const n=this.build[e],o=t.build[e];if(Zn("prerelease compare",e,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return wn(n,o)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}var Qe=sr;const{MAX_LENGTH:R1}=Fi,{re:Ts,t:Ns}=Nr.exports,Rs=Qe,U1=Di,$1=(r,t)=>{if(t=U1(t),r instanceof Rs)return r;if(typeof r!="string"||r.length>R1||!(t.loose?Ts[Ns.LOOSE]:Ts[Ns.FULL]).test(r))return null;try{return new Rs(r,t)}catch{return null}};var on=$1;const k1=on,O1=(r,t)=>{const e=k1(r,t);return e?e.version:null};var L1=O1;const P1=on,j1=(r,t)=>{const e=P1(r.trim().replace(/^[=v]+/,""),t);return e?e.version:null};var H1=j1;const q1=Qe,W1=(r,t,e,n)=>{typeof e=="string"&&(n=e,e=void 0);try{return new q1(r,e).inc(t,n).version}catch{return null}};var V1=W1;const Us=Qe,K1=(r,t,e)=>new Us(r,e).compare(new Us(t,e));var hr=K1;const G1=hr,Y1=(r,t,e)=>G1(r,t,e)===0;var jo=Y1;const $s=on,X1=jo,z1=(r,t)=>{if(X1(r,t))return null;{const e=$s(r),n=$s(t),o=e.prerelease.length||n.prerelease.length,i=o?"pre":"",c=o?"prerelease":"";for(const x in e)if((x==="major"||x==="minor"||x==="patch")&&e[x]!==n[x])return i+x;return c}};var Z1=z1;const J1=Qe,Q1=(r,t)=>new J1(r,t).major;var tp=Q1;const ep=Qe,rp=(r,t)=>new ep(r,t).minor;var np=rp;const ip=Qe,op=(r,t)=>new ip(r,t).patch;var sp=op;const ap=on,fp=(r,t)=>{const e=ap(r,t);return e&&e.prerelease.length?e.prerelease:null};var up=fp;const lp=hr,cp=(r,t,e)=>lp(t,r,e);var hp=cp;const dp=hr,pp=(r,t)=>dp(r,t,!0);var vp=pp;const ks=Qe,mp=(r,t,e)=>{const n=new ks(r,e),o=new ks(t,e);return n.compare(o)||n.compareBuild(o)};var Ho=mp;const yp=Ho,gp=(r,t)=>r.sort((e,n)=>yp(e,n,t));var wp=gp;const bp=Ho,xp=(r,t)=>r.sort((e,n)=>bp(n,e,t));var Ep=xp;const _p=hr,Ap=(r,t,e)=>_p(r,t,e)>0;var Ii=Ap;const Cp=hr,Bp=(r,t,e)=>Cp(r,t,e)<0;var qo=Bp;const Mp=hr,Fp=(r,t,e)=>Mp(r,t,e)!==0;var pf=Fp;const Sp=hr,Dp=(r,t,e)=>Sp(r,t,e)>=0;var Wo=Dp;const Ip=hr,Tp=(r,t,e)=>Ip(r,t,e)<=0;var Vo=Tp;const Np=jo,Rp=pf,Up=Ii,$p=Wo,kp=qo,Op=Vo,Lp=(r,t,e,n)=>{switch(t){case"===":return typeof r=="object"&&(r=r.version),typeof e=="object"&&(e=e.version),r===e;case"!==":return typeof r=="object"&&(r=r.version),typeof e=="object"&&(e=e.version),r!==e;case"":case"=":case"==":return Np(r,e,n);case"!=":return Rp(r,e,n);case">":return Up(r,e,n);case">=":return $p(r,e,n);case"<":return kp(r,e,n);case"<=":return Op(r,e,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var vf=Lp;const Pp=Qe,jp=on,{re:Qn,t:ti}=Nr.exports,Hp=(r,t)=>{if(r instanceof Pp)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;t=t||{};let e=null;if(!t.rtl)e=r.match(Qn[ti.COERCE]);else{let n;for(;(n=Qn[ti.COERCERTL].exec(r))&&(!e||e.index+e[0].length!==r.length);)(!e||n.index+n[0].length!==e.index+e[0].length)&&(e=n),Qn[ti.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Qn[ti.COERCERTL].lastIndex=-1}return e===null?null:jp(`${e[2]}.${e[3]||"0"}.${e[4]||"0"}`,t)};var qp=Hp,Wp=De;De.Node=Hr;De.create=De;function De(r){var t=this;if(t instanceof De||(t=new De),t.tail=null,t.head=null,t.length=0,r&&typeof r.forEach=="function")r.forEach(function(o){t.push(o)});else if(arguments.length>0)for(var e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);return t}De.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var t=r.next,e=r.prev;return t&&(t.prev=e),e&&(e.next=t),r===this.head&&(this.head=t),r===this.tail&&(this.tail=e),r.list.length--,r.next=null,r.prev=null,r.list=null,t};De.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var t=this.head;r.list=this,r.next=t,t&&(t.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};De.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var t=this.tail;r.list=this,r.prev=t,t&&(t.next=r),this.tail=r,this.head||(this.head=r),this.length++}};De.prototype.push=function(){for(var r=0,t=arguments.length;r<t;r++)Kp(this,arguments[r]);return this.length};De.prototype.unshift=function(){for(var r=0,t=arguments.length;r<t;r++)Gp(this,arguments[r]);return this.length};De.prototype.pop=function(){if(!!this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};De.prototype.shift=function(){if(!!this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};De.prototype.forEach=function(r,t){t=t||this;for(var e=this.head,n=0;e!==null;n++)r.call(t,e.value,n,this),e=e.next};De.prototype.forEachReverse=function(r,t){t=t||this;for(var e=this.tail,n=this.length-1;e!==null;n--)r.call(t,e.value,n,this),e=e.prev};De.prototype.get=function(r){for(var t=0,e=this.head;e!==null&&t<r;t++)e=e.next;if(t===r&&e!==null)return e.value};De.prototype.getReverse=function(r){for(var t=0,e=this.tail;e!==null&&t<r;t++)e=e.prev;if(t===r&&e!==null)return e.value};De.prototype.map=function(r,t){t=t||this;for(var e=new De,n=this.head;n!==null;)e.push(r.call(t,n.value,this)),n=n.next;return e};De.prototype.mapReverse=function(r,t){t=t||this;for(var e=new De,n=this.tail;n!==null;)e.push(r.call(t,n.value,this)),n=n.prev;return e};De.prototype.reduce=function(r,t){var e,n=this.head;if(arguments.length>1)e=t;else if(this.head)n=this.head.next,e=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;n!==null;o++)e=r(e,n.value,o),n=n.next;return e};De.prototype.reduceReverse=function(r,t){var e,n=this.tail;if(arguments.length>1)e=t;else if(this.tail)n=this.tail.prev,e=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;n!==null;o--)e=r(e,n.value,o),n=n.prev;return e};De.prototype.toArray=function(){for(var r=new Array(this.length),t=0,e=this.head;e!==null;t++)r[t]=e.value,e=e.next;return r};De.prototype.toArrayReverse=function(){for(var r=new Array(this.length),t=0,e=this.tail;e!==null;t++)r[t]=e.value,e=e.prev;return r};De.prototype.slice=function(r,t){t=t||this.length,t<0&&(t+=this.length),r=r||0,r<0&&(r+=this.length);var e=new De;if(t<r||t<0)return e;r<0&&(r=0),t>this.length&&(t=this.length);for(var n=0,o=this.head;o!==null&&n<r;n++)o=o.next;for(;o!==null&&n<t;n++,o=o.next)e.push(o.value);return e};De.prototype.sliceReverse=function(r,t){t=t||this.length,t<0&&(t+=this.length),r=r||0,r<0&&(r+=this.length);var e=new De;if(t<r||t<0)return e;r<0&&(r=0),t>this.length&&(t=this.length);for(var n=this.length,o=this.tail;o!==null&&n>t;n--)o=o.prev;for(;o!==null&&n>r;n--,o=o.prev)e.push(o.value);return e};De.prototype.splice=function(r,t,...e){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,o=this.head;o!==null&&n<r;n++)o=o.next;for(var i=[],n=0;o&&n<t;n++)i.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var n=0;n<e.length;n++)o=Vp(this,o,e[n]);return i};De.prototype.reverse=function(){for(var r=this.head,t=this.tail,e=r;e!==null;e=e.prev){var n=e.prev;e.prev=e.next,e.next=n}return this.head=t,this.tail=r,this};function Vp(r,t,e){var n=t===r.head?new Hr(e,null,t,r):new Hr(e,t,t.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function Kp(r,t){r.tail=new Hr(t,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function Gp(r,t){r.head=new Hr(t,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Hr(r,t,e,n){if(!(this instanceof Hr))return new Hr(r,t,e,n);this.list=n,this.value=r,t?(t.next=this,this.prev=t):this.prev=null,e?(e.prev=this,this.next=e):this.next=null}try{require("./iterator.js")(De)}catch{}const Yp=Wp,Lr=Symbol("max"),Er=Symbol("length"),Kr=Symbol("lengthCalculator"),Fn=Symbol("allowStale"),Pr=Symbol("maxAge"),xr=Symbol("dispose"),Os=Symbol("noDisposeOnSet"),qe=Symbol("lruList"),ar=Symbol("cache"),mf=Symbol("updateAgeOnGet"),Xi=()=>1;class Xp{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Lr]=t.max||1/0;const e=t.length||Xi;if(this[Kr]=typeof e!="function"?Xi:e,this[Fn]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Pr]=t.maxAge||0,this[xr]=t.dispose,this[Os]=t.noDisposeOnSet||!1,this[mf]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Lr]=t||1/0,bn(this)}get max(){return this[Lr]}set allowStale(t){this[Fn]=!!t}get allowStale(){return this[Fn]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Pr]=t,bn(this)}get maxAge(){return this[Pr]}set lengthCalculator(t){typeof t!="function"&&(t=Xi),t!==this[Kr]&&(this[Kr]=t,this[Er]=0,this[qe].forEach(e=>{e.length=this[Kr](e.value,e.key),this[Er]+=e.length})),bn(this)}get lengthCalculator(){return this[Kr]}get length(){return this[Er]}get itemCount(){return this[qe].length}rforEach(t,e){e=e||this;for(let n=this[qe].tail;n!==null;){const o=n.prev;Ls(this,t,n,e),n=o}}forEach(t,e){e=e||this;for(let n=this[qe].head;n!==null;){const o=n.next;Ls(this,t,n,e),n=o}}keys(){return this[qe].toArray().map(t=>t.key)}values(){return this[qe].toArray().map(t=>t.value)}reset(){this[xr]&&this[qe]&&this[qe].length&&this[qe].forEach(t=>this[xr](t.key,t.value)),this[ar]=new Map,this[qe]=new Yp,this[Er]=0}dump(){return this[qe].map(t=>yi(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[qe]}set(t,e,n){if(n=n||this[Pr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const o=n?Date.now():0,i=this[Kr](e,t);if(this[ar].has(t)){if(i>this[Lr])return zr(this,this[ar].get(t)),!1;const C=this[ar].get(t).value;return this[xr]&&(this[Os]||this[xr](t,C.value)),C.now=o,C.maxAge=n,C.value=e,this[Er]+=i-C.length,C.length=i,this.get(t),bn(this),!0}const c=new zp(t,e,i,o,n);return c.length>this[Lr]?(this[xr]&&this[xr](t,e),!1):(this[Er]+=c.length,this[qe].unshift(c),this[ar].set(t,this[qe].head),bn(this),!0)}has(t){if(!this[ar].has(t))return!1;const e=this[ar].get(t).value;return!yi(this,e)}get(t){return zi(this,t,!0)}peek(t){return zi(this,t,!1)}pop(){const t=this[qe].tail;return t?(zr(this,t),t.value):null}del(t){zr(this,this[ar].get(t))}load(t){this.reset();const e=Date.now();for(let n=t.length-1;n>=0;n--){const o=t[n],i=o.e||0;if(i===0)this.set(o.k,o.v);else{const c=i-e;c>0&&this.set(o.k,o.v,c)}}}prune(){this[ar].forEach((t,e)=>zi(this,e,!1))}}const zi=(r,t,e)=>{const n=r[ar].get(t);if(n){const o=n.value;if(yi(r,o)){if(zr(r,n),!r[Fn])return}else e&&(r[mf]&&(n.value.now=Date.now()),r[qe].unshiftNode(n));return o.value}},yi=(r,t)=>{if(!t||!t.maxAge&&!r[Pr])return!1;const e=Date.now()-t.now;return t.maxAge?e>t.maxAge:r[Pr]&&e>r[Pr]},bn=r=>{if(r[Er]>r[Lr])for(let t=r[qe].tail;r[Er]>r[Lr]&&t!==null;){const e=t.prev;zr(r,t),t=e}},zr=(r,t)=>{if(t){const e=t.value;r[xr]&&r[xr](e.key,e.value),r[Er]-=e.length,r[ar].delete(e.key),r[qe].removeNode(t)}};class zp{constructor(t,e,n,o,i){this.key=t,this.value=e,this.length=n,this.now=o,this.maxAge=i||0}}const Ls=(r,t,e,n)=>{let o=e.value;yi(r,o)&&(zr(r,e),r[Fn]||(o=void 0)),o&&t.call(n,o.value,o.key,r)};var Zp=Xp;class Sn{constructor(t,e){if(e=Qp(e),t instanceof Sn)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new Sn(t.raw,e);if(t instanceof uo)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const n=this.set[0];if(this.set=this.set.filter(o=>!js(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(const o of this.set)if(o.length===1&&i2(o[0])){this.set=[o];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const n=`parseRange:${Object.keys(this.options).join(",")}:${t}`,o=Ps.get(n);if(o)return o;const i=this.options.loose,c=i?Xe[We.HYPHENRANGELOOSE]:Xe[We.HYPHENRANGE];t=t.replace(c,p2(this.options.includePrerelease)),ke("hyphen replace",t),t=t.replace(Xe[We.COMPARATORTRIM],e2),ke("comparator trim",t,Xe[We.COMPARATORTRIM]),t=t.replace(Xe[We.TILDETRIM],r2),t=t.replace(Xe[We.CARETTRIM],n2),t=t.split(/\s+/).join(" ");const x=i?Xe[We.COMPARATORLOOSE]:Xe[We.COMPARATOR],C=t.split(" ").map(K=>o2(K,this.options)).join(" ").split(/\s+/).map(K=>d2(K,this.options)).filter(this.options.loose?K=>!!K.match(x):()=>!0).map(K=>new uo(K,this.options));C.length;const k=new Map;for(const K of C){if(js(K))return[K];k.set(K.value,K)}k.size>1&&k.has("")&&k.delete("");const R=[...k.values()];return Ps.set(n,R),R}intersects(t,e){if(!(t instanceof Sn))throw new TypeError("a Range is required");return this.set.some(n=>Hs(n,e)&&t.set.some(o=>Hs(o,e)&&n.every(i=>o.every(c=>i.intersects(c,e)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new t2(t,this.options)}catch{return!1}for(let e=0;e<this.set.length;e++)if(v2(this.set[e],t,this.options))return!0;return!1}}var dr=Sn;const Jp=Zp,Ps=new Jp({max:1e3}),Qp=Di,uo=Ti,ke=Si,t2=Qe,{re:Xe,t:We,comparatorTrimReplace:e2,tildeTrimReplace:r2,caretTrimReplace:n2}=Nr.exports,js=r=>r.value==="<0.0.0-0",i2=r=>r.value==="",Hs=(r,t)=>{let e=!0;const n=r.slice();let o=n.pop();for(;e&&n.length;)e=n.every(i=>o.intersects(i,t)),o=n.pop();return e},o2=(r,t)=>(ke("comp",r,t),r=f2(r,t),ke("caret",r),r=s2(r,t),ke("tildes",r),r=l2(r,t),ke("xrange",r),r=h2(r,t),ke("stars",r),r),ze=r=>!r||r.toLowerCase()==="x"||r==="*",s2=(r,t)=>r.trim().split(/\s+/).map(e=>a2(e,t)).join(" "),a2=(r,t)=>{const e=t.loose?Xe[We.TILDELOOSE]:Xe[We.TILDE];return r.replace(e,(n,o,i,c,x)=>{ke("tilde",r,n,o,i,c,x);let C;return ze(o)?C="":ze(i)?C=`>=${o}.0.0 <${+o+1}.0.0-0`:ze(c)?C=`>=${o}.${i}.0 <${o}.${+i+1}.0-0`:x?(ke("replaceTilde pr",x),C=`>=${o}.${i}.${c}-${x} <${o}.${+i+1}.0-0`):C=`>=${o}.${i}.${c} <${o}.${+i+1}.0-0`,ke("tilde return",C),C})},f2=(r,t)=>r.trim().split(/\s+/).map(e=>u2(e,t)).join(" "),u2=(r,t)=>{ke("caret",r,t);const e=t.loose?Xe[We.CARETLOOSE]:Xe[We.CARET],n=t.includePrerelease?"-0":"";return r.replace(e,(o,i,c,x,C)=>{ke("caret",r,o,i,c,x,C);let k;return ze(i)?k="":ze(c)?k=`>=${i}.0.0${n} <${+i+1}.0.0-0`:ze(x)?i==="0"?k=`>=${i}.${c}.0${n} <${i}.${+c+1}.0-0`:k=`>=${i}.${c}.0${n} <${+i+1}.0.0-0`:C?(ke("replaceCaret pr",C),i==="0"?c==="0"?k=`>=${i}.${c}.${x}-${C} <${i}.${c}.${+x+1}-0`:k=`>=${i}.${c}.${x}-${C} <${i}.${+c+1}.0-0`:k=`>=${i}.${c}.${x}-${C} <${+i+1}.0.0-0`):(ke("no pr"),i==="0"?c==="0"?k=`>=${i}.${c}.${x}${n} <${i}.${c}.${+x+1}-0`:k=`>=${i}.${c}.${x}${n} <${i}.${+c+1}.0-0`:k=`>=${i}.${c}.${x} <${+i+1}.0.0-0`),ke("caret return",k),k})},l2=(r,t)=>(ke("replaceXRanges",r,t),r.split(/\s+/).map(e=>c2(e,t)).join(" ")),c2=(r,t)=>{r=r.trim();const e=t.loose?Xe[We.XRANGELOOSE]:Xe[We.XRANGE];return r.replace(e,(n,o,i,c,x,C)=>{ke("xRange",r,n,o,i,c,x,C);const k=ze(i),R=k||ze(c),K=R||ze(x),V=K;return o==="="&&V&&(o=""),C=t.includePrerelease?"-0":"",k?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&V?(R&&(c=0),x=0,o===">"?(o=">=",R?(i=+i+1,c=0,x=0):(c=+c+1,x=0)):o==="<="&&(o="<",R?i=+i+1:c=+c+1),o==="<"&&(C="-0"),n=`${o+i}.${c}.${x}${C}`):R?n=`>=${i}.0.0${C} <${+i+1}.0.0-0`:K&&(n=`>=${i}.${c}.0${C} <${i}.${+c+1}.0-0`),ke("xRange return",n),n})},h2=(r,t)=>(ke("replaceStars",r,t),r.trim().replace(Xe[We.STAR],"")),d2=(r,t)=>(ke("replaceGTE0",r,t),r.trim().replace(Xe[t.includePrerelease?We.GTE0PRE:We.GTE0],"")),p2=r=>(t,e,n,o,i,c,x,C,k,R,K,V,Z)=>(ze(n)?e="":ze(o)?e=`>=${n}.0.0${r?"-0":""}`:ze(i)?e=`>=${n}.${o}.0${r?"-0":""}`:c?e=`>=${e}`:e=`>=${e}${r?"-0":""}`,ze(k)?C="":ze(R)?C=`<${+k+1}.0.0-0`:ze(K)?C=`<${k}.${+R+1}.0-0`:V?C=`<=${k}.${R}.${K}-${V}`:r?C=`<${k}.${R}.${+K+1}-0`:C=`<=${C}`,`${e} ${C}`.trim()),v2=(r,t,e)=>{for(let n=0;n<r.length;n++)if(!r[n].test(t))return!1;if(t.prerelease.length&&!e.includePrerelease){for(let n=0;n<r.length;n++)if(ke(r[n].semver),r[n].semver!==uo.ANY&&r[n].semver.prerelease.length>0){const o=r[n].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0},xn=Symbol("SemVer ANY");class gi{static get ANY(){return xn}constructor(t,e){if(e=m2(e),t instanceof gi){if(t.loose===!!e.loose)return t;t=t.value}Ji("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===xn?this.value="":this.value=this.operator+this.semver.version,Ji("comp",this)}parse(t){const e=this.options.loose?qs[Ws.COMPARATORLOOSE]:qs[Ws.COMPARATOR],n=t.match(e);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Vs(n[2],this.options.loose):this.semver=xn}toString(){return this.value}test(t){if(Ji("Comparator.test",t,this.options.loose),this.semver===xn||t===xn)return!0;if(typeof t=="string")try{t=new Vs(t,this.options)}catch{return!1}return Zi(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof gi))throw new TypeError("a Comparator is required");if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Ks(t.value,e).test(this.value);if(t.operator==="")return t.value===""?!0:new Ks(this.value,e).test(t.semver);const n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),o=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),i=this.semver.version===t.semver.version,c=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),x=Zi(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),C=Zi(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||o||i&&c||x||C}}var Ti=gi;const m2=Di,{re:qs,t:Ws}=Nr.exports,Zi=vf,Ji=Si,Vs=Qe,Ks=dr,y2=dr,g2=(r,t,e)=>{try{t=new y2(t,e)}catch{return!1}return t.test(r)};var Ni=g2;const w2=dr,b2=(r,t)=>new w2(r,t).set.map(e=>e.map(n=>n.value).join(" ").trim().split(" "));var x2=b2;const E2=Qe,_2=dr,A2=(r,t,e)=>{let n=null,o=null,i=null;try{i=new _2(t,e)}catch{return null}return r.forEach(c=>{i.test(c)&&(!n||o.compare(c)===-1)&&(n=c,o=new E2(n,e))}),n};var C2=A2;const B2=Qe,M2=dr,F2=(r,t,e)=>{let n=null,o=null,i=null;try{i=new M2(t,e)}catch{return null}return r.forEach(c=>{i.test(c)&&(!n||o.compare(c)===1)&&(n=c,o=new B2(n,e))}),n};var S2=F2;const Qi=Qe,D2=dr,Gs=Ii,I2=(r,t)=>{r=new D2(r,t);let e=new Qi("0.0.0");if(r.test(e)||(e=new Qi("0.0.0-0"),r.test(e)))return e;e=null;for(let n=0;n<r.set.length;++n){const o=r.set[n];let i=null;o.forEach(c=>{const x=new Qi(c.semver.version);switch(c.operator){case">":x.prerelease.length===0?x.patch++:x.prerelease.push(0),x.raw=x.format();case"":case">=":(!i||Gs(x,i))&&(i=x);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),i&&(!e||Gs(e,i))&&(e=i)}return e&&r.test(e)?e:null};var T2=I2;const N2=dr,R2=(r,t)=>{try{return new N2(r,t).range||"*"}catch{return null}};var U2=R2;const $2=Qe,yf=Ti,{ANY:k2}=yf,O2=dr,L2=Ni,Ys=Ii,Xs=qo,P2=Vo,j2=Wo,H2=(r,t,e,n)=>{r=new $2(r,n),t=new O2(t,n);let o,i,c,x,C;switch(e){case">":o=Ys,i=P2,c=Xs,x=">",C=">=";break;case"<":o=Xs,i=j2,c=Ys,x="<",C="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(L2(r,t,n))return!1;for(let k=0;k<t.set.length;++k){const R=t.set[k];let K=null,V=null;if(R.forEach(Z=>{Z.semver===k2&&(Z=new yf(">=0.0.0")),K=K||Z,V=V||Z,o(Z.semver,K.semver,n)?K=Z:c(Z.semver,V.semver,n)&&(V=Z)}),K.operator===x||K.operator===C||(!V.operator||V.operator===x)&&i(r,V.semver))return!1;if(V.operator===C&&c(r,V.semver))return!1}return!0};var Ko=H2;const q2=Ko,W2=(r,t,e)=>q2(r,t,">",e);var V2=W2;const K2=Ko,G2=(r,t,e)=>K2(r,t,"<",e);var Y2=G2;const zs=dr,X2=(r,t,e)=>(r=new zs(r,e),t=new zs(t,e),r.intersects(t));var z2=X2;const Z2=Ni,J2=hr;var Q2=(r,t,e)=>{const n=[];let o=null,i=null;const c=r.sort((R,K)=>J2(R,K,e));for(const R of c)Z2(R,t,e)?(i=R,o||(o=R)):(i&&n.push([o,i]),i=null,o=null);o&&n.push([o,null]);const x=[];for(const[R,K]of n)R===K?x.push(R):!K&&R===c[0]?x.push("*"):K?R===c[0]?x.push(`<=${K}`):x.push(`${R} - ${K}`):x.push(`>=${R}`);const C=x.join(" || "),k=typeof t.raw=="string"?t.raw:String(t);return C.length<k.length?C:t};const Zs=dr,ii=Ti,{ANY:to}=ii,En=Ni,Go=hr,tv=(r,t,e={})=>{if(r===t)return!0;r=new Zs(r,e),t=new Zs(t,e);let n=!1;t:for(const o of r.set){for(const i of t.set){const c=ev(o,i,e);if(n=n||c!==null,c)continue t}if(n)return!1}return!0},ev=(r,t,e)=>{if(r===t)return!0;if(r.length===1&&r[0].semver===to){if(t.length===1&&t[0].semver===to)return!0;e.includePrerelease?r=[new ii(">=0.0.0-0")]:r=[new ii(">=0.0.0")]}if(t.length===1&&t[0].semver===to){if(e.includePrerelease)return!0;t=[new ii(">=0.0.0")]}const n=new Set;let o,i;for(const Z of r)Z.operator===">"||Z.operator===">="?o=Js(o,Z,e):Z.operator==="<"||Z.operator==="<="?i=Qs(i,Z,e):n.add(Z.semver);if(n.size>1)return null;let c;if(o&&i){if(c=Go(o.semver,i.semver,e),c>0)return null;if(c===0&&(o.operator!==">="||i.operator!=="<="))return null}for(const Z of n){if(o&&!En(Z,String(o),e)||i&&!En(Z,String(i),e))return null;for(const Et of t)if(!En(Z,String(Et),e))return!1;return!0}let x,C,k,R,K=i&&!e.includePrerelease&&i.semver.prerelease.length?i.semver:!1,V=o&&!e.includePrerelease&&o.semver.prerelease.length?o.semver:!1;K&&K.prerelease.length===1&&i.operator==="<"&&K.prerelease[0]===0&&(K=!1);for(const Z of t){if(R=R||Z.operator===">"||Z.operator===">=",k=k||Z.operator==="<"||Z.operator==="<=",o){if(V&&Z.semver.prerelease&&Z.semver.prerelease.length&&Z.semver.major===V.major&&Z.semver.minor===V.minor&&Z.semver.patch===V.patch&&(V=!1),Z.operator===">"||Z.operator===">="){if(x=Js(o,Z,e),x===Z&&x!==o)return!1}else if(o.operator===">="&&!En(o.semver,String(Z),e))return!1}if(i){if(K&&Z.semver.prerelease&&Z.semver.prerelease.length&&Z.semver.major===K.major&&Z.semver.minor===K.minor&&Z.semver.patch===K.patch&&(K=!1),Z.operator==="<"||Z.operator==="<="){if(C=Qs(i,Z,e),C===Z&&C!==i)return!1}else if(i.operator==="<="&&!En(i.semver,String(Z),e))return!1}if(!Z.operator&&(i||o)&&c!==0)return!1}return!(o&&k&&!i&&c!==0||i&&R&&!o&&c!==0||V||K)},Js=(r,t,e)=>{if(!r)return t;const n=Go(r.semver,t.semver,e);return n>0?r:n<0||t.operator===">"&&r.operator===">="?t:r},Qs=(r,t,e)=>{if(!r)return t;const n=Go(r.semver,t.semver,e);return n<0?r:n>0||t.operator==="<"&&r.operator==="<="?t:r};var rv=tv;const eo=Nr.exports;var ta={re:eo.re,src:eo.src,tokens:eo.t,SEMVER_SPEC_VERSION:Fi.SEMVER_SPEC_VERSION,SemVer:Qe,compareIdentifiers:fo.compareIdentifiers,rcompareIdentifiers:fo.rcompareIdentifiers,parse:on,valid:L1,clean:H1,inc:V1,diff:Z1,major:tp,minor:np,patch:sp,prerelease:up,compare:hr,rcompare:hp,compareLoose:vp,compareBuild:Ho,sort:wp,rsort:Ep,gt:Ii,lt:qo,eq:jo,neq:pf,gte:Wo,lte:Vo,cmp:vf,coerce:qp,Comparator:Ti,Range:dr,satisfies:Ni,toComparators:x2,maxSatisfying:C2,minSatisfying:S2,minVersion:T2,validRange:U2,outside:Ko,gtr:V2,ltr:Y2,intersects:z2,simplifyRange:Q2,subset:rv};const lo={blue:{id:"blue",productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,blockSize:4*1024,getBlockSize:r=>4*1024},nanoS:{id:"nanoS",productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,blockSize:4*1024,getBlockSize:r=>ta.lt(ta.coerce(r),"2.0.0")?4*1024:2*1024},nanoX:{id:"nanoX",productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,blockSize:4*1024,getBlockSize:r=>4*1024,bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572"}]}},ea=Object.values(lo),Ri=11415,Ui=r=>{const t=ea.find(o=>o.legacyUsbProductId===r);if(t)return t;const e=r>>8;return ea.find(o=>o.productIdMM===e)},gf=[],co={};for(let r in lo){const t=lo[r],{bluetoothSpec:e}=t;if(e)for(let n=0;n<e.length;n++){const o=e[n];gf.push(o.serviceUuid),co[o.serviceUuid]=co[o.serviceUuid.replace(/-/g,"")]=as({deviceModel:t},o)}}const nv=()=>gf,iv=r=>co[r.toLowerCase()];let ov=0;const Mr=[],Le=(r,t,e)=>{const n={type:r,id:String(++ov),date:new Date};t&&(n.message=t),e&&(n.data=e),sv(n)},wf=r=>(Mr.push(r),()=>{const t=Mr.indexOf(r);t!==-1&&(Mr[t]=Mr[Mr.length-1],Mr.pop())});function sv(r){for(let t=0;t<Mr.length;t++)try{Mr[t](r)}catch(e){console.error(e)}}typeof window!="undefined"&&(window.__ledgerLogsListen=wf);var av=Object.freeze(Object.defineProperty({__proto__:null,log:Le,listen:wf},Symbol.toStringTag,{value:"Module"}));const fv=[{vendorId:Ri}];async function bf(){return await navigator.usb.requestDevice({filters:fv})}async function Yo(){return(await navigator.usb.getDevices()).filter(t=>t.vendorId===Ri)}async function uv(){const r=await Yo();return r.length>0?r[0]:bf()}const lv=()=>Promise.resolve(!!navigator&&!!navigator.usb&&typeof navigator.usb.getDevices=="function"),cv=1,ra=3;class Ir extends Br{constructor(t,e){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(Math.random()*65535),this.packetSize=64,this.interfaceNumber=void 0,this._disconnectEmitted=!1,this._emitDisconnect=n=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",n))},this.exchange=n=>this.exchangeAtomicImpl(async()=>{const{channel:o,packetSize:i}=this;Le("apdu","=> "+n.toString("hex"));const c=Po(o,i),x=c.makeBlocks(n);for(let R=0;R<x.length;R++)await this.device.transferOut(ra,x[R]);let C,k;for(;!(C=c.getReducedResult(k));){const R=await this.device.transferIn(ra,i),K=Buffer.from(R.data.buffer);k=c.reduceResponse(k,K)}return Le("apdu","<= "+C.toString("hex")),C}).catch(o=>{throw o&&o.message&&o.message.includes("disconnected")?(this._emitDisconnect(o),new Oo(o.message)):o}),this.device=t,this.interfaceNumber=e,this.deviceModel=Ui(t.productId)}static async request(){const t=await bf();return Ir.open(t)}static async openConnected(){const t=await Yo();return t.length===0?null:Ir.open(t[0])}static async open(t){await t.open(),t.configuration===null&&await t.selectConfiguration(cv),await na(t);const e=t.configurations[0].interfaces.find(({alternates:c})=>c.some(x=>x.interfaceClass===255));if(!e)throw new ao("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const n=e.interfaceNumber;try{await t.claimInterface(n)}catch(c){throw await t.close(),new ao(c.message)}const o=new Ir(t,n),i=c=>{t===c.device&&(navigator.usb.removeEventListener("disconnect",i),o._emitDisconnect(new Bi))};return navigator.usb.addEventListener("disconnect",i),o}async close(){await this.exchangeBusyPromise,await this.device.releaseInterface(this.interfaceNumber),await na(this.device),await this.device.close()}setScrambleKey(){}}Ir.isSupported=lv;Ir.list=Yo;Ir.listen=r=>{let t=!1;uv().then(n=>{if(!t){const o=Ui(n.productId);r.next({type:"add",descriptor:n,deviceModel:o}),r.complete()}},n=>{window.DOMException&&n instanceof window.DOMException&&n.code===18?r.error(new lf(n.message)):r.error(new Nn(n.message))});function e(){t=!0}return{unsubscribe:e}};async function na(r){try{await r.reset()}catch(t){console.warn(t)}}var hv=Object.freeze(Object.defineProperty({__proto__:null,default:Ir},Symbol.toStringTag,{value:"Module"})),dv=Cr(hv);const pv=[{vendorId:Ri}],vv=()=>Promise.resolve(!!(global.navigator&&global.navigator.hid)),wi=()=>{const{hid:r}=navigator;if(!r)throw new Dr("navigator.hid is not supported","HIDNotSupported");return r};async function xf(){const r=await wi().requestDevice({filters:pv});return Array.isArray(r)?r:[r]}async function Xo(){return(await wi().getDevices()).filter(t=>t.vendorId===Ri)}async function mv(){const r=await Xo();return r.length>0?r[0]:(await xf())[0]}class Tr extends Br{constructor(t){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(Math.random()*65535),this.packetSize=64,this.inputs=[],this.inputCallback=void 0,this.read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise(e=>{this.inputCallback=e}),this.onInputReport=e=>{const n=Buffer.from(e.data.buffer);this.inputCallback?(this.inputCallback(n),this.inputCallback=null):this.inputs.push(n)},this._disconnectEmitted=!1,this._emitDisconnect=e=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",e))},this.exchange=e=>this.exchangeAtomicImpl(async()=>{const{channel:n,packetSize:o}=this;Le("apdu","=> "+e.toString("hex"));const i=Po(n,o),c=i.makeBlocks(e);for(let k=0;k<c.length;k++)await this.device.sendReport(0,c[k]);let x,C;for(;!(x=i.getReducedResult(C));){const k=await this.read();C=i.reduceResponse(C,k)}return Le("apdu","<= "+x.toString("hex")),x}).catch(n=>{throw n&&n.message&&n.message.includes("write")?(this._emitDisconnect(n),new Oo(n.message)):n}),this.device=t,this.deviceModel=Ui(t.productId),t.addEventListener("inputreport",this.onInputReport)}static async request(){const[t]=await xf();return Tr.open(t)}static async openConnected(){const t=await Xo();return t.length===0?null:Tr.open(t[0])}static async open(t){await t.open();const e=new Tr(t),n=o=>{t===o.device&&(wi().removeEventListener("disconnect",n),e._emitDisconnect(new Bi))};return wi().addEventListener("disconnect",n),e}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}}Tr.isSupported=vv;Tr.list=Xo;Tr.listen=r=>{let t=!1;mv().then(n=>{if(!n)r.error(new Nn("Access denied to use Ledger device"));else if(!t){const o=Ui(n.productId);r.next({type:"add",descriptor:n,deviceModel:o}),r.complete()}},n=>{r.error(new Nn(n.message))});function e(){t=!0}return{unsubscribe:e}};var yv=Object.freeze(Object.defineProperty({__proto__:null,default:Tr},Symbol.toStringTag,{value:"Module"})),gv=Cr(yv),zo={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ho=function(r,t){return ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])},ho(r,t)};function we(r,t){ho(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Jr(r){return typeof r=="function"}var ia=!1,ir={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var t=new Error;""+t.stack}ia=r},get useDeprecatedSynchronousErrorHandling(){return ia}};function Gr(r){setTimeout(function(){throw r},0)}var bi={closed:!0,next:function(r){},error:function(r){if(ir.useDeprecatedSynchronousErrorHandling)throw r;Gr(r)},complete:function(){}},or=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}();function Zo(r){return r!==null&&typeof r=="object"}var wv=function(){function r(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,n){return n+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return r.prototype=Object.create(Error.prototype),r}(),Dn=wv,je=function(){function r(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return r.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this,n=e._parentOrParents,o=e._ctorUnsubscribe,i=e._unsubscribe,c=e._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var x=0;x<n.length;++x){var C=n[x];C.remove(this)}if(Jr(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(K){t=K instanceof Dn?oa(K.errors):[K]}}if(or(c))for(var x=-1,k=c.length;++x<k;){var R=c[x];if(Zo(R))try{R.unsubscribe()}catch(V){t=t||[],V instanceof Dn?t=t.concat(oa(V.errors)):t.push(V)}}if(t)throw new Dn(t)}},r.prototype.add=function(t){var e=t;if(!t)return r.EMPTY;switch(typeof t){case"function":e=new r(t);case"object":if(e===this||e.closed||typeof e.unsubscribe!="function")return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof r)){var n=e;e=new r,e._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=e._parentOrParents;if(o===null)e._parentOrParents=this;else if(o instanceof r){if(o===this)return e;e._parentOrParents=[o,this]}else if(o.indexOf(this)===-1)o.push(this);else return e;var i=this._subscriptions;return i===null?this._subscriptions=[e]:i.push(e),e},r.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}},r.EMPTY=function(t){return t.closed=!0,t}(new r),r}();function oa(r){return r.reduce(function(t,e){return t.concat(e instanceof Dn?e.errors:e)},[])}var xi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Oe=function(r){we(t,r);function t(e,n,o){var i=r.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=bi;break;case 1:if(!e){i.destination=bi;break}if(typeof e=="object"){e instanceof t?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(i)):(i.syncErrorThrowable=!0,i.destination=new sa(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new sa(i,e,n,o);break}return i}return t.prototype[xi]=function(){return this},t.create=function(e,n,o){var i=new t(e,n,o);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(je),sa=function(r){we(t,r);function t(e,n,o,i){var c=r.call(this)||this;c._parentSubscriber=e;var x,C=c;return Jr(n)?x=n:n&&(x=n.next,o=n.error,i=n.complete,n!==bi&&(C=Object.create(n),Jr(C.unsubscribe)&&c.add(C.unsubscribe.bind(C)),C.unsubscribe=c.unsubscribe.bind(c))),c._context=C,c._next=x,c._error=o,c._complete=i,c}return t.prototype.next=function(e){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!ir.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,e):this.__tryOrSetError(n,this._next,e)&&this.unsubscribe()}},t.prototype.error=function(e){if(!this.isStopped){var n=this._parentSubscriber,o=ir.useDeprecatedSynchronousErrorHandling;if(this._error)!o||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,e),this.unsubscribe()):(this.__tryOrSetError(n,this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)o?(n.syncErrorValue=e,n.syncErrorThrown=!0):Gr(e),this.unsubscribe();else{if(this.unsubscribe(),o)throw e;Gr(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var o=function(){return e._complete.call(e._context)};!ir.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(o),this.unsubscribe()):(this.__tryOrSetError(n,o),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,n){try{e.call(this._context,n)}catch(o){if(this.unsubscribe(),ir.useDeprecatedSynchronousErrorHandling)throw o;Gr(o)}},t.prototype.__tryOrSetError=function(e,n,o){if(!ir.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,o)}catch(i){return ir.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Gr(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(Oe);function Jo(r){for(;r;){var t=r,e=t.closed,n=t.destination,o=t.isStopped;if(e||o)return!1;n&&n instanceof Oe?r=n:r=null}return!0}function bv(r,t,e){if(r){if(r instanceof Oe)return r;if(r[xi])return r[xi]()}return!r&&!t&&!e?new Oe(bi):new Oe(r,t,e)}var sn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Qr(r){return r}function xv(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Ef(r)}function Ef(r){return r.length===0?Qr:r.length===1?r[0]:function(e){return r.reduce(function(n,o){return o(n)},e)}}var xe=function(){function r(t){this._isScalar=!1,t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var o=this.operator,i=bv(t,e,n);if(o?i.add(o.call(i,this.source)):i.add(this.source||ir.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),ir.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){ir.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Jo(t)?t.error(e):console.warn(e)}},r.prototype.forEach=function(t,e){var n=this;return e=aa(e),new e(function(o,i){var c;c=n.subscribe(function(x){try{t(x)}catch(C){i(C),c&&c.unsubscribe()}},i,o)})},r.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},r.prototype[sn]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?this:Ef(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=aa(t),new t(function(n,o){var i;e.subscribe(function(c){return i=c},function(c){return o(c)},function(){return n(i)})})},r.create=function(t){return new r(t)},r}();function aa(r){if(r||(r=ir.Promise||Promise),!r)throw new Error("no Promise impl found");return r}var Ev=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}(),Fr=Ev,_f=function(r){we(t,r);function t(e,n){var o=r.call(this)||this;return o.subject=e,o.subscriber=n,o.closed=!1,o}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,n=e.observers;if(this.subject=null,!(!n||n.length===0||e.isStopped||e.closed)){var o=n.indexOf(this.subscriber);o!==-1&&n.splice(o,1)}}},t}(je),Af=function(r){we(t,r);function t(e){var n=r.call(this,e)||this;return n.destination=e,n}return t}(Oe),an=function(r){we(t,r);function t(){var e=r.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype[xi]=function(){return new Af(this)},t.prototype.lift=function(e){var n=new fa(this,this);return n.operator=e,n},t.prototype.next=function(e){if(this.closed)throw new Fr;if(!this.isStopped)for(var n=this.observers,o=n.length,i=n.slice(),c=0;c<o;c++)i[c].next(e)},t.prototype.error=function(e){if(this.closed)throw new Fr;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var n=this.observers,o=n.length,i=n.slice(),c=0;c<o;c++)i[c].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Fr;this.isStopped=!0;for(var e=this.observers,n=e.length,o=e.slice(),i=0;i<n;i++)o[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(e){if(this.closed)throw new Fr;return r.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){if(this.closed)throw new Fr;return this.hasError?(e.error(this.thrownError),je.EMPTY):this.isStopped?(e.complete(),je.EMPTY):(this.observers.push(e),new _f(this,e))},t.prototype.asObservable=function(){var e=new xe;return e.source=this,e},t.create=function(e,n){return new fa(e,n)},t}(xe),fa=function(r){we(t,r);function t(e,n){var o=r.call(this)||this;return o.destination=e,o.source=n,o}return t.prototype.next=function(e){var n=this.destination;n&&n.next&&n.next(e)},t.prototype.error=function(e){var n=this.destination;n&&n.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var n=this.source;return n?this.source.subscribe(e):je.EMPTY},t}(an);function Cf(){return function(t){return t.lift(new _v(t))}}var _v=function(){function r(t){this.connectable=t}return r.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var o=new Av(t,n),i=e.subscribe(o);return o.closed||(o.connection=n.connect()),i},r}(),Av=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.connectable=n,o}return t.prototype._unsubscribe=function(){var e=this.connectable;if(!e){this.connection=null;return}this.connectable=null;var n=e._refCount;if(n<=0){this.connection=null;return}if(e._refCount=n-1,n>1){this.connection=null;return}var o=this.connection,i=e._connection;this.connection=null,i&&(!o||i===o)&&i.unsubscribe()},t}(Oe),Bf=function(r){we(t,r);function t(e,n){var o=r.call(this)||this;return o.source=e,o.subjectFactory=n,o._refCount=0,o._isComplete=!1,o}return t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new je,e.add(this.source.subscribe(new Bv(this.getSubject(),this))),e.closed&&(this._connection=null,e=je.EMPTY)),e},t.prototype.refCount=function(){return Cf()(this)},t}(xe),Cv=function(){var r=Bf.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}(),Bv=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.connectable=n,o}return t.prototype._error=function(e){this._unsubscribe(),r.prototype._error.call(this,e)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}},t}(Af),Mv=function(r){we(t,r);function t(e,n,o){var i=r.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=o,i}return t.prototype._subscribe=function(e){var n=new je,o=this,i=o.refCountSubscription,c=o.groupSubject;return i&&!i.closed&&n.add(new Fv(i)),n.add(c.subscribe(e)),n},t}(xe),Fv=function(r){we(t,r);function t(e){var n=r.call(this)||this;return n.parent=e,e.count++,n}return t.prototype.unsubscribe=function(){var e=this.parent;!e.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),e.count-=1,e.count===0&&e.attemptedToUnsubscribe&&e.unsubscribe())},t}(je),Sv=function(r){we(t,r);function t(e){var n=r.call(this)||this;return n._value=e,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(e){var n=r.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Fr;return this._value},t.prototype.next=function(e){r.prototype.next.call(this,this._value=e)},t}(an),Dv=function(r){we(t,r);function t(e,n){return r.call(this)||this}return t.prototype.schedule=function(e,n){return this},t}(je),On=function(r){we(t,r);function t(e,n){var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.pending=!1,o}return t.prototype.schedule=function(e,n){if(n===void 0&&(n=0),this.closed)return this;this.state=e;var o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this},t.prototype.requestAsyncId=function(e,n,o){return o===void 0&&(o=0),setInterval(e.flush.bind(e,this),o)},t.prototype.recycleAsyncId=function(e,n,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return n;clearInterval(n)},t.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(e,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,n){var o=!1,i=void 0;try{this.work(e)}catch(c){o=!0,i=!!c&&c||new Error(c)}if(o)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,n=this.scheduler,o=n.actions,i=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null},t}(Dv),Iv=function(r){we(t,r);function t(e,n){var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o}return t.prototype.schedule=function(e,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},t.prototype.execute=function(e,n){return n>0||this.closed?r.prototype.execute.call(this,e,n):this._execute(e,n)},t.prototype.requestAsyncId=function(e,n,o){return o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0?r.prototype.requestAsyncId.call(this,e,n,o):e.flush(this)},t}(On),po=function(){function r(t,e){e===void 0&&(e=r.now),this.SchedulerAction=t,this.now=e}return r.prototype.schedule=function(t,e,n){return e===void 0&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},r.now=function(){return Date.now()},r}(),Ln=function(r){we(t,r);function t(e,n){n===void 0&&(n=po.now);var o=r.call(this,e,function(){return t.delegate&&t.delegate!==o?t.delegate.now():n()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return t.prototype.schedule=function(e,n,o){return n===void 0&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,o):r.prototype.schedule.call(this,e,n,o)},t.prototype.flush=function(e){var n=this.actions;if(this.active){n.push(e);return}var o;this.active=!0;do if(o=e.execute(e.state,e.delay))break;while(e=n.shift());if(this.active=!1,o){for(;e=n.shift();)e.unsubscribe();throw o}},t}(po),Tv=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Ln),Mf=new Tv(Iv),Ff=Mf,tn=new xe(function(r){return r.complete()});function $i(r){return r?Nv(r):tn}function Nv(r){return new xe(function(t){return r.schedule(function(){return t.complete()})})}function Rr(r){return r&&typeof r.schedule=="function"}var Sf=function(r){return function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()}};function Qo(r,t){return new xe(function(e){var n=new je,o=0;return n.add(t.schedule(function(){if(o===r.length){e.complete();return}e.next(r[o++]),e.closed||n.add(this.schedule())})),n})}function Pn(r,t){return t?Qo(r,t):new xe(Sf(r))}function ts(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return Rr(e)?(r.pop(),Qo(r,e)):Pn(r)}function Df(r,t){return t?new xe(function(e){return t.schedule(Rv,0,{error:r,subscriber:e})}):new xe(function(e){return e.error(r)})}function Rv(r){var t=r.error,e=r.subscriber;e.error(t)}var vo;vo||(vo={});var oi=function(){function r(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue=t==="N"}return r.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},r.prototype.do=function(t,e,n){var o=this.kind;switch(o){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},r.prototype.accept=function(t,e,n){return t&&typeof t.next=="function"?this.observe(t):this.do(t,e,n)},r.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return ts(this.value);case"E":return Df(this.error);case"C":return $i()}throw new Error("unexpected notification kind value")},r.createNext=function(t){return typeof t!="undefined"?new r("N",t):r.undefinedValueNotification},r.createError=function(t){return new r("E",void 0,t)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}(),Uv=function(r){we(t,r);function t(e,n,o){o===void 0&&(o=0);var i=r.call(this,e)||this;return i.scheduler=n,i.delay=o,i}return t.dispatch=function(e){var n=e.notification,o=e.destination;n.observe(o),this.unsubscribe()},t.prototype.scheduleMessage=function(e){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new $v(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(oi.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(oi.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(oi.createComplete()),this.unsubscribe()},t}(Oe),$v=function(){function r(t,e){this.notification=t,this.destination=e}return r}(),kv=function(r){we(t,r);function t(e,n,o){e===void 0&&(e=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this)||this;return i.scheduler=o,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return t.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,e)},t.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new Ov(this._getNow(),e)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,e)},t.prototype._subscribe=function(e){var n=this._infiniteTimeWindow,o=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,c=o.length,x;if(this.closed)throw new Fr;if(this.isStopped||this.hasError?x=je.EMPTY:(this.observers.push(e),x=new _f(this,e)),i&&e.add(e=new Uv(e,i)),n)for(var C=0;C<c&&!e.closed;C++)e.next(o[C]);else for(var C=0;C<c&&!e.closed;C++)e.next(o[C].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),x},t.prototype._getNow=function(){return(this.scheduler||Ff).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),n=this._bufferSize,o=this._windowTime,i=this._events,c=i.length,x=0;x<c&&!(e-i[x].time<o);)x++;return c>n&&(x=Math.max(x,c-n)),x>0&&i.splice(0,x),i},t}(an),Ov=function(){function r(t,e){this.time=t,this.value=e}return r}(),jn=function(r){we(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return t.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),je.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),je.EMPTY):r.prototype._subscribe.call(this,e)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(e){this.hasCompleted||r.prototype.error.call(this,e)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},t}(an),Lv=1,Pv=function(){return Promise.resolve()}(),mo={};function ua(r){return r in mo?(delete mo[r],!0):!1}var la={setImmediate:function(r){var t=Lv++;return mo[t]=!0,Pv.then(function(){return ua(t)&&r()}),t},clearImmediate:function(r){ua(r)}},jv=function(r){we(t,r);function t(e,n){var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o}return t.prototype.requestAsyncId=function(e,n,o){return o===void 0&&(o=0),o!==null&&o>0?r.prototype.requestAsyncId.call(this,e,n,o):(e.actions.push(this),e.scheduled||(e.scheduled=la.setImmediate(e.flush.bind(e,null))))},t.prototype.recycleAsyncId=function(e,n,o){if(o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,o);e.actions.length===0&&(la.clearImmediate(n),e.scheduled=void 0)},t}(On),Hv=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var n=this.actions,o,i=-1,c=n.length;e=e||n.shift();do if(o=e.execute(e.state,e.delay))break;while(++i<c&&(e=n.shift()));if(this.active=!1,o){for(;++i<c&&(e=n.shift());)e.unsubscribe();throw o}},t}(Ln),If=new Hv(jv),qv=If,Tf=new Ln(On),Ei=Tf,Wv=function(r){we(t,r);function t(e,n){var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o}return t.prototype.requestAsyncId=function(e,n,o){return o===void 0&&(o=0),o!==null&&o>0?r.prototype.requestAsyncId.call(this,e,n,o):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},t.prototype.recycleAsyncId=function(e,n,o){if(o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,o);e.actions.length===0&&(cancelAnimationFrame(n),e.scheduled=void 0)},t}(On),Vv=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var n=this.actions,o,i=-1,c=n.length;e=e||n.shift();do if(o=e.execute(e.state,e.delay))break;while(++i<c&&(e=n.shift()));if(this.active=!1,o){for(;++i<c&&(e=n.shift());)e.unsubscribe();throw o}},t}(Ln),Nf=new Vv(Wv),Kv=Nf,Gv=function(r){we(t,r);function t(e,n){e===void 0&&(e=Rf),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this,e,function(){return o.frame})||this;return o.maxFrames=n,o.frame=0,o.index=-1,o}return t.prototype.flush=function(){for(var e=this,n=e.actions,o=e.maxFrames,i,c;(c=n[0])&&c.delay<=o&&(n.shift(),this.frame=c.delay,!(i=c.execute(c.state,c.delay))););if(i){for(;c=n.shift();)c.unsubscribe();throw i}},t.frameTimeFactor=10,t}(Ln),Rf=function(r){we(t,r);function t(e,n,o){o===void 0&&(o=e.index+=1);var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=o,i.active=!0,i.index=e.index=o,i}return t.prototype.schedule=function(e,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,e,n);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(e,n)},t.prototype.requestAsyncId=function(e,n,o){o===void 0&&(o=0),this.delay=e.frame+o;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,n,o){},t.prototype._execute=function(e,n){if(this.active===!0)return r.prototype._execute.call(this,e,n)},t.sortActions=function(e,n){return e.delay===n.delay?e.index===n.index?0:e.index>n.index?1:-1:e.delay>n.delay?1:-1},t}(On);function vr(){}function Yv(r){return!!r&&(r instanceof xe||typeof r.lift=="function"&&typeof r.subscribe=="function")}var Xv=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}(),Uf=Xv,zv=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}(),es=zv,Zv=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}(),Jv=Zv;function qr(r,t){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Qv(r,t))}}var Qv=function(){function r(t,e){this.project=t,this.thisArg=e}return r.prototype.call=function(t,e){return e.subscribe(new tm(t,this.project,this.thisArg))},r}(),tm=function(r){we(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=o||i,i}return t.prototype._next=function(e){var n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(o){this.destination.error(o);return}this.destination.next(n)},t}(Oe);function $f(r,t,e){if(t)if(Rr(t))e=t;else return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return $f(r,e).apply(void 0,n).pipe(qr(function(i){return or(i)?t.apply(void 0,i):t(i)}))};return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=this,c,x={context:i,subject:c,callbackFunc:r,scheduler:e};return new xe(function(C){if(e){var R={args:n,subscriber:C,params:x};return e.schedule(em,0,R)}else{if(!c){c=new jn;var k=function(){for(var K=[],V=0;V<arguments.length;V++)K[V]=arguments[V];c.next(K.length<=1?K[0]:K),c.complete()};try{r.apply(i,n.concat([k]))}catch(K){Jo(c)?c.error(K):console.warn(K)}}return c.subscribe(C)}})}}function em(r){var t=this,e=r.args,n=r.subscriber,o=r.params,i=o.callbackFunc,c=o.context,x=o.scheduler,C=o.subject;if(!C){C=o.subject=new jn;var k=function(){for(var R=[],K=0;K<arguments.length;K++)R[K]=arguments[K];var V=R.length<=1?R[0]:R;t.add(x.schedule(rm,0,{value:V,subject:C}))};try{i.apply(c,e.concat([k]))}catch(R){C.error(R)}}this.add(C.subscribe(n))}function rm(r){var t=r.value,e=r.subject;e.next(t),e.complete()}function kf(r,t,e){if(t)if(Rr(t))e=t;else return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return kf(r,e).apply(void 0,n).pipe(qr(function(i){return or(i)?t.apply(void 0,i):t(i)}))};return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i={subject:void 0,args:n,callbackFunc:r,scheduler:e,context:this};return new xe(function(c){var x=i.context,C=i.subject;if(e)return e.schedule(nm,0,{params:i,subscriber:c,context:x});if(!C){C=i.subject=new jn;var k=function(){for(var R=[],K=0;K<arguments.length;K++)R[K]=arguments[K];var V=R.shift();if(V){C.error(V);return}C.next(R.length<=1?R[0]:R),C.complete()};try{r.apply(x,n.concat([k]))}catch(R){Jo(C)?C.error(R):console.warn(R)}}return C.subscribe(c)})}}function nm(r){var t=this,e=r.params,n=r.subscriber,o=r.context,i=e.callbackFunc,c=e.args,x=e.scheduler,C=e.subject;if(!C){C=e.subject=new jn;var k=function(){for(var R=[],K=0;K<arguments.length;K++)R[K]=arguments[K];var V=R.shift();if(V)t.add(x.schedule(ca,0,{err:V,subject:C}));else{var Z=R.length<=1?R[0]:R;t.add(x.schedule(im,0,{value:Z,subject:C}))}};try{i.apply(o,c.concat([k]))}catch(R){this.add(x.schedule(ca,0,{err:R,subject:C}))}}this.add(C.subscribe(n))}function im(r){var t=r.value,e=r.subject;e.next(t),e.complete()}function ca(r){var t=r.err,e=r.subject;e.error(t)}var Of=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.notifyNext=function(e,n,o,i,c){this.destination.next(n)},t.prototype.notifyError=function(e,n){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Oe),om=function(r){we(t,r);function t(e,n,o){var i=r.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=o,i.index=0,i}return t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Oe),sm=function(r){return function(t){return r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,Gr),t}};function am(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ur=am(),fm=function(r){return function(t){var e=r[Ur]();do{var n=void 0;try{n=e.next()}catch(o){return t.error(o),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}while(!0);return typeof e.return=="function"&&t.add(function(){e.return&&e.return()}),t}},um=function(r){return function(t){var e=r[sn]();if(typeof e.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)}},Lf=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function Pf(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}var Rn=function(r){if(!!r&&typeof r[sn]=="function")return um(r);if(Lf(r))return Sf(r);if(Pf(r))return sm(r);if(!!r&&typeof r[Ur]=="function")return fm(r);var t=Zo(r)?"an invalid object":"'"+r+"'",e="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(e)};function jf(r,t,e,n,o){if(o===void 0&&(o=new om(r,e,n)),!o.closed)return t instanceof xe?t.subscribe(o):Rn(t)(o)}var ha={};function lm(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=void 0,n=void 0;return Rr(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(e=r.pop()),r.length===1&&or(r[0])&&(r=r[0]),Pn(r,n).lift(new cm(e))}var cm=function(){function r(t){this.resultSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new hm(t,this.resultSelector))},r}(),hm=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.resultSelector=n,o.active=0,o.values=[],o.observables=[],o}return t.prototype._next=function(e){this.values.push(ha),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,n=e.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var o=0;o<n;o++){var i=e[o];this.add(jf(this,i,void 0,o))}}},t.prototype.notifyComplete=function(e){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(e,n,o){var i=this.values,c=i[o],x=this.toRespond?c===ha?--this.toRespond:this.toRespond:0;i[o]=n,x===0&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},t.prototype._tryResultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(o){this.destination.error(o);return}this.destination.next(n)},t}(Of);function dm(r,t){return new xe(function(e){var n=new je;return n.add(t.schedule(function(){var o=r[sn]();n.add(o.subscribe({next:function(i){n.add(t.schedule(function(){return e.next(i)}))},error:function(i){n.add(t.schedule(function(){return e.error(i)}))},complete:function(){n.add(t.schedule(function(){return e.complete()}))}}))})),n})}function pm(r,t){return new xe(function(e){var n=new je;return n.add(t.schedule(function(){return r.then(function(o){n.add(t.schedule(function(){e.next(o),n.add(t.schedule(function(){return e.complete()}))}))},function(o){n.add(t.schedule(function(){return e.error(o)}))})})),n})}function vm(r,t){if(!r)throw new Error("Iterable cannot be null");return new xe(function(e){var n=new je,o;return n.add(function(){o&&typeof o.return=="function"&&o.return()}),n.add(t.schedule(function(){o=r[Ur](),n.add(t.schedule(function(){if(!e.closed){var i,c;try{var x=o.next();i=x.value,c=x.done}catch(C){e.error(C);return}c?e.complete():(e.next(i),this.schedule())}}))})),n})}function mm(r){return r&&typeof r[sn]=="function"}function ym(r){return r&&typeof r[Ur]=="function"}function Hf(r,t){if(r!=null){if(mm(r))return dm(r,t);if(Pf(r))return pm(r,t);if(Lf(r))return Qo(r,t);if(ym(r)||typeof r=="string")return vm(r,t)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}function Wr(r,t){return t?Hf(r,t):r instanceof xe?r:new xe(Rn(r))}var qf=function(r){we(t,r);function t(e){var n=r.call(this)||this;return n.parent=e,n}return t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(Oe),Wf=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(Oe);function Vf(r,t){if(!t.closed){if(r instanceof xe)return r.subscribe(t);var e;try{e=Rn(r)(t)}catch(n){t.error(n)}return e}}function Kf(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?function(n){return n.pipe(Kf(function(o,i){return Wr(r(o,i)).pipe(qr(function(c,x){return t(o,c,i,x)}))},e))}:(typeof t=="number"&&(e=t),function(n){return n.lift(new gm(r,e))})}var gm=function(){function r(t,e){e===void 0&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return r.prototype.call=function(t,e){return e.subscribe(new wm(t,this.project,this.concurrent))},r}(),wm=function(r){we(t,r);function t(e,n,o){o===void 0&&(o=Number.POSITIVE_INFINITY);var i=r.call(this,e)||this;return i.project=n,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var n,o=this.index++;try{n=this.project(e,o)}catch(i){this.destination.error(i);return}this.active++,this._innerSub(n)},t.prototype._innerSub=function(e){var n=new qf(this),o=this.destination;o.add(n);var i=Vf(e,n);i!==n&&o.add(i)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(Wf);function Gf(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),Kf(Qr,r)}function bm(){return Gf(1)}function xm(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return bm()(ts.apply(void 0,r))}function rs(r){return new xe(function(t){var e;try{e=r()}catch(o){t.error(o);return}var n=e?Wr(e):$i();return n.subscribe(t)})}function Em(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1){var e=r[0];if(or(e))return ei(e,null);if(Zo(e)&&Object.getPrototypeOf(e)===Object.prototype){var n=Object.keys(e);return ei(n.map(function(i){return e[i]}),n)}}if(typeof r[r.length-1]=="function"){var o=r.pop();return r=r.length===1&&or(r[0])?r[0]:r,ei(r,null).pipe(qr(function(i){return o.apply(void 0,i)}))}return ei(r,null)}function ei(r,t){return new xe(function(e){var n=r.length;if(n===0){e.complete();return}for(var o=new Array(n),i=0,c=0,x=function(k){var R=Wr(r[k]),K=!1;e.add(R.subscribe({next:function(V){K||(K=!0,c++),o[k]=V},error:function(V){return e.error(V)},complete:function(){i++,(i===n||!K)&&(c===n&&e.next(t?t.reduce(function(V,Z,Et){return V[Z]=o[Et],V},{}):o),e.complete())}}))},C=0;C<n;C++)x(C)})}function Yf(r,t,e,n){return Jr(e)&&(n=e,e=void 0),n?Yf(r,t,e).pipe(qr(function(o){return or(o)?n.apply(void 0,o):n(o)})):new xe(function(o){function i(c){arguments.length>1?o.next(Array.prototype.slice.call(arguments)):o.next(c)}Xf(r,t,i,o,e)})}function Xf(r,t,e,n,o){var i;if(Cm(r)){var c=r;r.addEventListener(t,e,o),i=function(){return c.removeEventListener(t,e,o)}}else if(Am(r)){var x=r;r.on(t,e),i=function(){return x.off(t,e)}}else if(_m(r)){var C=r;r.addListener(t,e),i=function(){return C.removeListener(t,e)}}else if(r&&r.length)for(var k=0,R=r.length;k<R;k++)Xf(r[k],t,e,n,o);else throw new TypeError("Invalid event target");n.add(i)}function _m(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function Am(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function Cm(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}function zf(r,t,e){return e?zf(r,t).pipe(qr(function(n){return or(n)?e.apply(void 0,n):e(n)})):new xe(function(n){var o=function(){for(var c=[],x=0;x<arguments.length;x++)c[x]=arguments[x];return n.next(c.length===1?c[0]:c)},i;try{i=r(o)}catch(c){n.error(c);return}if(!!Jr(t))return function(){return t(o,i)}})}function Bm(r,t,e,n,o){var i,c;if(arguments.length==1){var x=r;c=x.initialState,t=x.condition,e=x.iterate,i=x.resultSelector||Qr,o=x.scheduler}else n===void 0||Rr(n)?(c=r,i=Qr,o=n):(c=r,i=n);return new xe(function(C){var k=c;if(o)return o.schedule(Mm,0,{subscriber:C,iterate:e,condition:t,resultSelector:i,state:k});do{if(t){var R=void 0;try{R=t(k)}catch(V){C.error(V);return}if(!R){C.complete();break}}var K=void 0;try{K=i(k)}catch(V){C.error(V);return}if(C.next(K),C.closed)break;try{k=e(k)}catch(V){C.error(V);return}}while(!0)})}function Mm(r){var t=r.subscriber,e=r.condition;if(!t.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(i){t.error(i);return}else r.needIterate=!0;if(e){var n=void 0;try{n=e(r.state)}catch(i){t.error(i);return}if(!n){t.complete();return}if(t.closed)return}var o;try{o=r.resultSelector(r.state)}catch(i){t.error(i);return}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(r)}}function Fm(r,t,e){return t===void 0&&(t=tn),e===void 0&&(e=tn),rs(function(){return r()?t:e})}function yo(r){return!or(r)&&r-parseFloat(r)+1>=0}function Sm(r,t){return r===void 0&&(r=0),t===void 0&&(t=Ei),(!yo(r)||r<0)&&(r=0),(!t||typeof t.schedule!="function")&&(t=Ei),new xe(function(e){return e.add(t.schedule(Dm,r,{subscriber:e,counter:0,period:r})),e})}function Dm(r){var t=r.subscriber,e=r.counter,n=r.period;t.next(e),this.schedule({subscriber:t,counter:e+1,period:n},n)}function go(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Number.POSITIVE_INFINITY,n=null,o=r[r.length-1];return Rr(o)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(e=r.pop())):typeof o=="number"&&(e=r.pop()),n===null&&r.length===1&&r[0]instanceof xe?r[0]:Gf(e)(Pn(r,n))}var Zf=new xe(vr);function Im(){return Zf}function wo(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===0)return tn;var e=r[0],n=r.slice(1);return r.length===1&&or(e)?wo.apply(void 0,e):new xe(function(o){var i=function(){return o.add(wo.apply(void 0,n).subscribe(o))};return Wr(e).subscribe({next:function(c){o.next(c)},error:i,complete:i})})}function Tm(r,t){return t?new xe(function(e){var n=Object.keys(r),o=new je;return o.add(t.schedule(Nm,0,{keys:n,index:0,subscriber:e,subscription:o,obj:r})),o}):new xe(function(e){for(var n=Object.keys(r),o=0;o<n.length&&!e.closed;o++){var i=n[o];r.hasOwnProperty(i)&&e.next([i,r[i]])}e.complete()})}function Nm(r){var t=r.keys,e=r.index,n=r.subscriber,o=r.subscription,i=r.obj;if(!n.closed)if(e<t.length){var c=t[e];n.next([c,i[c]]),o.add(this.schedule({keys:t,index:e+1,subscriber:n,subscription:o,obj:i}))}else n.complete()}function Rm(r,t){function e(){return!e.pred.apply(e.thisArg,arguments)}return e.pred=r,e.thisArg=t,e}function bo(r,t){return function(n){return n.lift(new Um(r,t))}}var Um=function(){function r(t,e){this.predicate=t,this.thisArg=e}return r.prototype.call=function(t,e){return e.subscribe(new $m(t,this.predicate,this.thisArg))},r}(),$m=function(r){we(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.predicate=n,i.thisArg=o,i.count=0,i}return t.prototype._next=function(e){var n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(o){this.destination.error(o);return}n&&this.destination.next(e)},t}(Oe);function km(r,t,e){return[bo(t,e)(new xe(Rn(r))),bo(Rm(t,e))(new xe(Rn(r)))]}function Om(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)if(or(r[0]))r=r[0];else return r[0];return Pn(r,void 0).lift(new Lm)}var Lm=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new Pm(t))},r}(),Pm=function(r){we(t,r);function t(e){var n=r.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,n=e.length;if(n===0)this.destination.complete();else{for(var o=0;o<n&&!this.hasFirst;o++){var i=e[o],c=jf(this,i,void 0,o);this.subscriptions&&this.subscriptions.push(c),this.add(c)}this.observables=null}},t.prototype.notifyNext=function(e,n,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==o){var c=this.subscriptions[i];c.unsubscribe(),this.remove(c)}this.subscriptions=null}this.destination.next(n)},t}(Of);function jm(r,t,e){return r===void 0&&(r=0),new xe(function(n){t===void 0&&(t=r,r=0);var o=0,i=r;if(e)return e.schedule(Hm,0,{index:o,count:t,start:r,subscriber:n});do{if(o++>=t){n.complete();break}if(n.next(i++),n.closed)break}while(!0)})}function Hm(r){var t=r.start,e=r.index,n=r.count,o=r.subscriber;if(e>=n){o.complete();return}o.next(t),!o.closed&&(r.index=e+1,r.start=t+1,this.schedule(r))}function qm(r,t,e){r===void 0&&(r=0);var n=-1;return yo(t)?n=Number(t)<1&&1||Number(t):Rr(t)&&(e=t),Rr(e)||(e=Ei),new xe(function(o){var i=yo(r)?r:+r-e.now();return e.schedule(Wm,i,{index:0,period:n,subscriber:o})})}function Wm(r){var t=r.index,e=r.period,n=r.subscriber;if(n.next(t),!n.closed){if(e===-1)return n.complete();r.index=t+1,this.schedule(r,e)}}function Vm(r,t){return new xe(function(e){var n;try{n=r()}catch(x){e.error(x);return}var o;try{o=t(n)}catch(x){e.error(x);return}var i=o?Wr(o):tn,c=i.subscribe(e);return function(){c.unsubscribe(),n&&n.unsubscribe()}})}function Km(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return typeof e=="function"&&r.pop(),Pn(r,void 0).lift(new Gm(e))}var Gm=function(){function r(t){this.resultSelector=t}return r.prototype.call=function(t,e){return e.subscribe(new Ym(t,this.resultSelector))},r}(),Ym=function(r){we(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector=typeof n=="function"?n:void 0,i}return t.prototype._next=function(e){var n=this.iterators;or(e)?n.push(new zm(e)):typeof e[Ur]=="function"?n.push(new Xm(e[Ur]())):n.push(new Zm(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,n=e.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var o=0;o<n;o++){var i=e[o];if(i.stillUnsubscribed){var c=this.destination;c.add(i.subscribe())}else this.active--}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,n=e.length,o=this.destination,i=0;i<n;i++){var c=e[i];if(typeof c.hasValue=="function"&&!c.hasValue())return}for(var x=!1,C=[],i=0;i<n;i++){var c=e[i],k=c.next();if(c.hasCompleted()&&(x=!0),k.done){o.complete();return}C.push(k.value)}this.resultSelector?this._tryresultSelector(C):o.next(C),x&&o.complete()},t.prototype._tryresultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(o){this.destination.error(o);return}this.destination.next(n)},t}(Oe),Xm=function(){function r(t){this.iterator=t,this.nextResult=t.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},r.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},r}(),zm=function(){function r(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return r.prototype[Ur]=function(){return this},r.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),Zm=function(r){we(t,r);function t(e,n,o){var i=r.call(this,e)||this;return i.parent=n,i.observable=o,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return t.prototype[Ur]=function(){return this},t.prototype.next=function(){var e=this.buffer;return e.length===0&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Vf(this.observable,new qf(this))},t}(Wf),Jm=Object.freeze(Object.defineProperty({__proto__:null,Observable:xe,ConnectableObservable:Bf,GroupedObservable:Mv,observable:sn,Subject:an,BehaviorSubject:Sv,ReplaySubject:kv,AsyncSubject:jn,asap:qv,asapScheduler:If,async:Ei,asyncScheduler:Tf,queue:Ff,queueScheduler:Mf,animationFrame:Kv,animationFrameScheduler:Nf,VirtualTimeScheduler:Gv,VirtualAction:Rf,Scheduler:po,Subscription:je,Subscriber:Oe,Notification:oi,get NotificationKind(){return vo},pipe:xv,noop:vr,identity:Qr,isObservable:Yv,ArgumentOutOfRangeError:Uf,EmptyError:es,ObjectUnsubscribedError:Fr,UnsubscriptionError:Dn,TimeoutError:Jv,bindCallback:$f,bindNodeCallback:kf,combineLatest:lm,concat:xm,defer:rs,empty:$i,forkJoin:Em,from:Wr,fromEvent:Yf,fromEventPattern:zf,generate:Bm,iif:Fm,interval:Sm,merge:go,never:Im,of:ts,onErrorResumeNext:wo,pairs:Tm,partition:km,race:Om,range:jm,throwError:Df,timer:qm,using:Vm,zip:Km,scheduled:Hf,EMPTY:tn,NEVER:Zf,config:ir},Symbol.toStringTag,{value:"Module"})),Jf=Cr(Jm),Qf=Cr(av);Object.defineProperty(zo,"__esModule",{value:!0});var tu=zo.sendAPDU=void 0,Qm=Jf,da=Qf;const ty=5;function ey(r,t){const e=[];for(let n=0,o=t(0);n<r.length;n+=o,o=t(n))e.push(r.slice(n,n+o));return e}const ry=(r,t,e)=>{const n=ey(t,o=>e-(o===0?5:3)).map((o,i)=>{const c=Buffer.alloc(i===0?5:3);return c.writeUInt8(ty,0),c.writeUInt16BE(i,1),i===0&&c.writeUInt16BE(t.length,3),Buffer.concat([c,o])});return Qm.Observable.create(o=>{let i=!1;async function c(){for(const C of n){if(i)return;await r(C)}}return c().then(()=>{i=!0,o.complete()},C=>{i=!0,(0,da.log)("ble-error","sendAPDU failure "+String(C)),o.error(C)}),()=>{i||((0,da.log)("ble-verbose","sendAPDU interruption"),i=!0)}})};tu=zo.sendAPDU=ry;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});var eu=ns.receiveAPDU=void 0,ri=hf,ny=Jf,iy=Qf;const oy=5,sy=r=>ny.Observable.create(t=>{let e=0,n=0,o=Buffer.alloc(0);const i=r.subscribe({complete:()=>{t.error(new ri.DisconnectedDevice),i.unsubscribe()},error:c=>{(0,iy.log)("ble-error","in receiveAPDU "+String(c)),t.error(c),i.unsubscribe()},next:c=>{const x=c.readUInt8(0),C=c.readUInt16BE(1);let k=c.slice(3);if(x!==oy){t.error(new ri.TransportError("Invalid tag "+x.toString(16),"InvalidTag"));return}if(e!==C){t.error(new ri.TransportError("BLE: Invalid sequence number. discontinued chunk. Received "+C+" but expected "+e,"InvalidSequence"));return}if(C===0&&(n=k.readUInt16BE(0),k=k.slice(2)),e++,o=Buffer.concat([o,k]),o.length>n){t.error(new ri.TransportError("BLE: received too much data. discontinued chunk. Received "+o.length+" but expected "+n,"BLETooMuchData"));return}o.length===n&&(t.next(o),t.complete(),i.unsubscribe())}});return()=>{i.unsubscribe()}});eu=ns.receiveAPDU=sy;function ay(r){return r===void 0&&(r=null),function(t){return t.lift(new fy(r))}}var fy=function(){function r(t){this.defaultValue=t}return r.prototype.call=function(t,e){return e.subscribe(new uy(t,this.defaultValue))},r}(),uy=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.defaultValue=n,o.isEmpty=!0,o}return t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(Oe);function ly(r){return r===void 0&&(r=dy),function(t){return t.lift(new cy(r))}}var cy=function(){function r(t){this.errorFactory=t}return r.prototype.call=function(t,e){return e.subscribe(new hy(t,this.errorFactory))},r}(),hy=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.errorFactory=n,o.hasValue=!1,o}return t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)},t}(Oe);function dy(){return new es}function py(r){return function(t){return r===0?$i():t.lift(new vy(r))}}var vy=function(){function r(t){if(this.total=t,this.total<0)throw new Uf}return r.prototype.call=function(t,e){return e.subscribe(new my(t,this.total))},r}(),my=function(r){we(t,r);function t(e,n){var o=r.call(this,e)||this;return o.total=n,o.count=0,o}return t.prototype._next=function(e){var n=this.total,o=++this.count;o<=n&&(this.destination.next(e),o===n&&(this.destination.complete(),this.unsubscribe()))},t}(Oe);function yy(r,t){var e=arguments.length>=2;return function(n){return n.pipe(r?bo(function(o,i){return r(o,i,n)}):Qr,py(1),e?ay(t):ly(function(){return new es}))}}function gy(){return function(t){return t.lift(new wy)}}var wy=function(){function r(){}return r.prototype.call=function(t,e){return e.subscribe(new by(t))},r}(),by=function(r){we(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype._next=function(e){},t}(Oe);function xy(r,t){return function(n){var o;if(typeof r=="function"?o=r:o=function(){return r},typeof t=="function")return n.lift(new Ey(o,t));var i=Object.create(n,Cv);return i.source=n,i.subjectFactory=o,i}}var Ey=function(){function r(t,e){this.subjectFactory=t,this.selector=e}return r.prototype.call=function(t,e){var n=this.selector,o=this.subjectFactory(),i=n(o).subscribe(t);return i.add(e.subscribe(o)),i},r}();function _y(){return new an}function Ay(){return function(r){return Cf()(xy(_y)(r))}}function Cy(r,t,e){return function(o){return o.lift(new By(r,t,e))}}var By=function(){function r(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return r.prototype.call=function(t,e){return e.subscribe(new My(t,this.nextOrObserver,this.error,this.complete))},r}(),My=function(r){we(t,r);function t(e,n,o,i){var c=r.call(this,e)||this;return c._tapNext=vr,c._tapError=vr,c._tapComplete=vr,c._tapError=o||vr,c._tapComplete=i||vr,Jr(n)?(c._context=c,c._tapNext=n):n&&(c._context=n,c._tapNext=n.next||vr,c._tapError=n.error||vr,c._tapComplete=n.complete||vr),c}return t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(n){this.destination.error(n);return}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(n){this.destination.error(n);return}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){this.destination.error(e);return}return this.destination.complete()},t}(Oe);const Fy=r=>xe.create(t=>{Le("ble-verbose","start monitor "+r.uuid);function e(n){const o=n.target;o.value&&t.next(Buffer.from(o.value.buffer))}return r.startNotifications().then(()=>{r.addEventListener("characteristicvaluechanged",e)}),()=>{Le("ble-verbose","end monitor "+r.uuid),r.stopNotifications()}}),ki=()=>{const{bluetooth:r}=navigator;if(typeof r=="undefined")throw new Error("web bluetooth not supported");return r},Sy=()=>xe.create(r=>{const t=ki(),e=o=>{r.next(o.value)};t.addEventListener("availabilitychanged",e);let n=!1;return t.getAvailability().then(o=>{n||r.next(o)}),()=>{n=!0,t.removeEventListener("availabilitychanged",e)}}),An={},ru=()=>({filters:nv().map(r=>({services:[r]}))}),Dy=async r=>{if(!r.gatt)throw new Error("bluetooth gatt not found");const[t]=await r.gatt.getPrimaryServices();if(!t)throw new Error("bluetooth service not found");const e=iv(t.uuid);if(!e)throw new Error("bluetooth service infos not found");return[t,e]};async function nu(r,t){let e;if(typeof r=="string"){if(An[r])return Le("ble-verbose","Transport in cache, using that."),An[r];e=await ki().requestDevice(ru())}else e=r;e.gatt.connected||(Le("ble-verbose","not connected. connecting..."),await e.gatt.connect());const[n,o]=await Dy(e),{deviceModel:i,writeUuid:c,notifyUuid:x}=o,[C,k]=await Promise.all([n.getCharacteristic(c),n.getCharacteristic(x)]),R=Fy(k).pipe(Cy(Pt=>{Le("ble-frame","<= "+Pt.toString("hex"))}),Ay()),K=R.subscribe(),V=new fn(e,C,R,i);if(!e.gatt.connected)throw new Bi;An[V.id]=V;const Z=Pt=>{console.log("onDisconnect!",Pt),delete An[V.id],V.notYetDisconnected=!1,K.unsubscribe(),e.removeEventListener("gattserverdisconnected",Z),Le("ble-verbose",`BleTransport(${V.id}) disconnected`),V.emit("disconnect",Pt)};e.addEventListener("gattserverdisconnected",Z);let Et=Date.now();try{await V.inferMTU()}finally{Date.now()-Et<1e3&&(t=!1),t&&(await e.gatt.disconnect(),await new Promise(wt=>setTimeout(wt,4e3)))}return t?nu(e,!1):V}class fn extends Br{static listen(t){Le("ble-verbose","listen...");let e;ki().requestDevice(ru()).then(async i=>{e||(t.next({type:"add",descriptor:i}),t.complete())},i=>{t.error(new Nn(i.message))});function o(){e=!0}return{unsubscribe:o}}static async open(t){return nu(t,!0)}constructor(t,e,n,o){super(),this.id=void 0,this.device=void 0,this.mtuSize=20,this.writeCharacteristic=void 0,this.notifyObservable=void 0,this.notYetDisconnected=!0,this.deviceModel=void 0,this.exchange=i=>this.exchangeAtomicImpl(async()=>{try{const c=i.toString("hex");Le("apdu",`=> ${c}`);const x=await go(this.notifyObservable.pipe(eu),tu(this.write,i,this.mtuSize)).toPromise(),C=x.toString("hex");return Le("apdu",`<= ${C}`),x}catch(c){throw Le("ble-error","exchange got "+String(c)),this.notYetDisconnected&&this.device.gatt.disconnect(),c}}),this.write=async i=>{Le("ble-frame","=> "+i.toString("hex")),await this.writeCharacteristic.writeValue(i)},this.id=t.id,this.device=t,this.writeCharacteristic=e,this.notifyObservable=n,this.deviceModel=o,Le("ble-verbose",`BleTransport(${String(this.id)}) new instance`)}async inferMTU(){let t=23;if(await this.exchangeAtomicImpl(async()=>{try{t=await go(this.notifyObservable.pipe(yy(e=>e.readUInt8(0)===8),qr(e=>e.readUInt8(5))),rs(()=>Wr(this.write(Buffer.from([8,0,0,0,0])))).pipe(gy())).toPromise()+3}catch(e){throw Le("ble-error","inferMTU got "+String(e)),this.device.gatt.disconnect(),e}}),t>23){const e=t-3;Le("ble-verbose",`BleTransport(${String(this.id)}) mtu set to ${String(e)}`),this.mtuSize=e}return this.mtuSize}setScrambleKey(){}async close(){this.exchangeBusyPromise&&await this.exchangeBusyPromise}}fn.isSupported=()=>Promise.resolve().then(ki).then(()=>!0,()=>!1);fn.observeAvailability=r=>Sy.subscribe(r);fn.list=()=>Promise.resolve([]);fn.disconnect=async r=>{Le("ble-verbose",`user disconnect(${r})`);const t=An[r];t&&t.device.gatt.disconnect()};var Iy=Object.freeze(Object.defineProperty({__proto__:null,default:fn},Symbol.toStringTag,{value:"Module"})),Ty=Cr(Iy);const _i=Je,iu=_i.Address,ou=He,Ny=uc,su=x0.default,{Contract:au}=cr,fu=A0.default,uu=O0.default,Ry=L0.default,pa=G0.default,{BlockSubscription:lu,InMemoryBlockStorage:cu}=Sh,{SubscriptionContract:Uy}=Ih,$y=dv.default,ky=gv.default,Oy=Ty.default,hu="0.0.38";class er{constructor(t){this.version=hu,this.utils=_i,this.Address=iu,this.boc=ou,this.Contract=au,this.BlockSubscription=lu,this.InMemoryBlockStorage=cu,this.provider=t||new su,this.wallet=new fu(this.provider),this.lockupWallet=uu}async getTransactions(t,e=20,n=void 0,o=void 0,i=void 0){return this.provider.getTransactions(t.toString(),e,n,o,i)}async getBalance(t){return this.provider.getBalance(t.toString())}async sendBoc(t){return this.provider.sendBoc(_i.bytesToBase64(t))}async call(t,e,n=[]){return this.provider.call(t.toString(),e,n)}}er.version=hu;er.utils=_i;er.Address=iu;er.boc=ou;er.HttpProvider=su;er.Contract=au;er.Wallets=fu;er.LockupWallets=uu;er.SubscriptionContract=Uy;er.BlockSubscription=lu;er.InMemoryBlockStorage=cu;er.ledger={TransportWebUSB:$y,TransportWebHID:ky,BluetoothTransport:Oy,AppTon:Ny};er.token={nft:Ry,ft:pa,jetton:pa};var fr=er,un,Ze,va,en=0,du=[],ma=ee.__b,ya=ee.__r,ga=ee.diffed,wa=ee.__c,ba=ee.unmount;function Hn(r,t){ee.__h&&ee.__h(Ze,r,en||t),en=0;var e=Ze.__H||(Ze.__H={__:[],__h:[]});return r>=e.__.length&&e.__.push({}),e.__[r]}function Ve(r){return en=1,pu(mu,r)}function pu(r,t,e){var n=Hn(un++,2);return n.t=r,n.__c||(n.__=[e?e(t):mu(void 0,t),function(o){var i=n.t(n.__[0],o);n.__[0]!==i&&(n.__=[i,n.__[1]],n.__c.setState({}))}],n.__c=Ze),n.__}function tr(r,t){var e=Hn(un++,3);!ee.__s&&is(e.__H,t)&&(e.__=r,e.__H=t,Ze.__H.__h.push(e))}function Oi(r,t){var e=Hn(un++,4);!ee.__s&&is(e.__H,t)&&(e.__=r,e.__H=t,Ze.__h.push(e))}function mr(r){return en=5,qn(function(){return{current:r}},[])}function vu(r,t,e){en=6,Oi(function(){return typeof r=="function"?(r(t()),function(){return r(null)}):r?(r.current=t(),function(){return r.current=null}):void 0},e==null?e:e.concat(r))}function qn(r,t){var e=Hn(un++,7);return is(e.__H,t)&&(e.__=r(),e.__H=t,e.__h=r),e.__}function Sr(r,t){return en=8,qn(function(){return r},t)}function Ly(r){var t=Ze.context[r.__c],e=Hn(un++,9);return e.c=r,t?(e.__==null&&(e.__=!0,t.sub(Ze)),t.props.value):r.__}function Py(r,t){ee.useDebugValue&&ee.useDebugValue(t?t(r):r)}function jy(){for(var r;r=du.shift();)if(r.__P)try{r.__H.__h.forEach(si),r.__H.__h.forEach(xo),r.__H.__h=[]}catch(t){r.__H.__h=[],ee.__e(t,r.__v)}}ee.__b=function(r){Ze=null,ma&&ma(r)},ee.__r=function(r){ya&&ya(r),un=0;var t=(Ze=r.__c).__H;t&&(t.__h.forEach(si),t.__h.forEach(xo),t.__h=[])},ee.diffed=function(r){ga&&ga(r);var t=r.__c;t&&t.__H&&t.__H.__h.length&&(du.push(t)!==1&&va===ee.requestAnimationFrame||((va=ee.requestAnimationFrame)||function(e){var n,o=function(){clearTimeout(i),xa&&cancelAnimationFrame(n),setTimeout(e)},i=setTimeout(o,100);xa&&(n=requestAnimationFrame(o))})(jy)),Ze=null},ee.__c=function(r,t){t.some(function(e){try{e.__h.forEach(si),e.__h=e.__h.filter(function(n){return!n.__||xo(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ee.__e(n,e.__v)}}),wa&&wa(r,t)},ee.unmount=function(r){ba&&ba(r);var t,e=r.__c;e&&e.__H&&(e.__H.__.forEach(function(n){try{si(n)}catch(o){t=o}}),t&&ee.__e(t,e.__v))};var xa=typeof requestAnimationFrame=="function";function si(r){var t=Ze,e=r.__c;typeof e=="function"&&(r.__c=void 0,e()),Ze=t}function xo(r){var t=Ze;r.__c=r.__(),Ze=t}function is(r,t){return!r||r.length!==t.length||t.some(function(e,n){return e!==r[n]})}function mu(r,t){return typeof t=="function"?t(r):t}var ai={exports:{}};(function(r,t){(function(e,n){r.exports=n()})(self,function(){return(()=>{var e={780:(c,x,C)=>{(function(k){var R=function(F){var N,T=new Float64Array(16);if(F)for(N=0;N<F.length;N++)T[N]=F[N];return T},K=function(){throw new Error("no PRNG")},V=new Uint8Array(16),Z=new Uint8Array(32);Z[0]=9;var Et=R(),Pt=R([1]),wt=R([56129,1]),Nt=R([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Ot=R([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),se=R([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),oe=R([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Rt=R([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function re(F,N,T,m){F[N]=T>>24&255,F[N+1]=T>>16&255,F[N+2]=T>>8&255,F[N+3]=255&T,F[N+4]=m>>24&255,F[N+5]=m>>16&255,F[N+6]=m>>8&255,F[N+7]=255&m}function ne(F,N,T,m,B){var H,W=0;for(H=0;H<B;H++)W|=F[N+H]^T[m+H];return(1&W-1>>>8)-1}function Jt(F,N,T,m){return ne(F,N,T,m,16)}function Ae(F,N,T,m){return ne(F,N,T,m,32)}function S(F,N,T,m){(function(B,H,W,at){for(var L,yt=255&at[0]|(255&at[1])<<8|(255&at[2])<<16|(255&at[3])<<24,Dt=255&W[0]|(255&W[1])<<8|(255&W[2])<<16|(255&W[3])<<24,y=255&W[4]|(255&W[5])<<8|(255&W[6])<<16|(255&W[7])<<24,M=255&W[8]|(255&W[9])<<8|(255&W[10])<<16|(255&W[11])<<24,A=255&W[12]|(255&W[13])<<8|(255&W[14])<<16|(255&W[15])<<24,a=255&at[4]|(255&at[5])<<8|(255&at[6])<<16|(255&at[7])<<24,D=255&H[0]|(255&H[1])<<8|(255&H[2])<<16|(255&H[3])<<24,j=255&H[4]|(255&H[5])<<8|(255&H[6])<<16|(255&H[7])<<24,P=255&H[8]|(255&H[9])<<8|(255&H[10])<<16|(255&H[11])<<24,z=255&H[12]|(255&H[13])<<8|(255&H[14])<<16|(255&H[15])<<24,J=255&at[8]|(255&at[9])<<8|(255&at[10])<<16|(255&at[11])<<24,ot=255&W[16]|(255&W[17])<<8|(255&W[18])<<16|(255&W[19])<<24,dt=255&W[20]|(255&W[21])<<8|(255&W[22])<<16|(255&W[23])<<24,It=255&W[24]|(255&W[25])<<8|(255&W[26])<<16|(255&W[27])<<24,ct=255&W[28]|(255&W[29])<<8|(255&W[30])<<16|(255&W[31])<<24,Q=255&at[12]|(255&at[13])<<8|(255&at[14])<<16|(255&at[15])<<24,et=yt,vt=Dt,ft=y,st=M,ut=A,Mt=a,bt=D,_t=j,xt=P,At=z,Ct=J,ht=ot,Y=dt,X=It,rt=ct,tt=Q,nt=0;nt<20;nt+=2)et^=(L=(Y^=(L=(xt^=(L=(ut^=(L=et+Y|0)<<7|L>>>25)+et|0)<<9|L>>>23)+ut|0)<<13|L>>>19)+xt|0)<<18|L>>>14,Mt^=(L=(vt^=(L=(X^=(L=(At^=(L=Mt+vt|0)<<7|L>>>25)+Mt|0)<<9|L>>>23)+At|0)<<13|L>>>19)+X|0)<<18|L>>>14,Ct^=(L=(bt^=(L=(ft^=(L=(rt^=(L=Ct+bt|0)<<7|L>>>25)+Ct|0)<<9|L>>>23)+rt|0)<<13|L>>>19)+ft|0)<<18|L>>>14,tt^=(L=(ht^=(L=(_t^=(L=(st^=(L=tt+ht|0)<<7|L>>>25)+tt|0)<<9|L>>>23)+st|0)<<13|L>>>19)+_t|0)<<18|L>>>14,et^=(L=(st^=(L=(ft^=(L=(vt^=(L=et+st|0)<<7|L>>>25)+et|0)<<9|L>>>23)+vt|0)<<13|L>>>19)+ft|0)<<18|L>>>14,Mt^=(L=(ut^=(L=(_t^=(L=(bt^=(L=Mt+ut|0)<<7|L>>>25)+Mt|0)<<9|L>>>23)+bt|0)<<13|L>>>19)+_t|0)<<18|L>>>14,Ct^=(L=(At^=(L=(xt^=(L=(ht^=(L=Ct+At|0)<<7|L>>>25)+Ct|0)<<9|L>>>23)+ht|0)<<13|L>>>19)+xt|0)<<18|L>>>14,tt^=(L=(rt^=(L=(X^=(L=(Y^=(L=tt+rt|0)<<7|L>>>25)+tt|0)<<9|L>>>23)+Y|0)<<13|L>>>19)+X|0)<<18|L>>>14;et=et+yt|0,vt=vt+Dt|0,ft=ft+y|0,st=st+M|0,ut=ut+A|0,Mt=Mt+a|0,bt=bt+D|0,_t=_t+j|0,xt=xt+P|0,At=At+z|0,Ct=Ct+J|0,ht=ht+ot|0,Y=Y+dt|0,X=X+It|0,rt=rt+ct|0,tt=tt+Q|0,B[0]=et>>>0&255,B[1]=et>>>8&255,B[2]=et>>>16&255,B[3]=et>>>24&255,B[4]=vt>>>0&255,B[5]=vt>>>8&255,B[6]=vt>>>16&255,B[7]=vt>>>24&255,B[8]=ft>>>0&255,B[9]=ft>>>8&255,B[10]=ft>>>16&255,B[11]=ft>>>24&255,B[12]=st>>>0&255,B[13]=st>>>8&255,B[14]=st>>>16&255,B[15]=st>>>24&255,B[16]=ut>>>0&255,B[17]=ut>>>8&255,B[18]=ut>>>16&255,B[19]=ut>>>24&255,B[20]=Mt>>>0&255,B[21]=Mt>>>8&255,B[22]=Mt>>>16&255,B[23]=Mt>>>24&255,B[24]=bt>>>0&255,B[25]=bt>>>8&255,B[26]=bt>>>16&255,B[27]=bt>>>24&255,B[28]=_t>>>0&255,B[29]=_t>>>8&255,B[30]=_t>>>16&255,B[31]=_t>>>24&255,B[32]=xt>>>0&255,B[33]=xt>>>8&255,B[34]=xt>>>16&255,B[35]=xt>>>24&255,B[36]=At>>>0&255,B[37]=At>>>8&255,B[38]=At>>>16&255,B[39]=At>>>24&255,B[40]=Ct>>>0&255,B[41]=Ct>>>8&255,B[42]=Ct>>>16&255,B[43]=Ct>>>24&255,B[44]=ht>>>0&255,B[45]=ht>>>8&255,B[46]=ht>>>16&255,B[47]=ht>>>24&255,B[48]=Y>>>0&255,B[49]=Y>>>8&255,B[50]=Y>>>16&255,B[51]=Y>>>24&255,B[52]=X>>>0&255,B[53]=X>>>8&255,B[54]=X>>>16&255,B[55]=X>>>24&255,B[56]=rt>>>0&255,B[57]=rt>>>8&255,B[58]=rt>>>16&255,B[59]=rt>>>24&255,B[60]=tt>>>0&255,B[61]=tt>>>8&255,B[62]=tt>>>16&255,B[63]=tt>>>24&255})(F,N,T,m)}function u(F,N,T,m){(function(B,H,W,at){for(var L,yt=255&at[0]|(255&at[1])<<8|(255&at[2])<<16|(255&at[3])<<24,Dt=255&W[0]|(255&W[1])<<8|(255&W[2])<<16|(255&W[3])<<24,y=255&W[4]|(255&W[5])<<8|(255&W[6])<<16|(255&W[7])<<24,M=255&W[8]|(255&W[9])<<8|(255&W[10])<<16|(255&W[11])<<24,A=255&W[12]|(255&W[13])<<8|(255&W[14])<<16|(255&W[15])<<24,a=255&at[4]|(255&at[5])<<8|(255&at[6])<<16|(255&at[7])<<24,D=255&H[0]|(255&H[1])<<8|(255&H[2])<<16|(255&H[3])<<24,j=255&H[4]|(255&H[5])<<8|(255&H[6])<<16|(255&H[7])<<24,P=255&H[8]|(255&H[9])<<8|(255&H[10])<<16|(255&H[11])<<24,z=255&H[12]|(255&H[13])<<8|(255&H[14])<<16|(255&H[15])<<24,J=255&at[8]|(255&at[9])<<8|(255&at[10])<<16|(255&at[11])<<24,ot=255&W[16]|(255&W[17])<<8|(255&W[18])<<16|(255&W[19])<<24,dt=255&W[20]|(255&W[21])<<8|(255&W[22])<<16|(255&W[23])<<24,It=255&W[24]|(255&W[25])<<8|(255&W[26])<<16|(255&W[27])<<24,ct=255&W[28]|(255&W[29])<<8|(255&W[30])<<16|(255&W[31])<<24,Q=255&at[12]|(255&at[13])<<8|(255&at[14])<<16|(255&at[15])<<24,et=0;et<20;et+=2)yt^=(L=(dt^=(L=(P^=(L=(A^=(L=yt+dt|0)<<7|L>>>25)+yt|0)<<9|L>>>23)+A|0)<<13|L>>>19)+P|0)<<18|L>>>14,a^=(L=(Dt^=(L=(It^=(L=(z^=(L=a+Dt|0)<<7|L>>>25)+a|0)<<9|L>>>23)+z|0)<<13|L>>>19)+It|0)<<18|L>>>14,J^=(L=(D^=(L=(y^=(L=(ct^=(L=J+D|0)<<7|L>>>25)+J|0)<<9|L>>>23)+ct|0)<<13|L>>>19)+y|0)<<18|L>>>14,Q^=(L=(ot^=(L=(j^=(L=(M^=(L=Q+ot|0)<<7|L>>>25)+Q|0)<<9|L>>>23)+M|0)<<13|L>>>19)+j|0)<<18|L>>>14,yt^=(L=(M^=(L=(y^=(L=(Dt^=(L=yt+M|0)<<7|L>>>25)+yt|0)<<9|L>>>23)+Dt|0)<<13|L>>>19)+y|0)<<18|L>>>14,a^=(L=(A^=(L=(j^=(L=(D^=(L=a+A|0)<<7|L>>>25)+a|0)<<9|L>>>23)+D|0)<<13|L>>>19)+j|0)<<18|L>>>14,J^=(L=(z^=(L=(P^=(L=(ot^=(L=J+z|0)<<7|L>>>25)+J|0)<<9|L>>>23)+ot|0)<<13|L>>>19)+P|0)<<18|L>>>14,Q^=(L=(ct^=(L=(It^=(L=(dt^=(L=Q+ct|0)<<7|L>>>25)+Q|0)<<9|L>>>23)+dt|0)<<13|L>>>19)+It|0)<<18|L>>>14;B[0]=yt>>>0&255,B[1]=yt>>>8&255,B[2]=yt>>>16&255,B[3]=yt>>>24&255,B[4]=a>>>0&255,B[5]=a>>>8&255,B[6]=a>>>16&255,B[7]=a>>>24&255,B[8]=J>>>0&255,B[9]=J>>>8&255,B[10]=J>>>16&255,B[11]=J>>>24&255,B[12]=Q>>>0&255,B[13]=Q>>>8&255,B[14]=Q>>>16&255,B[15]=Q>>>24&255,B[16]=D>>>0&255,B[17]=D>>>8&255,B[18]=D>>>16&255,B[19]=D>>>24&255,B[20]=j>>>0&255,B[21]=j>>>8&255,B[22]=j>>>16&255,B[23]=j>>>24&255,B[24]=P>>>0&255,B[25]=P>>>8&255,B[26]=P>>>16&255,B[27]=P>>>24&255,B[28]=z>>>0&255,B[29]=z>>>8&255,B[30]=z>>>16&255,B[31]=z>>>24&255})(F,N,T,m)}var l=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function s(F,N,T,m,B,H,W){var at,L,yt=new Uint8Array(16),Dt=new Uint8Array(64);for(L=0;L<16;L++)yt[L]=0;for(L=0;L<8;L++)yt[L]=H[L];for(;B>=64;){for(S(Dt,yt,W,l),L=0;L<64;L++)F[N+L]=T[m+L]^Dt[L];for(at=1,L=8;L<16;L++)at=at+(255&yt[L])|0,yt[L]=255&at,at>>>=8;B-=64,N+=64,m+=64}if(B>0)for(S(Dt,yt,W,l),L=0;L<B;L++)F[N+L]=T[m+L]^Dt[L];return 0}function f(F,N,T,m,B){var H,W,at=new Uint8Array(16),L=new Uint8Array(64);for(W=0;W<16;W++)at[W]=0;for(W=0;W<8;W++)at[W]=m[W];for(;T>=64;){for(S(L,at,B,l),W=0;W<64;W++)F[N+W]=L[W];for(H=1,W=8;W<16;W++)H=H+(255&at[W])|0,at[W]=255&H,H>>>=8;T-=64,N+=64}if(T>0)for(S(L,at,B,l),W=0;W<T;W++)F[N+W]=L[W];return 0}function d(F,N,T,m,B){var H=new Uint8Array(32);u(H,m,B,l);for(var W=new Uint8Array(8),at=0;at<8;at++)W[at]=m[at+16];return f(F,N,T,W,H)}function b(F,N,T,m,B,H,W){var at=new Uint8Array(32);u(at,H,W,l);for(var L=new Uint8Array(8),yt=0;yt<8;yt++)L[yt]=H[yt+16];return s(F,N,T,m,B,L,at)}var _=function(F){var N,T,m,B,H,W,at,L;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,N=255&F[0]|(255&F[1])<<8,this.r[0]=8191&N,T=255&F[2]|(255&F[3])<<8,this.r[1]=8191&(N>>>13|T<<3),m=255&F[4]|(255&F[5])<<8,this.r[2]=7939&(T>>>10|m<<6),B=255&F[6]|(255&F[7])<<8,this.r[3]=8191&(m>>>7|B<<9),H=255&F[8]|(255&F[9])<<8,this.r[4]=255&(B>>>4|H<<12),this.r[5]=H>>>1&8190,W=255&F[10]|(255&F[11])<<8,this.r[6]=8191&(H>>>14|W<<2),at=255&F[12]|(255&F[13])<<8,this.r[7]=8065&(W>>>11|at<<5),L=255&F[14]|(255&F[15])<<8,this.r[8]=8191&(at>>>8|L<<8),this.r[9]=L>>>5&127,this.pad[0]=255&F[16]|(255&F[17])<<8,this.pad[1]=255&F[18]|(255&F[19])<<8,this.pad[2]=255&F[20]|(255&F[21])<<8,this.pad[3]=255&F[22]|(255&F[23])<<8,this.pad[4]=255&F[24]|(255&F[25])<<8,this.pad[5]=255&F[26]|(255&F[27])<<8,this.pad[6]=255&F[28]|(255&F[29])<<8,this.pad[7]=255&F[30]|(255&F[31])<<8};function E(F,N,T,m,B,H){var W=new _(H);return W.update(T,m,B),W.finish(F,N),0}function h(F,N,T,m,B,H){var W=new Uint8Array(16);return E(W,0,T,m,B,H),Jt(F,N,W,0)}function w(F,N,T,m,B){var H;if(T<32)return-1;for(b(F,0,N,0,T,m,B),E(F,16,F,32,T-32,F),H=0;H<16;H++)F[H]=0;return 0}function v(F,N,T,m,B){var H,W=new Uint8Array(32);if(T<32||(d(W,0,32,m,B),h(N,16,N,32,T-32,W)!==0))return-1;for(b(F,0,N,0,T,m,B),H=0;H<32;H++)F[H]=0;return 0}function U(F,N){var T;for(T=0;T<16;T++)F[T]=0|N[T]}function lt(F){var N,T,m=1;for(N=0;N<16;N++)T=F[N]+m+65535,m=Math.floor(T/65536),F[N]=T-65536*m;F[0]+=m-1+37*(m-1)}function gt(F,N,T){for(var m,B=~(T-1),H=0;H<16;H++)m=B&(F[H]^N[H]),F[H]^=m,N[H]^=m}function mt(F,N){var T,m,B,H=R(),W=R();for(T=0;T<16;T++)W[T]=N[T];for(lt(W),lt(W),lt(W),m=0;m<2;m++){for(H[0]=W[0]-65517,T=1;T<15;T++)H[T]=W[T]-65535-(H[T-1]>>16&1),H[T-1]&=65535;H[15]=W[15]-32767-(H[14]>>16&1),B=H[15]>>16&1,H[14]&=65535,gt(W,H,1-B)}for(T=0;T<16;T++)F[2*T]=255&W[T],F[2*T+1]=W[T]>>8}function Wt(F,N){var T=new Uint8Array(32),m=new Uint8Array(32);return mt(T,F),mt(m,N),Ae(T,0,m,0)}function de(F){var N=new Uint8Array(32);return mt(N,F),1&N[0]}function jt(F,N){var T;for(T=0;T<16;T++)F[T]=N[2*T]+(N[2*T+1]<<8);F[15]&=32767}function ae(F,N,T){for(var m=0;m<16;m++)F[m]=N[m]+T[m]}function he(F,N,T){for(var m=0;m<16;m++)F[m]=N[m]-T[m]}function Ft(F,N,T){var m,B,H=0,W=0,at=0,L=0,yt=0,Dt=0,y=0,M=0,A=0,a=0,D=0,j=0,P=0,z=0,J=0,ot=0,dt=0,It=0,ct=0,Q=0,et=0,vt=0,ft=0,st=0,ut=0,Mt=0,bt=0,_t=0,xt=0,At=0,Ct=0,ht=T[0],Y=T[1],X=T[2],rt=T[3],tt=T[4],nt=T[5],pt=T[6],$t=T[7],kt=T[8],Gt=T[9],Kt=T[10],O=T[11],Zt=T[12],ue=T[13],le=T[14],te=T[15];H+=(m=N[0])*ht,W+=m*Y,at+=m*X,L+=m*rt,yt+=m*tt,Dt+=m*nt,y+=m*pt,M+=m*$t,A+=m*kt,a+=m*Gt,D+=m*Kt,j+=m*O,P+=m*Zt,z+=m*ue,J+=m*le,ot+=m*te,W+=(m=N[1])*ht,at+=m*Y,L+=m*X,yt+=m*rt,Dt+=m*tt,y+=m*nt,M+=m*pt,A+=m*$t,a+=m*kt,D+=m*Gt,j+=m*Kt,P+=m*O,z+=m*Zt,J+=m*ue,ot+=m*le,dt+=m*te,at+=(m=N[2])*ht,L+=m*Y,yt+=m*X,Dt+=m*rt,y+=m*tt,M+=m*nt,A+=m*pt,a+=m*$t,D+=m*kt,j+=m*Gt,P+=m*Kt,z+=m*O,J+=m*Zt,ot+=m*ue,dt+=m*le,It+=m*te,L+=(m=N[3])*ht,yt+=m*Y,Dt+=m*X,y+=m*rt,M+=m*tt,A+=m*nt,a+=m*pt,D+=m*$t,j+=m*kt,P+=m*Gt,z+=m*Kt,J+=m*O,ot+=m*Zt,dt+=m*ue,It+=m*le,ct+=m*te,yt+=(m=N[4])*ht,Dt+=m*Y,y+=m*X,M+=m*rt,A+=m*tt,a+=m*nt,D+=m*pt,j+=m*$t,P+=m*kt,z+=m*Gt,J+=m*Kt,ot+=m*O,dt+=m*Zt,It+=m*ue,ct+=m*le,Q+=m*te,Dt+=(m=N[5])*ht,y+=m*Y,M+=m*X,A+=m*rt,a+=m*tt,D+=m*nt,j+=m*pt,P+=m*$t,z+=m*kt,J+=m*Gt,ot+=m*Kt,dt+=m*O,It+=m*Zt,ct+=m*ue,Q+=m*le,et+=m*te,y+=(m=N[6])*ht,M+=m*Y,A+=m*X,a+=m*rt,D+=m*tt,j+=m*nt,P+=m*pt,z+=m*$t,J+=m*kt,ot+=m*Gt,dt+=m*Kt,It+=m*O,ct+=m*Zt,Q+=m*ue,et+=m*le,vt+=m*te,M+=(m=N[7])*ht,A+=m*Y,a+=m*X,D+=m*rt,j+=m*tt,P+=m*nt,z+=m*pt,J+=m*$t,ot+=m*kt,dt+=m*Gt,It+=m*Kt,ct+=m*O,Q+=m*Zt,et+=m*ue,vt+=m*le,ft+=m*te,A+=(m=N[8])*ht,a+=m*Y,D+=m*X,j+=m*rt,P+=m*tt,z+=m*nt,J+=m*pt,ot+=m*$t,dt+=m*kt,It+=m*Gt,ct+=m*Kt,Q+=m*O,et+=m*Zt,vt+=m*ue,ft+=m*le,st+=m*te,a+=(m=N[9])*ht,D+=m*Y,j+=m*X,P+=m*rt,z+=m*tt,J+=m*nt,ot+=m*pt,dt+=m*$t,It+=m*kt,ct+=m*Gt,Q+=m*Kt,et+=m*O,vt+=m*Zt,ft+=m*ue,st+=m*le,ut+=m*te,D+=(m=N[10])*ht,j+=m*Y,P+=m*X,z+=m*rt,J+=m*tt,ot+=m*nt,dt+=m*pt,It+=m*$t,ct+=m*kt,Q+=m*Gt,et+=m*Kt,vt+=m*O,ft+=m*Zt,st+=m*ue,ut+=m*le,Mt+=m*te,j+=(m=N[11])*ht,P+=m*Y,z+=m*X,J+=m*rt,ot+=m*tt,dt+=m*nt,It+=m*pt,ct+=m*$t,Q+=m*kt,et+=m*Gt,vt+=m*Kt,ft+=m*O,st+=m*Zt,ut+=m*ue,Mt+=m*le,bt+=m*te,P+=(m=N[12])*ht,z+=m*Y,J+=m*X,ot+=m*rt,dt+=m*tt,It+=m*nt,ct+=m*pt,Q+=m*$t,et+=m*kt,vt+=m*Gt,ft+=m*Kt,st+=m*O,ut+=m*Zt,Mt+=m*ue,bt+=m*le,_t+=m*te,z+=(m=N[13])*ht,J+=m*Y,ot+=m*X,dt+=m*rt,It+=m*tt,ct+=m*nt,Q+=m*pt,et+=m*$t,vt+=m*kt,ft+=m*Gt,st+=m*Kt,ut+=m*O,Mt+=m*Zt,bt+=m*ue,_t+=m*le,xt+=m*te,J+=(m=N[14])*ht,ot+=m*Y,dt+=m*X,It+=m*rt,ct+=m*tt,Q+=m*nt,et+=m*pt,vt+=m*$t,ft+=m*kt,st+=m*Gt,ut+=m*Kt,Mt+=m*O,bt+=m*Zt,_t+=m*ue,xt+=m*le,At+=m*te,ot+=(m=N[15])*ht,W+=38*(It+=m*X),at+=38*(ct+=m*rt),L+=38*(Q+=m*tt),yt+=38*(et+=m*nt),Dt+=38*(vt+=m*pt),y+=38*(ft+=m*$t),M+=38*(st+=m*kt),A+=38*(ut+=m*Gt),a+=38*(Mt+=m*Kt),D+=38*(bt+=m*O),j+=38*(_t+=m*Zt),P+=38*(xt+=m*ue),z+=38*(At+=m*le),J+=38*(Ct+=m*te),H=(m=(H+=38*(dt+=m*Y))+(B=1)+65535)-65536*(B=Math.floor(m/65536)),W=(m=W+B+65535)-65536*(B=Math.floor(m/65536)),at=(m=at+B+65535)-65536*(B=Math.floor(m/65536)),L=(m=L+B+65535)-65536*(B=Math.floor(m/65536)),yt=(m=yt+B+65535)-65536*(B=Math.floor(m/65536)),Dt=(m=Dt+B+65535)-65536*(B=Math.floor(m/65536)),y=(m=y+B+65535)-65536*(B=Math.floor(m/65536)),M=(m=M+B+65535)-65536*(B=Math.floor(m/65536)),A=(m=A+B+65535)-65536*(B=Math.floor(m/65536)),a=(m=a+B+65535)-65536*(B=Math.floor(m/65536)),D=(m=D+B+65535)-65536*(B=Math.floor(m/65536)),j=(m=j+B+65535)-65536*(B=Math.floor(m/65536)),P=(m=P+B+65535)-65536*(B=Math.floor(m/65536)),z=(m=z+B+65535)-65536*(B=Math.floor(m/65536)),J=(m=J+B+65535)-65536*(B=Math.floor(m/65536)),ot=(m=ot+B+65535)-65536*(B=Math.floor(m/65536)),H=(m=(H+=B-1+37*(B-1))+(B=1)+65535)-65536*(B=Math.floor(m/65536)),W=(m=W+B+65535)-65536*(B=Math.floor(m/65536)),at=(m=at+B+65535)-65536*(B=Math.floor(m/65536)),L=(m=L+B+65535)-65536*(B=Math.floor(m/65536)),yt=(m=yt+B+65535)-65536*(B=Math.floor(m/65536)),Dt=(m=Dt+B+65535)-65536*(B=Math.floor(m/65536)),y=(m=y+B+65535)-65536*(B=Math.floor(m/65536)),M=(m=M+B+65535)-65536*(B=Math.floor(m/65536)),A=(m=A+B+65535)-65536*(B=Math.floor(m/65536)),a=(m=a+B+65535)-65536*(B=Math.floor(m/65536)),D=(m=D+B+65535)-65536*(B=Math.floor(m/65536)),j=(m=j+B+65535)-65536*(B=Math.floor(m/65536)),P=(m=P+B+65535)-65536*(B=Math.floor(m/65536)),z=(m=z+B+65535)-65536*(B=Math.floor(m/65536)),J=(m=J+B+65535)-65536*(B=Math.floor(m/65536)),ot=(m=ot+B+65535)-65536*(B=Math.floor(m/65536)),H+=B-1+37*(B-1),F[0]=H,F[1]=W,F[2]=at,F[3]=L,F[4]=yt,F[5]=Dt,F[6]=y,F[7]=M,F[8]=A,F[9]=a,F[10]=D,F[11]=j,F[12]=P,F[13]=z,F[14]=J,F[15]=ot}function ce(F,N){Ft(F,N,N)}function Ee(F,N){var T,m=R();for(T=0;T<16;T++)m[T]=N[T];for(T=253;T>=0;T--)ce(m,m),T!==2&&T!==4&&Ft(m,m,N);for(T=0;T<16;T++)F[T]=m[T]}function Qt(F,N){var T,m=R();for(T=0;T<16;T++)m[T]=N[T];for(T=250;T>=0;T--)ce(m,m),T!==1&&Ft(m,m,N);for(T=0;T<16;T++)F[T]=m[T]}function Ce(F,N,T){var m,B,H=new Uint8Array(32),W=new Float64Array(80),at=R(),L=R(),yt=R(),Dt=R(),y=R(),M=R();for(B=0;B<31;B++)H[B]=N[B];for(H[31]=127&N[31]|64,H[0]&=248,jt(W,T),B=0;B<16;B++)L[B]=W[B],Dt[B]=at[B]=yt[B]=0;for(at[0]=Dt[0]=1,B=254;B>=0;--B)gt(at,L,m=H[B>>>3]>>>(7&B)&1),gt(yt,Dt,m),ae(y,at,yt),he(at,at,yt),ae(yt,L,Dt),he(L,L,Dt),ce(Dt,y),ce(M,at),Ft(at,yt,at),Ft(yt,L,y),ae(y,at,yt),he(at,at,yt),ce(L,at),he(yt,Dt,M),Ft(at,yt,wt),ae(at,at,Dt),Ft(yt,yt,at),Ft(at,Dt,M),Ft(Dt,L,W),ce(L,y),gt(at,L,m),gt(yt,Dt,m);for(B=0;B<16;B++)W[B+16]=at[B],W[B+32]=yt[B],W[B+48]=L[B],W[B+64]=Dt[B];var A=W.subarray(32),a=W.subarray(16);return Ee(A,A),Ft(a,a,A),mt(F,a),0}function me(F,N){return Ce(F,N,Z)}function ie(F,N){return K(N,32),me(F,N)}function ye(F,N,T){var m=new Uint8Array(32);return Ce(m,T,N),u(F,V,m,l)}_.prototype.blocks=function(F,N,T){for(var m,B,H,W,at,L,yt,Dt,y,M,A,a,D,j,P,z,J,ot,dt,It=this.fin?0:2048,ct=this.h[0],Q=this.h[1],et=this.h[2],vt=this.h[3],ft=this.h[4],st=this.h[5],ut=this.h[6],Mt=this.h[7],bt=this.h[8],_t=this.h[9],xt=this.r[0],At=this.r[1],Ct=this.r[2],ht=this.r[3],Y=this.r[4],X=this.r[5],rt=this.r[6],tt=this.r[7],nt=this.r[8],pt=this.r[9];T>=16;)M=y=0,M+=(ct+=8191&(m=255&F[N+0]|(255&F[N+1])<<8))*xt,M+=(Q+=8191&(m>>>13|(B=255&F[N+2]|(255&F[N+3])<<8)<<3))*(5*pt),M+=(et+=8191&(B>>>10|(H=255&F[N+4]|(255&F[N+5])<<8)<<6))*(5*nt),M+=(vt+=8191&(H>>>7|(W=255&F[N+6]|(255&F[N+7])<<8)<<9))*(5*tt),y=(M+=(ft+=8191&(W>>>4|(at=255&F[N+8]|(255&F[N+9])<<8)<<12))*(5*rt))>>>13,M&=8191,M+=(st+=at>>>1&8191)*(5*X),M+=(ut+=8191&(at>>>14|(L=255&F[N+10]|(255&F[N+11])<<8)<<2))*(5*Y),M+=(Mt+=8191&(L>>>11|(yt=255&F[N+12]|(255&F[N+13])<<8)<<5))*(5*ht),M+=(bt+=8191&(yt>>>8|(Dt=255&F[N+14]|(255&F[N+15])<<8)<<8))*(5*Ct),A=y+=(M+=(_t+=Dt>>>5|It)*(5*At))>>>13,A+=ct*At,A+=Q*xt,A+=et*(5*pt),A+=vt*(5*nt),y=(A+=ft*(5*tt))>>>13,A&=8191,A+=st*(5*rt),A+=ut*(5*X),A+=Mt*(5*Y),A+=bt*(5*ht),y+=(A+=_t*(5*Ct))>>>13,A&=8191,a=y,a+=ct*Ct,a+=Q*At,a+=et*xt,a+=vt*(5*pt),y=(a+=ft*(5*nt))>>>13,a&=8191,a+=st*(5*tt),a+=ut*(5*rt),a+=Mt*(5*X),a+=bt*(5*Y),D=y+=(a+=_t*(5*ht))>>>13,D+=ct*ht,D+=Q*Ct,D+=et*At,D+=vt*xt,y=(D+=ft*(5*pt))>>>13,D&=8191,D+=st*(5*nt),D+=ut*(5*tt),D+=Mt*(5*rt),D+=bt*(5*X),j=y+=(D+=_t*(5*Y))>>>13,j+=ct*Y,j+=Q*ht,j+=et*Ct,j+=vt*At,y=(j+=ft*xt)>>>13,j&=8191,j+=st*(5*pt),j+=ut*(5*nt),j+=Mt*(5*tt),j+=bt*(5*rt),P=y+=(j+=_t*(5*X))>>>13,P+=ct*X,P+=Q*Y,P+=et*ht,P+=vt*Ct,y=(P+=ft*At)>>>13,P&=8191,P+=st*xt,P+=ut*(5*pt),P+=Mt*(5*nt),P+=bt*(5*tt),z=y+=(P+=_t*(5*rt))>>>13,z+=ct*rt,z+=Q*X,z+=et*Y,z+=vt*ht,y=(z+=ft*Ct)>>>13,z&=8191,z+=st*At,z+=ut*xt,z+=Mt*(5*pt),z+=bt*(5*nt),J=y+=(z+=_t*(5*tt))>>>13,J+=ct*tt,J+=Q*rt,J+=et*X,J+=vt*Y,y=(J+=ft*ht)>>>13,J&=8191,J+=st*Ct,J+=ut*At,J+=Mt*xt,J+=bt*(5*pt),ot=y+=(J+=_t*(5*nt))>>>13,ot+=ct*nt,ot+=Q*tt,ot+=et*rt,ot+=vt*X,y=(ot+=ft*Y)>>>13,ot&=8191,ot+=st*ht,ot+=ut*Ct,ot+=Mt*At,ot+=bt*xt,dt=y+=(ot+=_t*(5*pt))>>>13,dt+=ct*pt,dt+=Q*nt,dt+=et*tt,dt+=vt*rt,y=(dt+=ft*X)>>>13,dt&=8191,dt+=st*Y,dt+=ut*ht,dt+=Mt*Ct,dt+=bt*At,ct=M=8191&(y=(y=((y+=(dt+=_t*xt)>>>13)<<2)+y|0)+(M&=8191)|0),Q=A+=y>>>=13,et=a&=8191,vt=D&=8191,ft=j&=8191,st=P&=8191,ut=z&=8191,Mt=J&=8191,bt=ot&=8191,_t=dt&=8191,N+=16,T-=16;this.h[0]=ct,this.h[1]=Q,this.h[2]=et,this.h[3]=vt,this.h[4]=ft,this.h[5]=st,this.h[6]=ut,this.h[7]=Mt,this.h[8]=bt,this.h[9]=_t},_.prototype.finish=function(F,N){var T,m,B,H,W=new Uint16Array(10);if(this.leftover){for(H=this.leftover,this.buffer[H++]=1;H<16;H++)this.buffer[H]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(T=this.h[1]>>>13,this.h[1]&=8191,H=2;H<10;H++)this.h[H]+=T,T=this.h[H]>>>13,this.h[H]&=8191;for(this.h[0]+=5*T,T=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=T,T=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=T,W[0]=this.h[0]+5,T=W[0]>>>13,W[0]&=8191,H=1;H<10;H++)W[H]=this.h[H]+T,T=W[H]>>>13,W[H]&=8191;for(W[9]-=8192,m=(1^T)-1,H=0;H<10;H++)W[H]&=m;for(m=~m,H=0;H<10;H++)this.h[H]=this.h[H]&m|W[H];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),B=this.h[0]+this.pad[0],this.h[0]=65535&B,H=1;H<8;H++)B=(this.h[H]+this.pad[H]|0)+(B>>>16)|0,this.h[H]=65535&B;F[N+0]=this.h[0]>>>0&255,F[N+1]=this.h[0]>>>8&255,F[N+2]=this.h[1]>>>0&255,F[N+3]=this.h[1]>>>8&255,F[N+4]=this.h[2]>>>0&255,F[N+5]=this.h[2]>>>8&255,F[N+6]=this.h[3]>>>0&255,F[N+7]=this.h[3]>>>8&255,F[N+8]=this.h[4]>>>0&255,F[N+9]=this.h[4]>>>8&255,F[N+10]=this.h[5]>>>0&255,F[N+11]=this.h[5]>>>8&255,F[N+12]=this.h[6]>>>0&255,F[N+13]=this.h[6]>>>8&255,F[N+14]=this.h[7]>>>0&255,F[N+15]=this.h[7]>>>8&255},_.prototype.update=function(F,N,T){var m,B;if(this.leftover){for((B=16-this.leftover)>T&&(B=T),m=0;m<B;m++)this.buffer[this.leftover+m]=F[N+m];if(T-=B,N+=B,this.leftover+=B,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(T>=16&&(B=T-T%16,this.blocks(F,N,B),N+=B,T-=B),T){for(m=0;m<T;m++)this.buffer[this.leftover+m]=F[N+m];this.leftover+=T}};var fe=w,zt=v,_e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function pe(F,N,T,m){for(var B,H,W,at,L,yt,Dt,y,M,A,a,D,j,P,z,J,ot,dt,It,ct,Q,et,vt,ft,st,ut,Mt=new Int32Array(16),bt=new Int32Array(16),_t=F[0],xt=F[1],At=F[2],Ct=F[3],ht=F[4],Y=F[5],X=F[6],rt=F[7],tt=N[0],nt=N[1],pt=N[2],$t=N[3],kt=N[4],Gt=N[5],Kt=N[6],O=N[7],Zt=0;m>=128;){for(It=0;It<16;It++)ct=8*It+Zt,Mt[It]=T[ct+0]<<24|T[ct+1]<<16|T[ct+2]<<8|T[ct+3],bt[It]=T[ct+4]<<24|T[ct+5]<<16|T[ct+6]<<8|T[ct+7];for(It=0;It<80;It++)if(B=_t,H=xt,W=At,at=Ct,L=ht,yt=Y,Dt=X,M=tt,A=nt,a=pt,D=$t,j=kt,P=Gt,z=Kt,vt=65535&(et=O),ft=et>>>16,st=65535&(Q=rt),ut=Q>>>16,vt+=65535&(et=(kt>>>14|ht<<18)^(kt>>>18|ht<<14)^(ht>>>9|kt<<23)),ft+=et>>>16,st+=65535&(Q=(ht>>>14|kt<<18)^(ht>>>18|kt<<14)^(kt>>>9|ht<<23)),ut+=Q>>>16,vt+=65535&(et=kt&Gt^~kt&Kt),ft+=et>>>16,st+=65535&(Q=ht&Y^~ht&X),ut+=Q>>>16,vt+=65535&(et=_e[2*It+1]),ft+=et>>>16,st+=65535&(Q=_e[2*It]),ut+=Q>>>16,Q=Mt[It%16],ft+=(et=bt[It%16])>>>16,st+=65535&Q,ut+=Q>>>16,st+=(ft+=(vt+=65535&et)>>>16)>>>16,vt=65535&(et=dt=65535&vt|ft<<16),ft=et>>>16,st=65535&(Q=ot=65535&st|(ut+=st>>>16)<<16),ut=Q>>>16,vt+=65535&(et=(tt>>>28|_t<<4)^(_t>>>2|tt<<30)^(_t>>>7|tt<<25)),ft+=et>>>16,st+=65535&(Q=(_t>>>28|tt<<4)^(tt>>>2|_t<<30)^(tt>>>7|_t<<25)),ut+=Q>>>16,ft+=(et=tt&nt^tt&pt^nt&pt)>>>16,st+=65535&(Q=_t&xt^_t&At^xt&At),ut+=Q>>>16,y=65535&(st+=(ft+=(vt+=65535&et)>>>16)>>>16)|(ut+=st>>>16)<<16,J=65535&vt|ft<<16,vt=65535&(et=D),ft=et>>>16,st=65535&(Q=at),ut=Q>>>16,ft+=(et=dt)>>>16,st+=65535&(Q=ot),ut+=Q>>>16,xt=B,At=H,Ct=W,ht=at=65535&(st+=(ft+=(vt+=65535&et)>>>16)>>>16)|(ut+=st>>>16)<<16,Y=L,X=yt,rt=Dt,_t=y,nt=M,pt=A,$t=a,kt=D=65535&vt|ft<<16,Gt=j,Kt=P,O=z,tt=J,It%16==15)for(ct=0;ct<16;ct++)Q=Mt[ct],vt=65535&(et=bt[ct]),ft=et>>>16,st=65535&Q,ut=Q>>>16,Q=Mt[(ct+9)%16],vt+=65535&(et=bt[(ct+9)%16]),ft+=et>>>16,st+=65535&Q,ut+=Q>>>16,ot=Mt[(ct+1)%16],vt+=65535&(et=((dt=bt[(ct+1)%16])>>>1|ot<<31)^(dt>>>8|ot<<24)^(dt>>>7|ot<<25)),ft+=et>>>16,st+=65535&(Q=(ot>>>1|dt<<31)^(ot>>>8|dt<<24)^ot>>>7),ut+=Q>>>16,ot=Mt[(ct+14)%16],ft+=(et=((dt=bt[(ct+14)%16])>>>19|ot<<13)^(ot>>>29|dt<<3)^(dt>>>6|ot<<26))>>>16,st+=65535&(Q=(ot>>>19|dt<<13)^(dt>>>29|ot<<3)^ot>>>6),ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,Mt[ct]=65535&st|ut<<16,bt[ct]=65535&vt|ft<<16;vt=65535&(et=tt),ft=et>>>16,st=65535&(Q=_t),ut=Q>>>16,Q=F[0],ft+=(et=N[0])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[0]=_t=65535&st|ut<<16,N[0]=tt=65535&vt|ft<<16,vt=65535&(et=nt),ft=et>>>16,st=65535&(Q=xt),ut=Q>>>16,Q=F[1],ft+=(et=N[1])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[1]=xt=65535&st|ut<<16,N[1]=nt=65535&vt|ft<<16,vt=65535&(et=pt),ft=et>>>16,st=65535&(Q=At),ut=Q>>>16,Q=F[2],ft+=(et=N[2])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[2]=At=65535&st|ut<<16,N[2]=pt=65535&vt|ft<<16,vt=65535&(et=$t),ft=et>>>16,st=65535&(Q=Ct),ut=Q>>>16,Q=F[3],ft+=(et=N[3])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[3]=Ct=65535&st|ut<<16,N[3]=$t=65535&vt|ft<<16,vt=65535&(et=kt),ft=et>>>16,st=65535&(Q=ht),ut=Q>>>16,Q=F[4],ft+=(et=N[4])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[4]=ht=65535&st|ut<<16,N[4]=kt=65535&vt|ft<<16,vt=65535&(et=Gt),ft=et>>>16,st=65535&(Q=Y),ut=Q>>>16,Q=F[5],ft+=(et=N[5])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[5]=Y=65535&st|ut<<16,N[5]=Gt=65535&vt|ft<<16,vt=65535&(et=Kt),ft=et>>>16,st=65535&(Q=X),ut=Q>>>16,Q=F[6],ft+=(et=N[6])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[6]=X=65535&st|ut<<16,N[6]=Kt=65535&vt|ft<<16,vt=65535&(et=O),ft=et>>>16,st=65535&(Q=rt),ut=Q>>>16,Q=F[7],ft+=(et=N[7])>>>16,st+=65535&Q,ut+=Q>>>16,ut+=(st+=(ft+=(vt+=65535&et)>>>16)>>>16)>>>16,F[7]=rt=65535&st|ut<<16,N[7]=O=65535&vt|ft<<16,Zt+=128,m-=128}return m}function Lt(F,N,T){var m,B=new Int32Array(8),H=new Int32Array(8),W=new Uint8Array(256),at=T;for(B[0]=1779033703,B[1]=3144134277,B[2]=1013904242,B[3]=2773480762,B[4]=1359893119,B[5]=2600822924,B[6]=528734635,B[7]=1541459225,H[0]=4089235720,H[1]=2227873595,H[2]=4271175723,H[3]=1595750129,H[4]=2917565137,H[5]=725511199,H[6]=4215389547,H[7]=327033209,pe(B,H,N,T),T%=128,m=0;m<T;m++)W[m]=N[at-T+m];for(W[T]=128,W[(T=256-128*(T<112?1:0))-9]=0,re(W,T-8,at/536870912|0,at<<3),pe(B,H,W,T),m=0;m<8;m++)re(F,8*m,B[m],H[m]);return 0}function be(F,N){var T=R(),m=R(),B=R(),H=R(),W=R(),at=R(),L=R(),yt=R(),Dt=R();he(T,F[1],F[0]),he(Dt,N[1],N[0]),Ft(T,T,Dt),ae(m,F[0],F[1]),ae(Dt,N[0],N[1]),Ft(m,m,Dt),Ft(B,F[3],N[3]),Ft(B,B,Ot),Ft(H,F[2],N[2]),ae(H,H,H),he(W,m,T),he(at,H,B),ae(L,H,B),ae(yt,m,T),Ft(F[0],W,at),Ft(F[1],yt,L),Ft(F[2],L,at),Ft(F[3],W,yt)}function ve(F,N,T){var m;for(m=0;m<4;m++)gt(F[m],N[m],T)}function Xt(F,N){var T=R(),m=R(),B=R();Ee(B,N[2]),Ft(T,N[0],B),Ft(m,N[1],B),mt(F,m),F[31]^=de(T)<<7}function I(F,N,T){var m,B;for(U(F[0],Et),U(F[1],Pt),U(F[2],Pt),U(F[3],Et),B=255;B>=0;--B)ve(F,N,m=T[B/8|0]>>(7&B)&1),be(N,F),be(F,F),ve(F,N,m)}function p(F,N){var T=[R(),R(),R(),R()];U(T[0],se),U(T[1],oe),U(T[2],Pt),Ft(T[3],se,oe),I(F,T,N)}function g(F,N,T){var m,B=new Uint8Array(64),H=[R(),R(),R(),R()];for(T||K(N,32),Lt(B,N,32),B[0]&=248,B[31]&=127,B[31]|=64,p(H,B),Xt(F,H),m=0;m<32;m++)N[m+32]=F[m];return 0}var $=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function q(F,N){var T,m,B,H;for(m=63;m>=32;--m){for(T=0,B=m-32,H=m-12;B<H;++B)N[B]+=T-16*N[m]*$[B-(m-32)],T=Math.floor((N[B]+128)/256),N[B]-=256*T;N[B]+=T,N[m]=0}for(T=0,B=0;B<32;B++)N[B]+=T-(N[31]>>4)*$[B],T=N[B]>>8,N[B]&=255;for(B=0;B<32;B++)N[B]-=T*$[B];for(m=0;m<32;m++)N[m+1]+=N[m]>>8,F[m]=255&N[m]}function G(F){var N,T=new Float64Array(64);for(N=0;N<64;N++)T[N]=F[N];for(N=0;N<64;N++)F[N]=0;q(F,T)}function it(F,N,T,m){var B,H,W=new Uint8Array(64),at=new Uint8Array(64),L=new Uint8Array(64),yt=new Float64Array(64),Dt=[R(),R(),R(),R()];Lt(W,m,32),W[0]&=248,W[31]&=127,W[31]|=64;var y=T+64;for(B=0;B<T;B++)F[64+B]=N[B];for(B=0;B<32;B++)F[32+B]=W[32+B];for(Lt(L,F.subarray(32),T+32),G(L),p(Dt,L),Xt(F,Dt),B=32;B<64;B++)F[B]=m[B];for(Lt(at,F,T+64),G(at),B=0;B<64;B++)yt[B]=0;for(B=0;B<32;B++)yt[B]=L[B];for(B=0;B<32;B++)for(H=0;H<32;H++)yt[B+H]+=at[B]*W[H];return q(F.subarray(32),yt),y}function Ut(F,N,T,m){var B,H=new Uint8Array(32),W=new Uint8Array(64),at=[R(),R(),R(),R()],L=[R(),R(),R(),R()];if(T<64||function(yt,Dt){var y=R(),M=R(),A=R(),a=R(),D=R(),j=R(),P=R();return U(yt[2],Pt),jt(yt[1],Dt),ce(A,yt[1]),Ft(a,A,Nt),he(A,A,yt[2]),ae(a,yt[2],a),ce(D,a),ce(j,D),Ft(P,j,D),Ft(y,P,A),Ft(y,y,a),Qt(y,y),Ft(y,y,A),Ft(y,y,a),Ft(y,y,a),Ft(yt[0],y,a),ce(M,yt[0]),Ft(M,M,a),Wt(M,A)&&Ft(yt[0],yt[0],Rt),ce(M,yt[0]),Ft(M,M,a),Wt(M,A)?-1:(de(yt[0])===Dt[31]>>7&&he(yt[0],Et,yt[0]),Ft(yt[3],yt[0],yt[1]),0)}(L,m))return-1;for(B=0;B<T;B++)F[B]=N[B];for(B=0;B<32;B++)F[B+32]=m[B];if(Lt(W,F,T),G(W),I(at,L,W),p(L,N.subarray(32)),be(at,L),Xt(H,at),T-=64,Ae(N,0,H,0)){for(B=0;B<T;B++)F[B]=0;return-1}for(B=0;B<T;B++)F[B]=N[B+64];return T}var Tt,qt=64,Yt=32,St=64;function Be(F,N){if(F.length!==32)throw new Error("bad key size");if(N.length!==24)throw new Error("bad nonce size")}function ge(){for(var F=0;F<arguments.length;F++)if(!(arguments[F]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Vt(F){for(var N=0;N<F.length;N++)F[N]=0}k.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:b,crypto_stream:d,crypto_stream_salsa20_xor:s,crypto_stream_salsa20:f,crypto_onetimeauth:E,crypto_onetimeauth_verify:h,crypto_verify_16:Jt,crypto_verify_32:Ae,crypto_secretbox:w,crypto_secretbox_open:v,crypto_scalarmult:Ce,crypto_scalarmult_base:me,crypto_box_beforenm:ye,crypto_box_afternm:fe,crypto_box:function(F,N,T,m,B,H){var W=new Uint8Array(32);return ye(W,B,H),fe(F,N,T,m,W)},crypto_box_open:function(F,N,T,m,B,H){var W=new Uint8Array(32);return ye(W,B,H),zt(F,N,T,m,W)},crypto_box_keypair:ie,crypto_hash:Lt,crypto_sign:it,crypto_sign_keypair:g,crypto_sign_open:Ut,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:qt,crypto_sign_PUBLICKEYBYTES:Yt,crypto_sign_SECRETKEYBYTES:St,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:R,D:Nt,L:$,pack25519:mt,unpack25519:jt,M:Ft,A:ae,S:ce,Z:he,pow2523:Qt,add:be,set25519:U,modL:q,scalarmult:I,scalarbase:p},k.randomBytes=function(F){var N=new Uint8Array(F);return K(N,F),N},k.secretbox=function(F,N,T){ge(F,N,T),Be(T,N);for(var m=new Uint8Array(32+F.length),B=new Uint8Array(m.length),H=0;H<F.length;H++)m[H+32]=F[H];return w(B,m,m.length,N,T),B.subarray(16)},k.secretbox.open=function(F,N,T){ge(F,N,T),Be(T,N);for(var m=new Uint8Array(16+F.length),B=new Uint8Array(m.length),H=0;H<F.length;H++)m[H+16]=F[H];return m.length<32||v(B,m,m.length,N,T)!==0?null:B.subarray(32)},k.secretbox.keyLength=32,k.secretbox.nonceLength=24,k.secretbox.overheadLength=16,k.scalarMult=function(F,N){if(ge(F,N),F.length!==32)throw new Error("bad n size");if(N.length!==32)throw new Error("bad p size");var T=new Uint8Array(32);return Ce(T,F,N),T},k.scalarMult.base=function(F){if(ge(F),F.length!==32)throw new Error("bad n size");var N=new Uint8Array(32);return me(N,F),N},k.scalarMult.scalarLength=32,k.scalarMult.groupElementLength=32,k.box=function(F,N,T,m){var B=k.box.before(T,m);return k.secretbox(F,N,B)},k.box.before=function(F,N){ge(F,N),function(m,B){if(m.length!==32)throw new Error("bad public key size");if(B.length!==32)throw new Error("bad secret key size")}(F,N);var T=new Uint8Array(32);return ye(T,F,N),T},k.box.after=k.secretbox,k.box.open=function(F,N,T,m){var B=k.box.before(T,m);return k.secretbox.open(F,N,B)},k.box.open.after=k.secretbox.open,k.box.keyPair=function(){var F=new Uint8Array(32),N=new Uint8Array(32);return ie(F,N),{publicKey:F,secretKey:N}},k.box.keyPair.fromSecretKey=function(F){if(ge(F),F.length!==32)throw new Error("bad secret key size");var N=new Uint8Array(32);return me(N,F),{publicKey:N,secretKey:new Uint8Array(F)}},k.box.publicKeyLength=32,k.box.secretKeyLength=32,k.box.sharedKeyLength=32,k.box.nonceLength=24,k.box.overheadLength=k.secretbox.overheadLength,k.sign=function(F,N){if(ge(F,N),N.length!==St)throw new Error("bad secret key size");var T=new Uint8Array(qt+F.length);return it(T,F,F.length,N),T},k.sign.open=function(F,N){if(ge(F,N),N.length!==Yt)throw new Error("bad public key size");var T=new Uint8Array(F.length),m=Ut(T,F,F.length,N);if(m<0)return null;for(var B=new Uint8Array(m),H=0;H<B.length;H++)B[H]=T[H];return B},k.sign.detached=function(F,N){for(var T=k.sign(F,N),m=new Uint8Array(qt),B=0;B<m.length;B++)m[B]=T[B];return m},k.sign.detached.verify=function(F,N,T){if(ge(F,N,T),N.length!==qt)throw new Error("bad signature size");if(T.length!==Yt)throw new Error("bad public key size");var m,B=new Uint8Array(qt+F.length),H=new Uint8Array(qt+F.length);for(m=0;m<qt;m++)B[m]=N[m];for(m=0;m<F.length;m++)B[m+qt]=F[m];return Ut(H,B,B.length,T)>=0},k.sign.keyPair=function(){var F=new Uint8Array(Yt),N=new Uint8Array(St);return g(F,N),{publicKey:F,secretKey:N}},k.sign.keyPair.fromSecretKey=function(F){if(ge(F),F.length!==St)throw new Error("bad secret key size");for(var N=new Uint8Array(Yt),T=0;T<N.length;T++)N[T]=F[32+T];return{publicKey:N,secretKey:new Uint8Array(F)}},k.sign.keyPair.fromSeed=function(F){if(ge(F),F.length!==32)throw new Error("bad seed size");for(var N=new Uint8Array(Yt),T=new Uint8Array(St),m=0;m<32;m++)T[m]=F[m];return g(N,T,!0),{publicKey:N,secretKey:T}},k.sign.publicKeyLength=Yt,k.sign.secretKeyLength=St,k.sign.seedLength=32,k.sign.signatureLength=qt,k.hash=function(F){ge(F);var N=new Uint8Array(64);return Lt(N,F,F.length),N},k.hash.hashLength=64,k.verify=function(F,N){return ge(F,N),F.length!==0&&N.length!==0&&F.length===N.length&&ne(F,0,N,0,F.length)===0},k.setPRNG=function(F){K=F},(Tt=typeof self!="undefined"?self.crypto||self.msCrypto:null)&&Tt.getRandomValues?k.setPRNG(function(F,N){var T,m=new Uint8Array(N);for(T=0;T<N;T+=65536)Tt.getRandomValues(m.subarray(T,T+Math.min(N-T,65536)));for(T=0;T<N;T++)F[T]=m[T];Vt(m)}):(Tt=C(24))&&Tt.randomBytes&&k.setPRNG(function(F,N){var T,m=Tt.randomBytes(N);for(T=0;T<N;T++)F[T]=m[T];Vt(m)})})(c.exports?c.exports:self.nacl=self.nacl||{})},24:()=>{}},n={};function o(c){var x=n[c];if(x!==void 0)return x.exports;var C=n[c]={exports:{}};return e[c](C,C.exports,o),C.exports}o.n=c=>{var x=c&&c.__esModule?()=>c.default:()=>c;return o.d(x,{a:x}),x},o.d=(c,x)=>{for(var C in x)o.o(x,C)&&!o.o(c,C)&&Object.defineProperty(c,C,{enumerable:!0,get:x[C]})},o.o=(c,x)=>Object.prototype.hasOwnProperty.call(c,x),o.r=c=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var i={};return(()=>{o.r(i),o.d(i,{KeyPair:()=>c.KeyPair,generateMnemonic:()=>Pt,isPasswordNeeded:()=>Et,mnemonicToKeyPair:()=>se,mnemonicToSeed:()=>Ot,validateMnemonic:()=>oe,wordlists:()=>x});var c={};o.r(c),o.d(c,{I:()=>se});var x={};o.r(x),o.d(x,{EN:()=>k,default:()=>k,english:()=>k});const C=self.crypto,k=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];async function R(Rt){return(await V(Rt,"TON seed version",Math.max(1,Math.floor(390.625))))[0]==0}async function K(Rt,re=""){const ne=Rt.join(" ");return await async function(Jt,Ae){const S=Z(Jt).buffer,u=Ae.length?Z(Ae).buffer:new ArrayBuffer(0),l={name:"HMAC",hash:"SHA-512"},s=await C.subtle.importKey("raw",S,l,!1,["sign"]);return await C.subtle.sign(l,s,u)}(ne,re)}async function V(Rt,re,ne){const Jt=Z(re).buffer,Ae=await C.subtle.importKey("raw",Rt,{name:"PBKDF2"},!1,["deriveBits"]),S=await C.subtle.deriveBits({name:"PBKDF2",hash:"SHA-512",salt:Jt,iterations:ne},Ae,512);return new Uint8Array(S)}function Z(Rt,re=1){let ne,Jt;switch(re){case 1:ne=new ArrayBuffer(Rt.length),Jt=new Uint8Array(ne);break;case 2:ne=new ArrayBuffer(2*Rt.length),Jt=new Uint16Array(ne);break;case 4:ne=new ArrayBuffer(4*Rt.length),Jt=new Uint32Array(ne);break;default:throw new Error(`Incorrect size specified: ${re}`)}for(let Ae=0,S=Rt.length;Ae<S;Ae++)Jt[Ae]=Rt.charCodeAt(Ae);return new Uint8Array(Jt.buffer)}async function Et(Rt){const re=await K(Rt,"");return await async function(ne){return(await V(ne,"TON fast seed version",1))[0]==1}(re)&&!await R(re)}async function Pt(Rt=24,re="",ne=k){let Jt=[];for(;;){Jt=[];const Ae=C.getRandomValues(new Uint16Array(Rt));for(let S=0;S<Rt;S++)Jt.push(ne[2047&Ae[S]]);if((!(re.length>0)||await Et(Jt))&&await R(await K(Jt,re)))break}return Jt}var wt=o(780),Nt=o.n(wt);async function Ot(Rt,re=""){const ne=await K(Rt,re);return(await V(ne,"TON default seed",1e5)).slice(0,32)}async function se(Rt,re=""){const ne=await Ot(Rt,re);return Nt().sign.keyPair.fromSeed(ne)}async function oe(Rt,re="",ne=k){for(let Jt of Rt)if(ne.indexOf(Jt)===-1)return!1;return!(re.length>0&&!await Et(Rt))&&await R(await K(Rt,re))}})(),i})()})})(ai);function yu(r,t){for(var e in t)r[e]=t[e];return r}function Eo(r,t){for(var e in r)if(e!=="__source"&&!(e in t))return!0;for(var n in t)if(n!=="__source"&&r[n]!==t[n])return!0;return!1}function _o(r){this.props=r}function Hy(r,t){function e(o){var i=this.props.ref,c=i==o.ref;return!c&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!c:Eo(this.props,o)}function n(o){return this.shouldComponentUpdate=e,lr(r,o)}return n.displayName="Memo("+(r.displayName||r.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(_o.prototype=new ur).isPureReactComponent=!0,_o.prototype.shouldComponentUpdate=function(r,t){return Eo(this.props,r)||Eo(this.state,t)};var Ea=ee.__b;ee.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),Ea&&Ea(r)};var qy=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function gu(r){function t(e,n){var o=yu({},e);return delete o.ref,r(o,!(n=e.ref||n)||typeof n=="object"&&Object.keys(n).length===0?null:n)}return t.$$typeof=qy,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(r.displayName||r.name)+")",t}var _a=function(r,t){return r==null?null:gr(gr(r).map(t))},Wy={map:_a,forEach:_a,count:function(r){return r?gr(r).length:0},only:function(r){var t=gr(r);if(t.length!==1)throw"Children.only";return t[0]},toArray:gr},Vy=ee.__e;ee.__e=function(r,t,e,n){if(r.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=e.__e,t.__k=e.__k),o.__c(r,t)}Vy(r,t,e,n)};var Aa=ee.unmount;function fi(){this.__u=0,this.t=null,this.__b=null}function wu(r){var t=r.__.__c;return t&&t.__e&&t.__e(r)}function Ky(r){var t,e,n;function o(i){if(t||(t=r()).then(function(c){e=c.default||c},function(c){n=c}),n)throw n;if(!e)throw t;return lr(e,i)}return o.displayName="Lazy",o.__f=!0,o}function Cn(){this.u=null,this.o=null}ee.unmount=function(r){var t=r.__c;t&&t.__R&&t.__R(),t&&r.__h===!0&&(r.type=null),Aa&&Aa(r)},(fi.prototype=new ur).__c=function(r,t){var e=t.__c,n=this;n.t==null&&(n.t=[]),n.t.push(e);var o=wu(n.__v),i=!1,c=function(){i||(i=!0,e.__R=null,o?o(x):x())};e.__R=c;var x=function(){if(!--n.__u){if(n.state.__e){var k=n.state.__e;n.__v.__k[0]=function K(V,Z,Et){return V&&(V.__v=null,V.__k=V.__k&&V.__k.map(function(Pt){return K(Pt,Z,Et)}),V.__c&&V.__c.__P===Z&&(V.__e&&Et.insertBefore(V.__e,V.__d),V.__c.__e=!0,V.__c.__P=Et)),V}(k,k.__c.__P,k.__c.__O)}var R;for(n.setState({__e:n.__b=null});R=n.t.pop();)R.forceUpdate()}},C=t.__h===!0;n.__u++||C||n.setState({__e:n.__b=n.__v.__k[0]}),r.then(c,c)},fi.prototype.componentWillUnmount=function(){this.t=[]},fi.prototype.render=function(r,t){if(this.__b){if(this.__v.__k){var e=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function i(c,x,C){return c&&(c.__c&&c.__c.__H&&(c.__c.__H.__.forEach(function(k){typeof k.__c=="function"&&k.__c()}),c.__c.__H=null),(c=yu({},c)).__c!=null&&(c.__c.__P===C&&(c.__c.__P=x),c.__c=null),c.__k=c.__k&&c.__k.map(function(k){return i(k,x,C)})),c}(this.__b,e,n.__O=n.__P)}this.__b=null}var o=t.__e&&lr(Ar,null,r.fallback);return o&&(o.__h=null),[lr(Ar,null,t.__e?null:r.children),o]};var Ca=function(r,t,e){if(++e[1]===e[0]&&r.o.delete(t),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.o.size))for(e=r.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;r.u=e=e[2]}};function Gy(r){return this.getChildContext=function(){return r.context},r.children}function Yy(r){var t=this,e=r.i;t.componentWillUnmount=function(){jr(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),r.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,o){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),jr(lr(Gy,{context:t.context},r.__v),t.l)):t.l&&t.componentWillUnmount()}function Xy(r,t){return lr(Yy,{__v:r,i:t})}(Cn.prototype=new ur).__e=function(r){var t=this,e=wu(t.__v),n=t.o.get(r);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),Ca(t,r,n)):o()};e?e(i):i()}},Cn.prototype.render=function(r){this.u=null,this.o=new Map;var t=gr(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return r.children},Cn.prototype.componentDidUpdate=Cn.prototype.componentDidMount=function(){var r=this;this.o.forEach(function(t,e){Ca(r,e,t)})};var bu=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,zy=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Zy=typeof document!="undefined",Jy=function(r){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(r)};function Qy(r,t,e){return t.__k==null&&(t.textContent=""),jr(r,t),typeof e=="function"&&e(),r?r.__c:null}function tg(r,t,e){return Mo(r,t),typeof e=="function"&&e(),r?r.__c:null}ur.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(ur.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(t){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:t})}})});var Ba=ee.event;function eg(){}function rg(){return this.cancelBubble}function ng(){return this.defaultPrevented}ee.event=function(r){return Ba&&(r=Ba(r)),r.persist=eg,r.isPropagationStopped=rg,r.isDefaultPrevented=ng,r.nativeEvent=r};var xu,Ma={configurable:!0,get:function(){return this.class}},Fa=ee.vnode;ee.vnode=function(r){var t=r.type,e=r.props,n=e;if(typeof t=="string"){var o=t.indexOf("-")===-1;for(var i in n={},e){var c=e[i];Zy&&i==="children"&&t==="noscript"||i==="value"&&"defaultValue"in e&&c==null||(i==="defaultValue"&&"value"in e&&e.value==null?i="value":i==="download"&&c===!0?c="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!Jy(e.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&zy.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():c===null&&(c=void 0),n[i]=c)}t=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=gr(e.children).forEach(function(x){x.props.selected=n.value.indexOf(x.props.value)!=-1})),t=="select"&&n.defaultValue!=null&&(n.value=gr(e.children).forEach(function(x){x.props.selected=n.multiple?n.defaultValue.indexOf(x.props.value)!=-1:n.defaultValue==x.props.value})),r.props=n,e.class!=e.className&&(Ma.enumerable="className"in e,e.className!=null&&(n.class=e.className),Object.defineProperty(n,"className",Ma))}r.$$typeof=bu,Fa&&Fa(r)};var Sa=ee.__r;ee.__r=function(r){Sa&&Sa(r),xu=r.__c};var ig={ReactCurrentDispatcher:{current:{readContext:function(r){return xu.__n[r.__c].props.value}}}};function og(r){return lr.bind(null,r)}function Eu(r){return!!r&&r.$$typeof===bu}function sg(r){return Eu(r)?Za.apply(null,arguments):r}function ag(r){return!!r.__k&&(jr(null,r),!0)}function fg(r){return r&&(r.base||r.nodeType===1&&r)||null}var ug=function(r,t){return r(t)},lg=function(r,t){return r(t)},pr={useState:Ve,useReducer:pu,useEffect:tr,useLayoutEffect:Oi,useRef:mr,useImperativeHandle:vu,useMemo:qn,useCallback:Sr,useContext:Ly,useDebugValue:Py,version:"17.0.2",Children:Wy,render:Qy,hydrate:tg,unmountComponentAtNode:ag,createPortal:Xy,createElement:lr,createContext:Ja,createFactory:og,cloneElement:sg,createRef:qa,Fragment:Ar,isValidElement:Eu,findDOMNode:fg,Component:ur,PureComponent:_o,memo:Hy,forwardRef:gu,flushSync:lg,unstable_batchedUpdates:ug,StrictMode:Ar,Suspense:fi,SuspenseList:Cn,lazy:Ky,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ig};function Un(){return Un=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Un.apply(this,arguments)}typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var cg=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?Oi:tr,hg=function(t){var e=mr(t);return cg(function(){e.current=t}),Sr(function(){return e.current},[e])},dg={status:"not-requested",loading:!1,result:void 0,error:void 0},_u={status:"loading",loading:!0,result:void 0,error:void 0},pg=function(t){return _u},vg=function(t,e){return{status:"success",loading:!1,result:t,error:void 0}},mg=function(t,e){return{status:"error",loading:!1,result:void 0,error:t}},Da=function(){},yg={initialState:function(t){return t&&t.executeOnMount?_u:dg},executeOnMount:!0,executeOnUpdate:!0,setLoading:pg,setResult:vg,setError:mg,onSuccess:Da,onError:Da},gg=function(t){return Un({},yg,{},t)},wg=function(t){var e=Ve(function(){return t.initialState(t)}),n=e[0],o=e[1],i=Sr(function(){return o(t.initialState(t))},[o,t]),c=Sr(function(){return o(t.setLoading(n))},[n,o]),x=Sr(function(R){return o(t.setResult(R,n))},[n,o]),C=Sr(function(R){return o(t.setError(R,n))},[n,o]),k=Sr(function(R){return o(Un({},n,{},R))},[n,o]);return{value:n,set:o,merge:k,reset:i,setLoading:c,setResult:x,setError:C}},bg=function(){var t=mr(!1);return tr(function(){return t.current=!0,function(){t.current=!1}},[]),function(){return t.current}},xg=function(){var t=mr(null);return{set:function(n){return t.current=n},get:function(){return t.current},is:function(n){return t.current===n}}},Eg=function(t,e,n){!e&&(e=[]);var o=gg(n),i=Ve(null),c=i[0],x=i[1],C=wg(o),k=bg(),R=xg(),K=function(Nt){return k()&&R.is(Nt)},V=function(){for(var Nt=arguments.length,Ot=new Array(Nt),se=0;se<Nt;se++)Ot[se]=arguments[se];var oe=function(){try{return Promise.resolve(t.apply(void 0,Ot))}catch(Rt){return Promise.reject(Rt)}}();return x(Ot),R.set(oe),C.setLoading(),oe.then(function(Rt){K(oe)&&C.setResult(Rt),o.onSuccess(Rt,{isCurrent:function(){return R.is(oe)}})},function(Rt){K(oe)&&C.setError(Rt),o.onError(Rt,{isCurrent:function(){return R.is(oe)}})}),oe},Z=hg(V),Et=Sr(function(){return Z().apply(void 0,arguments)},[Z]),Pt=!k();return tr(function(){var wt=function(){return Z().apply(void 0,e)};Pt&&o.executeOnMount&&wt(),!Pt&&o.executeOnUpdate&&wt()},e),Un({},C.value,{set:C.set,merge:C.merge,reset:C.reset,execute:Et,currentPromise:R.get(),currentParams:c})};function Ao(r,t,e){return Eg(r,t,e)}const ln={};ln.write=async r=>{await navigator.clipboard.writeText(r)};ln.read=async()=>navigator.clipboard.readText();ln.readSync=()=>{throw new Error("`.readSync()` is not supported in browsers!")};ln.writeSync=()=>{throw new Error("`.writeSync()` is not supported in browsers!")};var _g=Cr(Gu),Au,Cu,Ia=_g,Ag=0;function Ta(r,t,e,n,o){var i,c,x={};for(c in t)c=="ref"?i=t[c]:x[c]=t[c];var C={type:r,props:x,key:e,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Ag,__source:o,__self:n};if(typeof r=="function"&&(i=r.defaultProps))for(c in i)x[c]===void 0&&(x[c]=i[c]);return Ia.options.vnode&&Ia.options.vnode(C),C}Cu=Ta,Au=Ta;const Ht=Cu,Se=Au;function Bu(){return Ht("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 64 64",enableBackground:"new 0 0 64 64",xmlSpace:"preserve",children:Se("g",{id:"Text-files",children:[Ht("path",{d:"M53.9791489,9.1429005H50.010849c-0.0826988,0-0.1562004,0.0283995-0.2331009,0.0469999V5.0228   C49.7777481,2.253,47.4731483,0,44.6398468,0h-34.422596C7.3839517,0,5.0793519,2.253,5.0793519,5.0228v46.8432999   c0,2.7697983,2.3045998,5.0228004,5.1378999,5.0228004h6.0367002v2.2678986C16.253952,61.8274002,18.4702511,64,21.1954517,64   h32.783699c2.7252007,0,4.9414978-2.1725998,4.9414978-4.8432007V13.9861002   C58.9206467,11.3155003,56.7043495,9.1429005,53.9791489,9.1429005z M7.1110516,51.8661003V5.0228   c0-1.6487999,1.3938999-2.9909999,3.1062002-2.9909999h34.422596c1.7123032,0,3.1062012,1.3422,3.1062012,2.9909999v46.8432999   c0,1.6487999-1.393898,2.9911003-3.1062012,2.9911003h-34.422596C8.5049515,54.8572006,7.1110516,53.5149002,7.1110516,51.8661003z    M56.8888474,59.1567993c0,1.550602-1.3055,2.8115005-2.9096985,2.8115005h-32.783699   c-1.6042004,0-2.9097996-1.2608986-2.9097996-2.8115005v-2.2678986h26.3541946   c2.8333015,0,5.1379013-2.2530022,5.1379013-5.0228004V11.1275997c0.0769005,0.0186005,0.1504021,0.0469999,0.2331009,0.0469999   h3.9682999c1.6041985,0,2.9096985,1.2609005,2.9096985,2.8115005V59.1567993z"}),Ht("path",{d:"M38.6031494,13.2063999H16.253952c-0.5615005,0-1.0159006,0.4542999-1.0159006,1.0158005   c0,0.5615997,0.4544001,1.0158997,1.0159006,1.0158997h22.3491974c0.5615005,0,1.0158997-0.4542999,1.0158997-1.0158997   C39.6190491,13.6606998,39.16465,13.2063999,38.6031494,13.2063999z"}),Ht("path",{d:"M38.6031494,21.3334007H16.253952c-0.5615005,0-1.0159006,0.4542999-1.0159006,1.0157986   c0,0.5615005,0.4544001,1.0159016,1.0159006,1.0159016h22.3491974c0.5615005,0,1.0158997-0.454401,1.0158997-1.0159016   C39.6190491,21.7877007,39.16465,21.3334007,38.6031494,21.3334007z"}),Ht("path",{d:"M38.6031494,29.4603004H16.253952c-0.5615005,0-1.0159006,0.4543991-1.0159006,1.0158997   s0.4544001,1.0158997,1.0159006,1.0158997h22.3491974c0.5615005,0,1.0158997-0.4543991,1.0158997-1.0158997   S39.16465,29.4603004,38.6031494,29.4603004z"}),Ht("path",{d:"M28.4444485,37.5872993H16.253952c-0.5615005,0-1.0159006,0.4543991-1.0159006,1.0158997   s0.4544001,1.0158997,1.0159006,1.0158997h12.1904964c0.5615025,0,1.0158005-0.4543991,1.0158005-1.0158997   S29.0059509,37.5872993,28.4444485,37.5872993z"})]})})}function Mu(){return Ht("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 490.4 490.4",style:"enable-background:new 0 0 490.4 490.4;",xmlSpace:"preserve",children:Ht("g",{children:Se("g",{children:[Ht("path",{d:"M245.2,490.4c135.2,0,245.2-110,245.2-245.2S380.4,0,245.2,0S0,110,0,245.2S110,490.4,245.2,490.4z M245.2,24.5    c121.7,0,220.7,99,220.7,220.7s-99,220.7-220.7,220.7s-220.7-99-220.7-220.7S123.5,24.5,245.2,24.5z"}),Ht("path",{d:"M206.5,349.6c2.3,2.3,5.4,3.6,8.7,3.6l0,0c3.2,0,6.3-1.3,8.6-3.6l147.5-146.7c2.3-2.3,3.6-5.4,3.6-8.7    c0-3.2-1.3-6.4-3.6-8.7l-44.6-44.8c-4.8-4.8-12.5-4.8-17.3-0.1l-94,93.5l-34.2-34.4c-2.3-2.3-5.4-3.6-8.7-3.6l0,0    c-3.2,0-6.3,1.3-8.6,3.6l-44.8,44.6c-2.3,2.3-3.6,5.4-3.6,8.7c0,3.2,1.3,6.4,3.6,8.7L206.5,349.6z M172.5,225.7l34.3,34.5    c4.8,4.8,12.5,4.8,17.3,0.1l94-93.5l27.3,27.4L215.3,323.6L145.1,253L172.5,225.7z"})]})})})}function Cg({text:r,className:t="w-6 h-6"}){const[e,n]=Ve(!1);return Ht("button",{className:t,onClick:()=>{ln.write(r),n(!0),setTimeout(()=>{n(!1)},1e3)},children:e?Ht(Mu,{}):Ht(Bu,{})})}const Fu=(r=null,t=!1)=>{const e=r?`?api_key=${r}`:"",n=t?"https://testnet.toncenter.com/api/v2/jsonRPC":"https://toncenter.com/api/v2/jsonRPC";return new fr.HttpProvider(`${n}${e}`)};function ui({address:r,text:t}){const[e,n]=Ve(!1);return Se("div",{class:"flex justify-start items-center cursor-pointer",onClick:()=>{ln.write(r),n(!0),setTimeout(()=>{n(!1)},1e3)},children:[Ht("div",{className:"",children:t}),Ht("div",{className:"text-[12px]",children:r}),Ht("div",{className:"ml-auto",children:Ht("button",{className:"w-6 h-6",children:e?Ht(Mu,{}):Ht(Bu,{})})})]})}function In(){return In=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},In.apply(this,arguments)}var Bg=function(t,e){e===void 0&&(e=!0),tr(function(){if(!!e){var n=function(i){i.key==="Escape"&&t(i)};return document.addEventListener("keyup",n),function(){!e||document.removeEventListener("keyup",n)}}},[t,e])},Mg=function(t,e){e===void 0&&(e=!0),tr(function(){if(!!e){var n=function(){t()};return window.addEventListener("resize",n),function(){!e||window.removeEventListener("resize",n)}}},[t,e])},Fg=function(t,e,n){n===void 0&&(n=!0),tr(function(){if(!!n){var o=function(c){var x=Array.isArray(t)?t:[t],C=!1;x.forEach(function(k){if(!k.current||k.current.contains(c.target)){C=!0;return}}),c.stopPropagation(),C||e(c)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),function(){!n||(document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o))}}},[t,e,n])},Sg=function(t,e){e===void 0&&(e=!0),tr(function(){if(!!e){var n=function(i){if(i.keyCode===9){var c,x=t==null||(c=t.current)===null||c===void 0?void 0:c.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),C=Array.prototype.slice.call(x);if(C.length===1){i.preventDefault();return}var k=C[0],R=C[C.length-1];i.shiftKey&&document.activeElement===k?(i.preventDefault(),R.focus()):document.activeElement===R&&(i.preventDefault(),k.focus())}};return document.addEventListener("keydown",n),function(){!e||document.removeEventListener("keydown",n)}}},[t,e])},Dg=typeof window!="undefined"?Oi:tr,_n={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},Ig=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],Tg=function(t,e,n,o,i){var c=i.offsetX,x=i.offsetY,C=o?8:0,k=n.split(" "),R=t.top+t.height/2,K=t.left+t.width/2,V=e.height,Z=e.width,Et=R-V/2,Pt=K-Z/2,wt="",Nt="0%",Ot="0%";switch(k[0]){case"top":Et-=V/2+t.height/2+C,wt="rotate(180deg)  translateX(50%)",Nt="100%",Ot="50%";break;case"bottom":Et+=V/2+t.height/2+C,wt="rotate(0deg) translateY(-100%) translateX(-50%)",Ot="50%";break;case"left":Pt-=Z/2+t.width/2+C,wt=" rotate(90deg)  translateY(50%) translateX(-25%)",Ot="100%",Nt="50%";break;case"right":Pt+=Z/2+t.width/2+C,wt="rotate(-90deg)  translateY(-150%) translateX(25%)",Nt="50%";break}switch(k[1]){case"top":Et=t.top,Nt=t.height/2+"px";break;case"bottom":Et=t.top-V+t.height,Nt=V-t.height/2+"px";break;case"left":Pt=t.left,Ot=t.width/2+"px";break;case"right":Pt=t.left-Z+t.width,Ot=Z-t.width/2+"px";break}return Et=k[0]==="top"?Et-x:Et+x,Pt=k[0]==="left"?Pt-c:Pt+c,{top:Et,left:Pt,transform:wt,arrowLeft:Ot,arrowTop:Nt}},Ng=function(t){var e={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if(typeof t=="string"){var n=document.querySelector(t);n!==null&&(e=n.getBoundingClientRect())}return e},Rg=function(t,e,n,o,i,c){var x=i.offsetX,C=i.offsetY,k={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},R=0,K=Ng(c),V=Array.isArray(n)?n:[n];for((c||Array.isArray(n))&&(V=[].concat(V,Ig));R<V.length;){k=Tg(t,e,V[R],o,{offsetX:x,offsetY:C});var Z={top:k.top,left:k.left,width:e.width,height:e.height};if(Z.top<=K.top||Z.left<=K.left||Z.top+Z.height>=K.top+K.height||Z.left+Z.width>=K.left+K.width)R++;else break}return k},Ug=0,$g=function(){var t=document.getElementById("popup-root");return t===null&&(t=document.createElement("div"),t.setAttribute("id","popup-root"),document.body.appendChild(t)),t},Su=gu(function(r,t){var e=r.trigger,n=e===void 0?null:e,o=r.onOpen,i=o===void 0?function(){}:o,c=r.onClose,x=c===void 0?function(){}:c,C=r.defaultOpen,k=C===void 0?!1:C,R=r.open,K=R===void 0?void 0:R,V=r.disabled,Z=V===void 0?!1:V,Et=r.nested,Pt=Et===void 0?!1:Et,wt=r.closeOnDocumentClick,Nt=wt===void 0?!0:wt,Ot=r.repositionOnResize,se=Ot===void 0?!0:Ot,oe=r.closeOnEscape,Rt=oe===void 0?!0:oe,re=r.on,ne=re===void 0?["click"]:re,Jt=r.contentStyle,Ae=Jt===void 0?{}:Jt,S=r.arrowStyle,u=S===void 0?{}:S,l=r.overlayStyle,s=l===void 0?{}:l,f=r.className,d=f===void 0?"":f,b=r.position,_=b===void 0?"bottom center":b,E=r.modal,h=E===void 0?!1:E,w=r.lockScroll,v=w===void 0?!1:w,U=r.arrow,lt=U===void 0?!0:U,gt=r.offsetX,mt=gt===void 0?0:gt,Wt=r.offsetY,de=Wt===void 0?0:Wt,jt=r.mouseEnterDelay,ae=jt===void 0?100:jt,he=r.mouseLeaveDelay,Ft=he===void 0?100:he,ce=r.keepTooltipInside,Ee=ce===void 0?!1:ce,Qt=r.children,Ce=Ve(K||k),me=Ce[0],ie=Ce[1],ye=mr(null),fe=mr(null),zt=mr(null),_e=mr(null),pe=mr("popup-"+ ++Ug),Lt=h?!0:!n,be=mr(0);Dg(function(){return me?(_e.current=document.activeElement,Ut(),it(),q()):G(),function(){clearTimeout(be.current)}},[me]),tr(function(){typeof K=="boolean"&&(K?ve():Xt())},[K,Z]);var ve=function(F){me||Z||(ie(!0),setTimeout(function(){return i(F)},0))},Xt=function(F){var N;!me||Z||(ie(!1),Lt&&((N=_e.current)===null||N===void 0||N.focus()),setTimeout(function(){return x(F)},0))},I=function(F){F==null||F.stopPropagation(),me?Xt(F):ve(F)},p=function(F){clearTimeout(be.current),be.current=setTimeout(function(){return ve(F)},ae)},g=function(F){F==null||F.preventDefault(),I()},$=function(F){clearTimeout(be.current),be.current=setTimeout(function(){return Xt(F)},Ft)},q=function(){Lt&&v&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},G=function(){Lt&&v&&(document.getElementsByTagName("body")[0].style.overflow="auto")},it=function(){var F,N=fe==null||(F=fe.current)===null||F===void 0?void 0:F.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),T=Array.prototype.slice.call(N)[0];T==null||T.focus()};vu(t,function(){return{open:function(){ve()},close:function(){Xt()},toggle:function(){I()}}});var Ut=function(){if(!(Lt||!me)&&!(!(ye!=null&&ye.current)||!(ye!=null&&ye.current)||!(fe!=null&&fe.current))){var F=ye.current.getBoundingClientRect(),N=fe.current.getBoundingClientRect(),T=Rg(F,N,_,lt,{offsetX:mt,offsetY:de},Ee);if(fe.current.style.top=T.top+window.scrollY+"px",fe.current.style.left=T.left+window.scrollX+"px",lt&&!!zt.current){var m,B;zt.current.style.transform=T.transform,zt.current.style.setProperty("-ms-transform",T.transform),zt.current.style.setProperty("-webkit-transform",T.transform),zt.current.style.top=((m=u.top)===null||m===void 0?void 0:m.toString())||T.arrowTop,zt.current.style.left=((B=u.left)===null||B===void 0?void 0:B.toString())||T.arrowLeft}}};Bg(Xt,Rt),Sg(fe,me&&Lt),Mg(Ut,se),Fg(n?[fe,ye]:[fe],Xt,Nt&&!Pt);var Tt=function(){for(var F={key:"T",ref:ye,"aria-describedby":pe.current},N=Array.isArray(ne)?ne:[ne],T=0,m=N.length;T<m;T++)switch(N[T]){case"click":F.onClick=I;break;case"right-click":F.onContextMenu=g;break;case"hover":F.onMouseEnter=p,F.onMouseLeave=$;break;case"focus":F.onFocus=p,F.onBlur=$;break}if(typeof n=="function"){var B=n(me);return!!n&&pr.cloneElement(B,F)}return!!n&&pr.cloneElement(n,F)},qt=function(){var F=Lt?_n.popupContent.modal:_n.popupContent.tooltip,N={className:"popup-content "+(d!==""?d.split(" ").map(function(T){return T+"-content"}).join(" "):""),style:In({},F,Ae,{pointerEvents:"auto"}),ref:fe,onClick:function(m){m.stopPropagation()}};return!h&&ne.indexOf("hover")>=0&&(N.onMouseEnter=p,N.onMouseLeave=$),N},Yt=function(){return pr.createElement("div",Object.assign({},qt(),{key:"C",role:Lt?"dialog":"tooltip",id:pe.current}),lt&&!Lt&&pr.createElement("div",{ref:zt,style:_n.popupArrow},pr.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(d!==""?d.split(" ").map(function(F){return F+"-arrow"}).join(" "):""),viewBox:"0 0 32 16",style:In({position:"absolute"},u)},pr.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),Qt&&typeof Qt=="function"?Qt(Xt,me):Qt)},St=!(ne.indexOf("hover")>=0),Be=Lt?_n.overlay.modal:_n.overlay.tooltip,ge=[St&&pr.createElement("div",{key:"O","data-testid":"overlay","data-popup":Lt?"modal":"tooltip",className:"popup-overlay "+(d!==""?d.split(" ").map(function(Vt){return Vt+"-overlay"}).join(" "):""),style:In({},Be,s,{pointerEvents:Nt&&Pt||Lt?"auto":"none"}),onClick:Nt&&Pt?Xt:void 0,tabIndex:-1},Lt&&Yt()),!Lt&&Yt()];return pr.createElement(pr.Fragment,null,Tt(),me&&pr.createPortal(ge,$g()))});const{NftItem:kg}=fr.token.nft;function Og({wallet:r,testnet:t,apiKey:e}){const n=qn(()=>Fu(e,t),[e,t]),[o,i]=Ve("0"),[c,x]=Ve(""),[C,k]=Ve("0"),[R,K]=Ve(""),[V,Z]=Ve(""),[Et,Pt]=Ve("");tr(()=>{i("0"),x(""),k("0")},[r,t]);const wt=Ao(async()=>r?await n.getBalance(r.address.toString(!0,!0,!0)):0,[r,t]);if(!r)return Ht("div",{children:"Click 'Use this wallet' on wallet you want to use"});const Nt=async()=>{const Ot=await r.wallet.methods.seqno().call();k(Ot?Ot.toString():"0")};return Se("div",{children:[Ht("div",{className:"font-medium text-lg text-accent my-2",children:"Wallet:"}),Se("div",{children:["Type: ",r.type]}),Ht("div",{children:Ht(ui,{text:"Address:",address:r.address.toString(!0,!0,!0)})}),Se("div",{children:["Balance: ",wt.result&&fr.utils.fromNano(wt.result)]}),Se("div",{className:"mt-2 flex flex-col",children:[Ht("label",{htmlFor:"amountInput",children:"Seqno:"}),Se("div",{children:[Ht("input",{className:"border rounded p-2",id:"amountInput",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:C,onChange:Ot=>k(Ot.target.value)}),Ht("button",{onClick:Nt,className:"ml-2",children:"Get Seqno"})]})]}),Se("div",{className:"flex flex-col",children:[Ht("div",{className:"font-medium text-lg text-accent my-2",children:"Send TON:"}),Se("div",{className:"mt-2 flex flex-col",children:[Ht("label",{htmlFor:"toInput",children:"Recepient:"}),Ht("input",{className:"border rounded p-2",id:"toInput",type:"text",value:c,onChange:Ot=>x(Ot.target.value)})]}),Se("div",{className:"mt-2 flex flex-col",children:[Ht("label",{htmlFor:"amountInput",children:"Amount:"}),Ht("input",{className:"border rounded p-2",id:"amountInput",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:o,onChange:Ot=>i(Ot.target.value)})]}),Ht(Lg,{amount:o,recepient:c,wallet:r,seqno:C})]}),Se("div",{className:"flex flex-col mt-4",children:[Ht("div",{className:"font-medium text-lg text-accent my-2",children:"Transfer NFT:"}),Se("div",{className:"mt-2 flex flex-col",children:[Ht("label",{htmlFor:"nftAddressInput",children:"NFT Address:"}),Ht("input",{className:"border rounded p-2",id:"nftAddressInput",type:"text",value:R,onChange:Ot=>K(Ot.target.value)})]}),Se("div",{className:"mt-2 flex flex-col",children:[Ht("label",{htmlFor:"nftToInput",children:"Recepient:"}),Ht("input",{className:"border rounded p-2",id:"nftToInput",type:"text",value:V,onChange:Ot=>Z(Ot.target.value)})]}),Se("div",{className:"mt-2 flex flex-col",children:[Ht("label",{htmlFor:"nftMessageInput",children:"Message:"}),Ht("input",{className:"border rounded p-2",id:"nftMessageInput",type:"text",value:Et,onChange:Ot=>Pt(Ot.target.value)})]}),Ht(Pg,{nft:R,recepient:V,wallet:r,seqno:C,provider:n,nftMessage:Et})]})]})}const Lg=({amount:r,recepient:t,wallet:e,seqno:n})=>{const o=async i=>{const c={amount:fr.utils.toNano(r),seqno:parseInt(n),secretKey:e.key.secretKey,toAddress:t,sendMode:3},x=await e.wallet.methods.transfer(c).send();console.log("result",x),i()};return Ht(Su,{trigger:Ht("button",{className:"bg-highlight rounded px-2 py-2 w-48 text-white mt-2",children:"Send"}),modal:!0,close,children:i=>Se("div",{className:"flex flex-col p-4",children:[Se("div",{children:["You will send ",r," TON to ",t,"."]}),Ht("div",{className:"mt-4",children:"Are you sure?"}),Se("div",{className:"flex mt-2",children:[Ht("div",{className:"bg-highlight rounded px-2 py-2 text-white cursor-pointer",onClick:()=>o(i),children:"Yes"}),Ht("div",{className:"bg-highlight rounded px-2 py-2 text-white cursor-pointer ml-8",onClick:()=>i(),children:"Cancel"})]})]})})},Pg=({nft:r,recepient:t,wallet:e,seqno:n,provider:o,nftMessage:i})=>{const c=async x=>{const C=new fr.utils.Address(r),k=fr.utils.toNano(.05),R=new kg(o,{address:C}),K=await e.wallet.methods.transfer({secretKey:e.key.secretKey,toAddress:C,amount:k,seqno:parseInt(n),payload:await R.createTransferBody({newOwnerAddress:new fr.utils.Address(t),forwardAmount:fr.utils.toNano(.02),forwardPayload:new TextEncoder().encode(i),responseAddress:e.address}),sendMode:3}).send();console.log("result",K),x()};return Ht(Su,{trigger:Ht("button",{className:"bg-highlight rounded px-2 py-2 w-48 text-white mt-2",children:"Send"}),modal:!0,close,children:x=>Se("div",{className:"flex flex-col p-4",children:[Se("div",{children:["You will send ",r," NFT to ",t,"."]}),Ht("div",{className:"mt-4",children:"Are you sure?"}),Se("div",{className:"flex mt-2",children:[Ht("div",{className:"bg-highlight rounded px-2 py-2 text-white cursor-pointer",onClick:()=>c(x),children:"Yes"}),Ht("div",{className:"bg-highlight rounded px-2 py-2 text-white cursor-pointer ml-8",onClick:()=>x(),children:"Cancel"})]})]})})};function jg(){const[r,t]=Ve(!1),[e,n]=Ve([]),[o,i]=Ve(void 0),[c,x]=Ve(!0),[C,k]=Ve(""),R=qn(()=>Fu(C,c),[C,c]),K=async()=>{const wt=await ai.exports.generateMnemonic();n(wt),i(void 0)};tr(()=>{if(setTimeout(()=>t(!0),128),window.localStorage){const wt=window.localStorage.getItem("tonwallgen_testnet"),Nt=window.localStorage.getItem("tonwallgen_apikey");wt&&x(wt==="true"),Nt&&k(Nt)}},[]),tr(()=>{!r||window.localStorage&&(window.localStorage.setItem("tonwallgen_testnet",c.toString()),window.localStorage.setItem("tonwallgen_apikey",C))},[C,c]),tr(()=>{e.length===0&&K()},[]);const V=Ao(async()=>await ai.exports.validateMnemonic(e)?ai.exports.mnemonicToKeyPair(e):null,[e]),Et=Ao(async()=>{if(!V.result)return[];const wt=new fr.Wallets.all.v3R1(R,{publicKey:V.result.publicKey}),Nt=await wt.getAddress(),Ot=new fr.Wallets.all.v3R2(R,{publicKey:V.result.publicKey}),se=await Ot.getAddress(),oe=new fr.Wallets.all.v4R2(R,{publicKey:V.result.publicKey}),Rt=await oe.getAddress();return[{type:"v4R2",address:Rt,balance:"0",wallet:oe,key:V.result},{type:"v3R2",address:se,balance:"0",wallet:Ot,key:V.result},{type:"v3R1",address:Nt,balance:"0",wallet:wt,key:V.result}]},[V.result]).result,Pt=wt=>{n(wt.target.value.split(" ")),i(void 0)};return Se("div",{className:"flex justify-center flex-col md:flex-row",children:[Se("div",{className:"md:max-w-xl w-full px-4 flex flex-col mt-8",children:[Ht("h1",{className:"font-bold text-xl text-accent",children:"TON Wallet"}),Se("div",{className:"flex my-2 items-center",children:[Se("div",{children:[Ht("label",{htmlFor:"testnetCheckbox",children:"Testnet: "}),Ht("input",{type:"checkbox",id:"testnetCheckbox",checked:c,onChange:()=>x(!c)})]}),Se("div",{className:"ml-2",children:[Ht("label",{htmlFor:"apiKeyInput",children:"ApiKey: "}),Ht("input",{type:"text",id:"apiKeyInput",className:"border rounded px-2",value:C,onChange:wt=>k(wt.target.value)})]})]}),Se("div",{className:"my-2",children:[Se("label",{htmlFor:"wordsInput",className:"text-accent text-lg font-medium my-2 flex items-center",children:["Words",Ht(Cg,{className:"w-6 h-6 ml-2",text:e.join(" ")})]}),Ht("textarea",{className:"w-full h-24 outline-none",id:"wordsInput",type:"text",onChange:Pt,value:e.join(" ")})]}),Ht("button",{onClick:K,className:"bg-highlight rounded px-2 py-2 w-48 text-white",children:"Generate new words"}),Ht("div",{className:"font-medium text-lg text-accent my-2",children:"Wallets:"}),Et==null?void 0:Et.map(wt=>Se("div",{className:"my-2 flex flex-col border",children:[Se("div",{class:"flex justify-between border-b px-1",children:[Se("div",{className:"",children:["Wallet ",wt.type,Ht("a",{href:Hg(wt.address.toString(!0,!0,!0),c),target:"_blank",rel:"noopener noreferrer",className:"ml-2",children:"Link"})]}),Ht("div",{className:"cursor-pointer",onClick:()=>i(wt),children:"Use this wallet"})]}),Se("div",{className:"px-2 my-2",children:[Ht(ui,{text:"Bouncable:",address:wt.address.toString(!0,!0,!0)}),Ht(ui,{text:"UnBouncable:",address:wt.address.toString(!0,!0,!1)}),Ht(ui,{text:"Raw:",address:wt.address.toString(!1)})]})]},wt.address.toString(!0,!0,!0)))]}),Ht("div",{className:"md:max-w-xl w-full px-4 flex flex-col mt-16",children:Ht(Og,{wallet:o,testnet:c,apiKey:C})})]})}function Hg(r,t){return`https://${t?"testnet.":""}tonscan.org/address/${r}`}jr(Ht(jg,{}),document.getElementById("app"))});export default qg();
